function Yy(i,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in i)){const d=Object.getOwnPropertyDescriptor(l,c);d&&Object.defineProperty(i,c,d.get?d:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function ld(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function yg(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var r=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var c=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(r,l,c.get?c:{enumerable:!0,get:function(){return i[l]}})}),r}var xu={exports:{}},di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Iy(){if(xm)return di;xm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:i,type:l,key:f,ref:c!==void 0?c:null,props:d}}return di.Fragment=n,di.jsx=r,di.jsxs=r,di}var ym;function Ky(){return ym||(ym=1,xu.exports=Iy()),xu.exports}var o=Ky(),yu={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function Qy(){if(bm)return Te;bm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),j=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=j&&C[j]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function F(C,I,se){this.props=C,this.context=I,this.refs=S,this.updater=se||E}F.prototype.isReactComponent={},F.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function q(){}q.prototype=F.prototype;function R(C,I,se){this.props=C,this.context=I,this.refs=S,this.updater=se||E}var re=R.prototype=new q;re.constructor=R,k(re,F.prototype),re.isPureReactComponent=!0;var ce=Array.isArray;function Y(){}var Z={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function W(C,I,se){var he=se.ref;return{$$typeof:i,type:C,key:I,ref:he!==void 0?he:null,props:se}}function X(C,I){return W(C.type,I,C.props)}function oe(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function de(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return I[se]})}var me=/\/+/g;function ue(C,I){return typeof C=="object"&&C!==null&&C.key!=null?de(""+C.key):I.toString(36)}function we(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Y,Y):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,I,se,he,Ne){var Ce=typeof C;(Ce==="undefined"||Ce==="boolean")&&(C=null);var Re=!1;if(C===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(C.$$typeof){case i:case n:Re=!0;break;case y:return Re=C._init,z(Re(C._payload),I,se,he,Ne)}}if(Re)return Ne=Ne(C),Re=he===""?"."+ue(C,0):he,ce(Ne)?(se="",Re!=null&&(se=Re.replace(me,"$&/")+"/"),z(Ne,I,se,"",function(Aa){return Aa})):Ne!=null&&(oe(Ne)&&(Ne=X(Ne,se+(Ne.key==null||C&&C.key===Ne.key?"":(""+Ne.key).replace(me,"$&/")+"/")+Re)),I.push(Ne)),1;Re=0;var ut=he===""?".":he+":";if(ce(C))for(var Xe=0;Xe<C.length;Xe++)he=C[Xe],Ce=ut+ue(he,Xe),Re+=z(he,I,se,Ce,Ne);else if(Xe=w(C),typeof Xe=="function")for(C=Xe.call(C),Xe=0;!(he=C.next()).done;)he=he.value,Ce=ut+ue(he,Xe++),Re+=z(he,I,se,Ce,Ne);else if(Ce==="object"){if(typeof C.then=="function")return z(we(C),I,se,he,Ne);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(C,I,se){if(C==null)return C;var he=[],Ne=0;return z(C,he,"","",function(Ce){return I.call(se,Ce,Ne++)}),he}function ee(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var ge=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Se={map:J,forEach:function(C,I,se){J(C,function(){I.apply(this,arguments)},se)},count:function(C){var I=0;return J(C,function(){I++}),I},toArray:function(C){return J(C,function(I){return I})||[]},only:function(C){if(!oe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Te.Activity=b,Te.Children=Se,Te.Component=F,Te.Fragment=r,Te.Profiler=c,Te.PureComponent=R,Te.StrictMode=l,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Z.H.useMemoCache(C)}},Te.cache=function(C){return function(){return C.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(C,I,se){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var he=k({},C.props),Ne=C.key;if(I!=null)for(Ce in I.key!==void 0&&(Ne=""+I.key),I)!O.call(I,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&I.ref===void 0||(he[Ce]=I[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=se;else if(1<Ce){for(var Re=Array(Ce),ut=0;ut<Ce;ut++)Re[ut]=arguments[ut+2];he.children=Re}return W(C.type,Ne,he)},Te.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},Te.createElement=function(C,I,se){var he,Ne={},Ce=null;if(I!=null)for(he in I.key!==void 0&&(Ce=""+I.key),I)O.call(I,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ne[he]=I[he]);var Re=arguments.length-2;if(Re===1)Ne.children=se;else if(1<Re){for(var ut=Array(Re),Xe=0;Xe<Re;Xe++)ut[Xe]=arguments[Xe+2];Ne.children=ut}if(C&&C.defaultProps)for(he in Re=C.defaultProps,Re)Ne[he]===void 0&&(Ne[he]=Re[he]);return W(C,Ce,Ne)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:m,render:C}},Te.isValidElement=oe,Te.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ee}},Te.memo=function(C,I){return{$$typeof:p,type:C,compare:I===void 0?null:I}},Te.startTransition=function(C){var I=Z.T,se={};Z.T=se;try{var he=C(),Ne=Z.S;Ne!==null&&Ne(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Y,ge)}catch(Ce){ge(Ce)}finally{I!==null&&se.types!==null&&(I.types=se.types),Z.T=I}},Te.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Te.use=function(C){return Z.H.use(C)},Te.useActionState=function(C,I,se){return Z.H.useActionState(C,I,se)},Te.useCallback=function(C,I){return Z.H.useCallback(C,I)},Te.useContext=function(C){return Z.H.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C,I){return Z.H.useDeferredValue(C,I)},Te.useEffect=function(C,I){return Z.H.useEffect(C,I)},Te.useEffectEvent=function(C){return Z.H.useEffectEvent(C)},Te.useId=function(){return Z.H.useId()},Te.useImperativeHandle=function(C,I,se){return Z.H.useImperativeHandle(C,I,se)},Te.useInsertionEffect=function(C,I){return Z.H.useInsertionEffect(C,I)},Te.useLayoutEffect=function(C,I){return Z.H.useLayoutEffect(C,I)},Te.useMemo=function(C,I){return Z.H.useMemo(C,I)},Te.useOptimistic=function(C,I){return Z.H.useOptimistic(C,I)},Te.useReducer=function(C,I,se){return Z.H.useReducer(C,I,se)},Te.useRef=function(C){return Z.H.useRef(C)},Te.useState=function(C){return Z.H.useState(C)},Te.useSyncExternalStore=function(C,I,se){return Z.H.useSyncExternalStore(C,I,se)},Te.useTransition=function(){return Z.H.useTransition()},Te.version="19.2.3",Te}var vm;function od(){return vm||(vm=1,yu.exports=Qy()),yu.exports}var _=od();const Xy=ld(_);var bu={exports:{}},hi={},vu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Jy(){return wm||(wm=1,(function(i){function n(z,J){var ee=z.length;z.push(J);e:for(;0<ee;){var ge=ee-1>>>1,Se=z[ge];if(0<c(Se,J))z[ge]=J,z[ee]=Se,ee=ge;else break e}}function r(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var J=z[0],ee=z.pop();if(ee!==J){z[0]=ee;e:for(var ge=0,Se=z.length,C=Se>>>1;ge<C;){var I=2*(ge+1)-1,se=z[I],he=I+1,Ne=z[he];if(0>c(se,ee))he<Se&&0>c(Ne,se)?(z[ge]=Ne,z[he]=ee,ge=he):(z[ge]=se,z[I]=ee,ge=I);else if(he<Se&&0>c(Ne,ee))z[ge]=Ne,z[he]=ee,ge=he;else break e}}return J}function c(z,J){var ee=z.sortIndex-J.sortIndex;return ee!==0?ee:z.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],y=1,b=null,j=3,w=!1,E=!1,k=!1,S=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function re(z){for(var J=r(p);J!==null;){if(J.callback===null)l(p);else if(J.startTime<=z)l(p),J.sortIndex=J.expirationTime,n(g,J);else break;J=r(p)}}function ce(z){if(k=!1,re(z),!E)if(r(g)!==null)E=!0,Y||(Y=!0,de());else{var J=r(p);J!==null&&we(ce,J.startTime-z)}}var Y=!1,Z=-1,O=5,W=-1;function X(){return S?!0:!(i.unstable_now()-W<O)}function oe(){if(S=!1,Y){var z=i.unstable_now();W=z;var J=!0;try{e:{E=!1,k&&(k=!1,q(Z),Z=-1),w=!0;var ee=j;try{t:{for(re(z),b=r(g);b!==null&&!(b.expirationTime>z&&X());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,j=b.priorityLevel;var Se=ge(b.expirationTime<=z);if(z=i.unstable_now(),typeof Se=="function"){b.callback=Se,re(z),J=!0;break t}b===r(g)&&l(g),re(z)}else l(g);b=r(g)}if(b!==null)J=!0;else{var C=r(p);C!==null&&we(ce,C.startTime-z),J=!1}}break e}finally{b=null,j=ee,w=!1}J=void 0}}finally{J?de():Y=!1}}}var de;if(typeof R=="function")de=function(){R(oe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ue=me.port2;me.port1.onmessage=oe,de=function(){ue.postMessage(null)}}else de=function(){F(oe,0)};function we(z,J){Z=F(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(z){switch(j){case 1:case 2:case 3:var J=3;break;default:J=j}var ee=j;j=J;try{return z()}finally{j=ee}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=j;j=z;try{return J()}finally{j=ee}},i.unstable_scheduleCallback=function(z,J,ee){var ge=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,z={id:y++,callback:J,priorityLevel:z,startTime:ee,expirationTime:Se,sortIndex:-1},ee>ge?(z.sortIndex=ee,n(p,z),r(g)===null&&z===r(p)&&(k?(q(Z),Z=-1):k=!0,we(ce,ee-ge))):(z.sortIndex=Se,n(g,z),E||w||(E=!0,Y||(Y=!0,de()))),z},i.unstable_shouldYield=X,i.unstable_wrapCallback=function(z){var J=j;return function(){var ee=j;j=J;try{return z.apply(this,arguments)}finally{j=ee}}}})(wu)),wu}var jm;function Zy(){return jm||(jm=1,vu.exports=Jy()),vu.exports}var ju={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Wy(){if(_m)return Ot;_m=1;var i=od();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ot.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,y)},Ot.flushSync=function(g){var p=f.T,y=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=y,l.d.f()}},Ot.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Ot.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Ot.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:w}):y==="script"&&l.d.X(g,{crossOrigin:b,integrity:j,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ot.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Ot.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);l.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ot.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Ot.requestFormReset=function(g){l.d.r(g)},Ot.unstable_batchedUpdates=function(g,p){return g(p)},Ot.useFormState=function(g,p,y){return f.H.useFormState(g,p,y)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var km;function eb(){if(km)return ju.exports;km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),ju.exports=Wy(),ju.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function tb(){if(Sm)return hi;Sm=1;var i=Zy(),n=od(),r=eb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return g(u),e;if(h===s)return g(u),t;h=h.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=h;else{for(var x=!1,v=u.child;v;){if(v===a){x=!0,a=u,s=h;break}if(v===s){x=!0,s=u,a=h;break}v=v.sibling}if(!x){for(v=h.child;v;){if(v===a){x=!0,a=h,s=u;break}if(v===s){x=!0,s=h,a=u;break}v=v.sibling}if(!x)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,j=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),R=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case F:return"Profiler";case S:return"StrictMode";case ce:return"Suspense";case Y:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case R:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var we=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],Se=-1;function C(e){return{current:e}}function I(e){0>Se||(e.current=ge[Se],ge[Se]=null,Se--)}function se(e,t){Se++,ge[Se]=e.current,e.current=t}var he=C(null),Ne=C(null),Ce=C(null),Re=C(null);function ut(e,t){switch(se(Ce,t),se(Ne,e),se(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?B0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=B0(t),e=q0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(he),se(he,e)}function Xe(){I(he),I(Ne),I(Ce)}function Aa(e){e.memoizedState!==null&&se(Re,e);var t=he.current,a=q0(t,e.type);t!==a&&(se(Ne,e),se(he,a))}function Je(e){Ne.current===e&&(I(he),I(Ne)),Re.current===e&&(I(Re),li._currentValue=ee)}var De,zt;function Gt(e){if(De===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||"",zt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+e+zt}var Oa=!1;function qa(e,t){if(!e||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var L=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){L=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){L=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),x=h[0],v=h[1];if(x&&v){var N=x.split(`
`),M=v.split(`
`);for(u=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;if(s===N.length||u===M.length)for(s=N.length-1,u=M.length-1;1<=s&&0<=u&&N[s]!==M[u];)u--;for(;1<=s&&0<=u;s--,u--)if(N[s]!==M[u]){if(s!==1||u!==1)do if(s--,u--,0>u||N[s]!==M[u]){var P=`
`+N[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=u);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Gt(a):""}function ga(e,t){switch(e.tag){case 26:case 27:case 5:return Gt(e.type);case 16:return Gt("Lazy");case 13:return e.child!==t&&t!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return qa(e.type,!1);case 11:return qa(e.type.render,!1);case 1:return qa(e.type,!0);case 31:return Gt("Activity");default:return""}}function Ha(e){try{var t="",a=null;do t+=ga(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var pn=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,Da=i.unstable_cancelCallback,pa=i.unstable_shouldYield,Tt=i.unstable_requestPaint,Be=i.unstable_now,kr=i.unstable_getCurrentPriorityLevel,xn=i.unstable_ImmediatePriority,Qn=i.unstable_UserBlockingPriority,xa=i.unstable_NormalPriority,tt=i.unstable_LowPriority,$e=i.unstable_IdlePriority,dt=i.log,Va=i.unstable_setDisableYieldValue,Ct=null,We=null;function At(e){if(typeof dt=="function"&&Va(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ct,e)}catch{}}var wt=Math.clz32?Math.clz32:yn,Ga=Math.log,Pa=Math.LN2;function yn(e){return e>>>=0,e===0?32:31-(Ga(e)/Pa|0)|0}var Ra=256,ta=262144,ya=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~h,s!==0?u=ba(s):(x&=v,x!==0?u=ba(x):a||(a=v&~e,a!==0&&(u=ba(a))))):(v=s&~h,v!==0?u=ba(v):x!==0?u=ba(x):a||(a=s&~e,a!==0&&(u=ba(a)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:u}function Fa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _s(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),e}function vn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ya(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wn(e,t,a,s,u,h){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,N=e.expirationTimes,M=e.hiddenUpdates;for(a=x&~a;0<a;){var P=31-wt(a),Q=1<<P;v[P]=0,N[P]=-1;var L=M[P];if(L!==null)for(M[P]=null,P=0;P<L.length;P++){var H=L[P];H!==null&&(H.lane&=-536870913)}a&=~Q}s!==0&&Sr(e,s,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(x&~t))}function Sr(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ia(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-wt(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function jn(e,t){var a=t&-t;return a=(a&42)!==0?1:Rt(a),(a&(e.suspendedLanes|t))!==0?0:a}function Rt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function va(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function B(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:um(e.type))}function $(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var V=Math.random().toString(36).slice(2),te="__reactFiber$"+V,ne="__reactProps$"+V,le="__reactContainer$"+V,xe="__reactEvents$"+V,T="__reactListeners$"+V,ae="__reactHandles$"+V,G="__reactResources$"+V,ve="__reactMarker$"+V;function qe(e){delete e[te],delete e[ne],delete e[xe],delete e[T],delete e[ae]}function wa(e){var t=e[te];if(t)return t;for(var a=e.parentNode;a;){if(t=a[le]||a[te]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=K0(e);e!==null;){if(a=e[te])return a;e=K0(e)}return t}e=a,a=e.parentNode}return null}function aa(e){if(e=e[te]||e[le]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ft(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ja(e){var t=e[G];return t||(t=e[G]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[ve]=!0}var Ni=new Set,Td={};function Jn(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Td[e]=t,e=0;e<t.length;e++)Ni.add(t[e])}var zp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},Ad={};function Lp(e){return pn.call(Ad,e)?!0:pn.call(Cd,e)?!1:zp.test(e)?Ad[e]=!0:(Cd[e]=!0,!1)}function Ei(e,t,a){if(Lp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ti(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ka(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $p(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(x){a=""+x,h.call(this,x)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function co(e){if(!e._valueTracker){var t=Od(e)?"checked":"value";e._valueTracker=$p(e,t,""+e[t])}}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Od(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bp=/[\n"\\]/g;function ra(e){return e.replace(Bp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uo(e,t,a,s,u,h,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+na(t)):e.value!==""+na(t)&&(e.value=""+na(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?ho(e,x,na(t)):a!=null?ho(e,x,na(a)):s!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+na(v):e.removeAttribute("name")}function Rd(e,t,a,s,u,h,x,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){co(e);return}a=a!=null?""+na(a):"",t=t!=null?""+na(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),co(e)}function ho(e,t,a){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Er(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+na(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Fd(e,t,a){if(t!=null&&(t=""+na(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+na(a):""}function Ud(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(we(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=na(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),co(e)}function Tr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Md(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||qp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&Md(e,u,s)}else for(var h in t)t.hasOwnProperty(h)&&Md(e,h,t[h])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(e){return Vp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qa(){}var mo=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Ar=null;function Ld(e){var t=aa(e);if(t&&(e=t.stateNode)){var a=e[ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(uo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ra(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[ne]||null;if(!u)throw Error(l(90));uo(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Dd(s)}break e;case"textarea":Fd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Er(e,!!a.multiple,t,!1)}}}var po=!1;function $d(e,t,a){if(po)return e(t,a);po=!0;try{var s=e(t);return s}finally{if(po=!1,(Cr!==null||Ar!==null)&&(xl(),Cr&&(t=Cr,e=Ar,Ar=Cr=null,Ld(t),e)))for(t=0;t<e.length;t++)Ld(e[t])}}function ks(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ne]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(Xa)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{xo=!1}var _n=null,yo=null,Oi=null;function Bd(){if(Oi)return Oi;var e,t=yo,a=t.length,s,u="value"in _n?_n.value:_n.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var x=a-e;for(s=1;s<=x&&t[a-s]===u[h-s];s++);return Oi=u.slice(e,1<s?1-s:void 0)}function Di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function qd(){return!1}function Lt(e){function t(a,s,u,h,x){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ri:qd,this.isPropagationStopped=qd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Lt(Zn),Ns=b({},Zn,{view:0,detail:0}),Gp=Lt(Ns),bo,vo,Es,Ui=b({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(bo=e.screenX-Es.screenX,vo=e.screenY-Es.screenY):vo=bo=0,Es=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:vo}}),Hd=Lt(Ui),Pp=b({},Ui,{dataTransfer:0}),Yp=Lt(Pp),Ip=b({},Ns,{relatedTarget:0}),wo=Lt(Ip),Kp=b({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Lt(Kp),Xp=b({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jp=Lt(Xp),Zp=b({},Zn,{data:0}),Vd=Lt(Zp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tx[e])?!!t[e]:!1}function jo(){return ax}var nx=b({},Ns,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rx=Lt(nx),sx=b({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=Lt(sx),ix=b({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),lx=Lt(ix),ox=b({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=Lt(ox),ux=b({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dx=Lt(ux),hx=b({},Zn,{newState:0,oldState:0}),fx=Lt(hx),mx=[9,13,27,32],_o=Xa&&"CompositionEvent"in window,Ts=null;Xa&&"documentMode"in document&&(Ts=document.documentMode);var gx=Xa&&"TextEvent"in window&&!Ts,Pd=Xa&&(!_o||Ts&&8<Ts&&11>=Ts),Yd=" ",Id=!1;function Kd(e,t){switch(e){case"keyup":return mx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function px(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(Id=!0,Yd);case"textInput":return e=t.data,e===Yd&&Id?null:e;default:return null}}function xx(e,t){if(Or)return e==="compositionend"||!_o&&Kd(e,t)?(e=Bd(),Oi=yo=_n=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yx[e.type]:t==="textarea"}function Jd(e,t,a,s){Cr?Ar?Ar.push(s):Ar=[s]:Cr=s,t=kl(t,"onChange"),0<t.length&&(a=new Fi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Cs=null,As=null;function bx(e){F0(e,0)}function Mi(e){var t=Ft(e);if(Dd(t))return e}function Zd(e,t){if(e==="change")return t}var Wd=!1;if(Xa){var ko;if(Xa){var So="oninput"in document;if(!So){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),So=typeof eh.oninput=="function"}ko=So}else ko=!1;Wd=ko&&(!document.documentMode||9<document.documentMode)}function th(){Cs&&(Cs.detachEvent("onpropertychange",ah),As=Cs=null)}function ah(e){if(e.propertyName==="value"&&Mi(As)){var t=[];Jd(t,As,e,go(e)),$d(bx,t)}}function vx(e,t,a){e==="focusin"?(th(),Cs=t,As=a,Cs.attachEvent("onpropertychange",ah)):e==="focusout"&&th()}function wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(As)}function jx(e,t){if(e==="click")return Mi(t)}function _x(e,t){if(e==="input"||e==="change")return Mi(t)}function kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:kx;function Os(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!pn.call(t,u)||!Pt(e[u],t[u]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rh(e,t){var a=nh(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nh(a)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ci(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sx=Xa&&"documentMode"in document&&11>=document.documentMode,Dr=null,Eo=null,Ds=null,To=!1;function lh(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;To||Dr==null||Dr!==Ci(s)||(s=Dr,"selectionStart"in s&&No(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ds&&Os(Ds,s)||(Ds=s,s=kl(Eo,"onSelect"),0<s.length&&(t=new Fi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Dr)))}function Wn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Rr={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Co={},oh={};Xa&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function er(e){if(Co[e])return Co[e];if(!Rr[e])return e;var t=Rr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in oh)return Co[e]=t[a];return e}var ch=er("animationend"),uh=er("animationiteration"),dh=er("animationstart"),Nx=er("transitionrun"),Ex=er("transitionstart"),Tx=er("transitioncancel"),hh=er("transitionend"),fh=new Map,Ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ao.push("scrollEnd");function _a(e,t){fh.set(e,t),Jn(t,[e])}var zi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sa=[],Fr=0,Oo=0;function Li(){for(var e=Fr,t=Oo=Fr=0;t<e;){var a=sa[t];sa[t++]=null;var s=sa[t];sa[t++]=null;var u=sa[t];sa[t++]=null;var h=sa[t];if(sa[t++]=null,s!==null&&u!==null){var x=s.pending;x===null?u.next=u:(u.next=x.next,x.next=u),s.pending=u}h!==0&&mh(a,u,h)}}function $i(e,t,a,s){sa[Fr++]=e,sa[Fr++]=t,sa[Fr++]=a,sa[Fr++]=s,Oo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Do(e,t,a,s){return $i(e,t,a,s),Bi(e)}function tr(e,t){return $i(e,null,null,t),Bi(e)}function mh(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,s=h.alternate,s!==null&&(s.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-wt(a),e=h.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),h):null}function Bi(e){if(50<ei)throw ei=0,qc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ur={};function Cx(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,a,s){return new Cx(e,t,a,s)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ja(e,t){var a=e.alternate;return a===null?(a=Yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,a,s,u,h){var x=0;if(s=e,typeof e=="function")Ro(e)&&(x=1);else if(typeof e=="string")x=Fy(e,a,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Yt(31,a,t,u),e.elementType=W,e.lanes=h,e;case k:return ar(a.children,u,h,t);case S:x=8,u|=24;break;case F:return e=Yt(12,a,t,u|2),e.elementType=F,e.lanes=h,e;case ce:return e=Yt(13,a,t,u),e.elementType=ce,e.lanes=h,e;case Y:return e=Yt(19,a,t,u),e.elementType=Y,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:x=10;break e;case q:x=9;break e;case re:x=11;break e;case Z:x=14;break e;case O:x=16,s=null;break e}x=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Yt(x,a,t,u),t.elementType=e,t.type=s,t.lanes=h,t}function ar(e,t,a,s){return e=Yt(7,e,s,t),e.lanes=a,e}function Fo(e,t,a){return e=Yt(6,e,null,t),e.lanes=a,e}function ph(e){var t=Yt(18,null,null,0);return t.stateNode=e,t}function Uo(e,t,a){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xh=new WeakMap;function ia(e,t){if(typeof e=="object"&&e!==null){var a=xh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ha(t)},xh.set(e,t),t)}return{value:e,source:t,stack:Ha(t)}}var Mr=[],zr=0,Hi=null,Rs=0,la=[],oa=0,kn=null,Ua=1,Ma="";function Za(e,t){Mr[zr++]=Rs,Mr[zr++]=Hi,Hi=e,Rs=t}function yh(e,t,a){la[oa++]=Ua,la[oa++]=Ma,la[oa++]=kn,kn=e;var s=Ua;e=Ma;var u=32-wt(s)-1;s&=~(1<<u),a+=1;var h=32-wt(t)+u;if(30<h){var x=u-u%5;h=(s&(1<<x)-1).toString(32),s>>=x,u-=x,Ua=1<<32-wt(t)+u|a<<u|s,Ma=h+e}else Ua=1<<h|a<<u|s,Ma=e}function Mo(e){e.return!==null&&(Za(e,1),yh(e,1,0))}function zo(e){for(;e===Hi;)Hi=Mr[--zr],Mr[zr]=null,Rs=Mr[--zr],Mr[zr]=null;for(;e===kn;)kn=la[--oa],la[oa]=null,Ma=la[--oa],la[oa]=null,Ua=la[--oa],la[oa]=null}function bh(e,t){la[oa++]=Ua,la[oa++]=Ma,la[oa++]=kn,Ua=t.id,Ma=t.overflow,kn=e}var _t=null,at=null,Le=!1,Sn=null,ca=!1,Lo=Error(l(519));function Nn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(ia(t,e)),Lo}function vh(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[te]=e,t[ne]=s,a){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(a=0;a<ai.length;a++)Ue(ai[a],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Rd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Ud(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||L0(t.textContent,a)?(s.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),s.onScroll!=null&&Ue("scroll",t),s.onScrollEnd!=null&&Ue("scrollend",t),s.onClick!=null&&(t.onclick=Qa),t=!0):t=!1,t||Nn(e,!0)}function wh(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:_t=_t.return}}function Lr(e){if(e!==_t)return!1;if(!Le)return wh(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||au(e.type,e.memoizedProps)),a=!a),a&&at&&Nn(e),wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));at=I0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));at=I0(e)}else t===27?(t=at,Bn(e.type)?(e=lu,lu=null,at=e):at=t):at=_t?da(e.stateNode.nextSibling):null;return!0}function nr(){at=_t=null,Le=!1}function $o(){var e=Sn;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),Sn=null),e}function Fs(e){Sn===null?Sn=[e]:Sn.push(e)}var Bo=C(null),rr=null,Wa=null;function En(e,t,a){se(Bo,t._currentValue),t._currentValue=a}function en(e){e._currentValue=Bo.current,I(Bo)}function qo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Ho(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var x=u.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=u;for(var N=0;N<t.length;N++)if(v.context===t[N]){h.lanes|=a,v=h.alternate,v!==null&&(v.lanes|=a),qo(h.return,a,e),s||(x=null);break e}h=v.next}}else if(u.tag===18){if(x=u.return,x===null)throw Error(l(341));x.lanes|=a,h=x.alternate,h!==null&&(h.lanes|=a),qo(x,a,e),x=null}else x=u.child;if(x!==null)x.return=u;else for(x=u;x!==null;){if(x===e){x=null;break}if(u=x.sibling,u!==null){u.return=x.return,x=u;break}x=x.return}u=x}}function $r(e,t,a,s){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var x=u.alternate;if(x===null)throw Error(l(387));if(x=x.memoizedProps,x!==null){var v=u.type;Pt(u.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(u===Re.current){if(x=u.alternate,x===null)throw Error(l(387));x.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(li):e=[li])}u=u.return}e!==null&&Ho(t,e,a,s),t.flags|=262144}function Vi(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sr(e){rr=e,Wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return jh(rr,e)}function Gi(e,t){return rr===null&&sr(e),jh(e,t)}function jh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wa===null){if(e===null)throw Error(l(308));Wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wa=Wa.next=t;return a}var Ax=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ox=i.unstable_scheduleCallback,Dx=i.unstable_NormalPriority,mt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new Ax,data:new Map,refCount:0}}function Us(e){e.refCount--,e.refCount===0&&Ox(Dx,function(){e.controller.abort()})}var Ms=null,Go=0,Br=0,qr=null;function Rx(e,t){if(Ms===null){var a=Ms=[];Go=0,Br=Ic(),qr={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Go++,t.then(_h,_h),t}function _h(){if(--Go===0&&Ms!==null){qr!==null&&(qr.status="fulfilled");var e=Ms;Ms=null,Br=0,qr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fx(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var kh=z.S;z.S=function(e,t){o0=Be(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rx(e,t),kh!==null&&kh(e,t)};var ir=C(null);function Po(){var e=ir.current;return e!==null?e:Ze.pooledCache}function Pi(e,t){t===null?se(ir,ir.current):se(ir,t.pool)}function Sh(){var e=Po();return e===null?null:{parent:mt._currentValue,pool:e}}var Hr=Error(l(460)),Yo=Error(l(474)),Yi=Error(l(542)),Ii={then:function(){}};function Nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Qa,Qa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e;default:if(typeof t.status=="string")t.then(Qa,Qa);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e}throw or=t,Hr}}function lr(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(or=a,Hr):a}}var or=null;function Th(){if(or===null)throw Error(l(459));var e=or;return or=null,e}function Ch(e){if(e===Hr||e===Yi)throw Error(l(483))}var Vr=null,zs=0;function Ki(e){var t=zs;return zs+=1,Vr===null&&(Vr=[]),Eh(Vr,e,t)}function Ls(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qi(e,t){throw t.$$typeof===j?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ah(e){function t(D,A){if(e){var U=D.deletions;U===null?(D.deletions=[A],D.flags|=16):U.push(A)}}function a(D,A){if(!e)return null;for(;A!==null;)t(D,A),A=A.sibling;return null}function s(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function u(D,A){return D=Ja(D,A),D.index=0,D.sibling=null,D}function h(D,A,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<A?(D.flags|=67108866,A):U):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function x(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function v(D,A,U,K){return A===null||A.tag!==6?(A=Fo(U,D.mode,K),A.return=D,A):(A=u(A,U),A.return=D,A)}function N(D,A,U,K){var _e=U.type;return _e===k?P(D,A,U.props.children,K,U.key):A!==null&&(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&lr(_e)===A.type)?(A=u(A,U.props),Ls(A,U),A.return=D,A):(A=qi(U.type,U.key,U.props,null,D.mode,K),Ls(A,U),A.return=D,A)}function M(D,A,U,K){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=Uo(U,D.mode,K),A.return=D,A):(A=u(A,U.children||[]),A.return=D,A)}function P(D,A,U,K,_e){return A===null||A.tag!==7?(A=ar(U,D.mode,K,_e),A.return=D,A):(A=u(A,U),A.return=D,A)}function Q(D,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Fo(""+A,D.mode,U),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return U=qi(A.type,A.key,A.props,null,D.mode,U),Ls(U,A),U.return=D,U;case E:return A=Uo(A,D.mode,U),A.return=D,A;case O:return A=lr(A),Q(D,A,U)}if(we(A)||de(A))return A=ar(A,D.mode,U,null),A.return=D,A;if(typeof A.then=="function")return Q(D,Ki(A),U);if(A.$$typeof===R)return Q(D,Gi(D,A),U);Qi(D,A)}return null}function L(D,A,U,K){var _e=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _e!==null?null:v(D,A,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===_e?N(D,A,U,K):null;case E:return U.key===_e?M(D,A,U,K):null;case O:return U=lr(U),L(D,A,U,K)}if(we(U)||de(U))return _e!==null?null:P(D,A,U,K,null);if(typeof U.then=="function")return L(D,A,Ki(U),K);if(U.$$typeof===R)return L(D,A,Gi(D,U),K);Qi(D,U)}return null}function H(D,A,U,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(U)||null,v(A,D,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return D=D.get(K.key===null?U:K.key)||null,N(A,D,K,_e);case E:return D=D.get(K.key===null?U:K.key)||null,M(A,D,K,_e);case O:return K=lr(K),H(D,A,U,K,_e)}if(we(K)||de(K))return D=D.get(U)||null,P(A,D,K,_e,null);if(typeof K.then=="function")return H(D,A,U,Ki(K),_e);if(K.$$typeof===R)return H(D,A,U,Gi(A,K),_e);Qi(A,K)}return null}function fe(D,A,U,K){for(var _e=null,He=null,ye=A,Oe=A=0,ze=null;ye!==null&&Oe<U.length;Oe++){ye.index>Oe?(ze=ye,ye=null):ze=ye.sibling;var Ve=L(D,ye,U[Oe],K);if(Ve===null){ye===null&&(ye=ze);break}e&&ye&&Ve.alternate===null&&t(D,ye),A=h(Ve,A,Oe),He===null?_e=Ve:He.sibling=Ve,He=Ve,ye=ze}if(Oe===U.length)return a(D,ye),Le&&Za(D,Oe),_e;if(ye===null){for(;Oe<U.length;Oe++)ye=Q(D,U[Oe],K),ye!==null&&(A=h(ye,A,Oe),He===null?_e=ye:He.sibling=ye,He=ye);return Le&&Za(D,Oe),_e}for(ye=s(ye);Oe<U.length;Oe++)ze=H(ye,D,Oe,U[Oe],K),ze!==null&&(e&&ze.alternate!==null&&ye.delete(ze.key===null?Oe:ze.key),A=h(ze,A,Oe),He===null?_e=ze:He.sibling=ze,He=ze);return e&&ye.forEach(function(Pn){return t(D,Pn)}),Le&&Za(D,Oe),_e}function ke(D,A,U,K){if(U==null)throw Error(l(151));for(var _e=null,He=null,ye=A,Oe=A=0,ze=null,Ve=U.next();ye!==null&&!Ve.done;Oe++,Ve=U.next()){ye.index>Oe?(ze=ye,ye=null):ze=ye.sibling;var Pn=L(D,ye,Ve.value,K);if(Pn===null){ye===null&&(ye=ze);break}e&&ye&&Pn.alternate===null&&t(D,ye),A=h(Pn,A,Oe),He===null?_e=Pn:He.sibling=Pn,He=Pn,ye=ze}if(Ve.done)return a(D,ye),Le&&Za(D,Oe),_e;if(ye===null){for(;!Ve.done;Oe++,Ve=U.next())Ve=Q(D,Ve.value,K),Ve!==null&&(A=h(Ve,A,Oe),He===null?_e=Ve:He.sibling=Ve,He=Ve);return Le&&Za(D,Oe),_e}for(ye=s(ye);!Ve.done;Oe++,Ve=U.next())Ve=H(ye,D,Oe,Ve.value,K),Ve!==null&&(e&&Ve.alternate!==null&&ye.delete(Ve.key===null?Oe:Ve.key),A=h(Ve,A,Oe),He===null?_e=Ve:He.sibling=Ve,He=Ve);return e&&ye.forEach(function(Py){return t(D,Py)}),Le&&Za(D,Oe),_e}function Qe(D,A,U,K){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var _e=U.key;A!==null;){if(A.key===_e){if(_e=U.type,_e===k){if(A.tag===7){a(D,A.sibling),K=u(A,U.props.children),K.return=D,D=K;break e}}else if(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&lr(_e)===A.type){a(D,A.sibling),K=u(A,U.props),Ls(K,U),K.return=D,D=K;break e}a(D,A);break}else t(D,A);A=A.sibling}U.type===k?(K=ar(U.props.children,D.mode,K,U.key),K.return=D,D=K):(K=qi(U.type,U.key,U.props,null,D.mode,K),Ls(K,U),K.return=D,D=K)}return x(D);case E:e:{for(_e=U.key;A!==null;){if(A.key===_e)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){a(D,A.sibling),K=u(A,U.children||[]),K.return=D,D=K;break e}else{a(D,A);break}else t(D,A);A=A.sibling}K=Uo(U,D.mode,K),K.return=D,D=K}return x(D);case O:return U=lr(U),Qe(D,A,U,K)}if(we(U))return fe(D,A,U,K);if(de(U)){if(_e=de(U),typeof _e!="function")throw Error(l(150));return U=_e.call(U),ke(D,A,U,K)}if(typeof U.then=="function")return Qe(D,A,Ki(U),K);if(U.$$typeof===R)return Qe(D,A,Gi(D,U),K);Qi(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(a(D,A.sibling),K=u(A,U),K.return=D,D=K):(a(D,A),K=Fo(U,D.mode,K),K.return=D,D=K),x(D)):a(D,A)}return function(D,A,U,K){try{zs=0;var _e=Qe(D,A,U,K);return Vr=null,_e}catch(ye){if(ye===Hr||ye===Yi)throw ye;var He=Yt(29,ye,null,D.mode);return He.lanes=K,He.return=D,He}finally{}}}var cr=Ah(!0),Oh=Ah(!1),Tn=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function An(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Bi(e),mh(e,null,a),t}return $i(e,s,t,a),Bi(e)}function $s(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ia(e,a)}}function Qo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=x:h=h.next=x,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Xo=!1;function Bs(){if(Xo){var e=qr;if(e!==null)throw e}}function qs(e,t,a,s){Xo=!1;var u=e.updateQueue;Tn=!1;var h=u.firstBaseUpdate,x=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var N=v,M=N.next;N.next=null,x===null?h=M:x.next=M,x=N;var P=e.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==x&&(v===null?P.firstBaseUpdate=M:v.next=M,P.lastBaseUpdate=N))}if(h!==null){var Q=u.baseState;x=0,P=M=N=null,v=h;do{var L=v.lane&-536870913,H=L!==v.lane;if(H?(Me&L)===L:(s&L)===L){L!==0&&L===Br&&(Xo=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var fe=e,ke=v;L=t;var Qe=a;switch(ke.tag){case 1:if(fe=ke.payload,typeof fe=="function"){Q=fe.call(Qe,Q,L);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ke.payload,L=typeof fe=="function"?fe.call(Qe,Q,L):fe,L==null)break e;Q=b({},Q,L);break e;case 2:Tn=!0}}L=v.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[L]:H.push(L))}else H={lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(M=P=H,N=Q):P=P.next=H,x|=L;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;H=v,v=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);P===null&&(N=Q),u.baseState=N,u.firstBaseUpdate=M,u.lastBaseUpdate=P,h===null&&(u.shared.lanes=0),Un|=x,e.lanes=x,e.memoizedState=Q}}function Dh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dh(a[e],t)}var Gr=C(null),Xi=C(0);function Fh(e,t){e=un,se(Xi,e),se(Gr,t),un=e|t.baseLanes}function Jo(){se(Xi,un),se(Gr,Gr.current)}function Zo(){un=Xi.current,I(Gr),I(Xi)}var It=C(null),ua=null;function On(e){var t=e.alternate;se(ht,ht.current&1),se(It,e),ua===null&&(t===null||Gr.current!==null||t.memoizedState!==null)&&(ua=e)}function Wo(e){se(ht,ht.current),se(It,e),ua===null&&(ua=e)}function Uh(e){e.tag===22?(se(ht,ht.current),se(It,e),ua===null&&(ua=e)):Dn()}function Dn(){se(ht,ht.current),se(It,It.current)}function Kt(e){I(It),ua===e&&(ua=null),I(ht)}var ht=C(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||su(a)||iu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tn=0,Ae=null,Ie=null,gt=null,Zi=!1,Pr=!1,ur=!1,Wi=0,Hs=0,Yr=null,Ux=0;function ot(){throw Error(l(321))}function ec(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Pt(e[a],t[a]))return!1;return!0}function tc(e,t,a,s,u,h){return tn=h,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?bf:pc,ur=!1,h=a(s,u),ur=!1,Pr&&(h=zh(t,a,s,u)),Mh(e),h}function Mh(e){z.H=Ps;var t=Ie!==null&&Ie.next!==null;if(tn=0,gt=Ie=Ae=null,Zi=!1,Hs=0,Yr=null,t)throw Error(l(300));e===null||pt||(e=e.dependencies,e!==null&&Vi(e)&&(pt=!0))}function zh(e,t,a,s){Ae=e;var u=0;do{if(Pr&&(Yr=null),Hs=0,Pr=!1,25<=u)throw Error(l(301));if(u+=1,gt=Ie=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=vf,h=t(a,s)}while(Pr);return h}function Mx(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Vs(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(Ae.flags|=1024),t}function ac(){var e=Wi!==0;return Wi=0,e}function nc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function rc(e){if(Zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zi=!1}tn=0,gt=Ie=Ae=null,Pr=!1,Hs=Wi=0,Yr=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ae.memoizedState=gt=e:gt=gt.next=e,gt}function ft(){if(Ie===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=gt===null?Ae.memoizedState:gt.next;if(t!==null)gt=t,Ie=e;else{if(e===null)throw Ae.alternate===null?Error(l(467)):Error(l(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},gt===null?Ae.memoizedState=gt=e:gt=gt.next=e}return gt}function el(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(e){var t=Hs;return Hs+=1,Yr===null&&(Yr=[]),e=Eh(Yr,e,t),t=Ae,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?bf:pc),e}function tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vs(e);if(e.$$typeof===R)return kt(e)}throw Error(l(438,String(e)))}function sc(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=el(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=X;return t.index++,a}function an(e,t){return typeof t=="function"?t(e):t}function al(e){var t=ft();return ic(t,Ie,e)}function ic(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,h=s.pending;if(h!==null){if(u!==null){var x=u.next;u.next=h.next,h.next=x}t.baseQueue=u=h,s.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var v=x=null,N=null,M=t,P=!1;do{var Q=M.lane&-536870913;if(Q!==M.lane?(Me&Q)===Q:(tn&Q)===Q){var L=M.revertLane;if(L===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Q===Br&&(P=!0);else if((tn&L)===L){M=M.next,L===Br&&(P=!0);continue}else Q={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},N===null?(v=N=Q,x=h):N=N.next=Q,Ae.lanes|=L,Un|=L;Q=M.action,ur&&a(h,Q),h=M.hasEagerState?M.eagerState:a(h,Q)}else L={lane:Q,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},N===null?(v=N=L,x=h):N=N.next=L,Ae.lanes|=Q,Un|=Q;M=M.next}while(M!==null&&M!==t);if(N===null?x=h:N.next=v,!Pt(h,e.memoizedState)&&(pt=!0,P&&(a=qr,a!==null)))throw a;e.memoizedState=h,e.baseState=x,e.baseQueue=N,s.lastRenderedState=h}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function lc(e){var t=ft(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var x=u=u.next;do h=e(h,x.action),x=x.next;while(x!==u);Pt(h,t.memoizedState)||(pt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,s]}function Lh(e,t,a){var s=Ae,u=ft(),h=Le;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=t();var x=!Pt((Ie||u).memoizedState,a);if(x&&(u.memoizedState=a,pt=!0),u=u.queue,uc(qh.bind(null,s,u,e),[e]),u.getSnapshot!==t||x||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,Ir(9,{destroy:void 0},Bh.bind(null,s,u,a,t),null),Ze===null)throw Error(l(349));h||(tn&127)!==0||$h(s,t,a)}return a}function $h(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=el(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bh(e,t,a,s){t.value=a,t.getSnapshot=s,Hh(t)&&Vh(e)}function qh(e,t,a){return a(function(){Hh(t)&&Vh(e)})}function Hh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Pt(e,a)}catch{return!0}}function Vh(e){var t=tr(e,2);t!==null&&Vt(t,e,2)}function oc(e){var t=Ut();if(typeof e=="function"){var a=e;if(e=a(),ur){At(!0);try{a()}finally{At(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function Gh(e,t,a,s){return e.baseState=a,ic(e,Ie,typeof s=="function"?s:an)}function zx(e,t,a,s,u){if(sl(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){h.listeners.push(x)}};z.T!==null?a(!0):h.isTransition=!1,s(h),a=t.pending,a===null?(h.next=t.pending=h,Ph(t,h)):(h.next=a.next,t.pending=a.next=h)}}function Ph(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var h=z.T,x={};z.T=x;try{var v=a(u,s),N=z.S;N!==null&&N(x,v),Yh(e,t,v)}catch(M){cc(e,t,M)}finally{h!==null&&x.types!==null&&(h.types=x.types),z.T=h}}else try{h=a(u,s),Yh(e,t,h)}catch(M){cc(e,t,M)}}function Yh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ih(e,t,s)},function(s){return cc(e,t,s)}):Ih(e,t,a)}function Ih(e,t,a){t.status="fulfilled",t.value=a,Kh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ph(e,a)))}function cc(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Kh(t),t=t.next;while(t!==s)}e.action=null}function Kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qh(e,t){return t}function Xh(e,t){if(Le){var a=Ze.formState;if(a!==null){e:{var s=Ae;if(Le){if(at){t:{for(var u=at,h=ca;u.nodeType!==8;){if(!h){u=null;break t}if(u=da(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){at=da(u.nextSibling),s=u.data==="F!";break e}}Nn(s)}s=!1}s&&(t=a[0])}}return a=Ut(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:t},a.queue=s,a=pf.bind(null,Ae,s),s.dispatch=a,s=oc(!1),h=gc.bind(null,Ae,!1,s.queue),s=Ut(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=zx.bind(null,Ae,u,h,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Jh(e){var t=ft();return Zh(t,Ie,e)}function Zh(e,t,a){if(t=ic(e,t,Qh)[0],e=al(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Vs(t)}catch(x){throw x===Hr?Yi:x}else s=t;t=ft();var u=t.queue,h=u.dispatch;return a!==t.memoizedState&&(Ae.flags|=2048,Ir(9,{destroy:void 0},Lx.bind(null,u,a),null)),[s,h,e]}function Lx(e,t){e.action=t}function Wh(e){var t=ft(),a=Ie;if(a!==null)return Zh(t,a,e);ft(),t=t.memoizedState,a=ft();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ir(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=el(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function ef(){return ft().memoizedState}function nl(e,t,a,s){var u=Ut();Ae.flags|=e,u.memoizedState=Ir(1|t,{destroy:void 0},a,s===void 0?null:s)}function rl(e,t,a,s){var u=ft();s=s===void 0?null:s;var h=u.memoizedState.inst;Ie!==null&&s!==null&&ec(s,Ie.memoizedState.deps)?u.memoizedState=Ir(t,h,a,s):(Ae.flags|=e,u.memoizedState=Ir(1|t,h,a,s))}function tf(e,t){nl(8390656,8,e,t)}function uc(e,t){rl(2048,8,e,t)}function $x(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=el(),Ae.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function af(e){var t=ft().memoizedState;return $x({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function nf(e,t){return rl(4,2,e,t)}function rf(e,t){return rl(4,4,e,t)}function sf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,a){a=a!=null?a.concat([e]):null,rl(4,4,sf.bind(null,t,e),a)}function dc(){}function of(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&ec(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function cf(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&ec(t,s[1]))return s[0];if(s=e(),ur){At(!0);try{e()}finally{At(!1)}}return a.memoizedState=[s,t],s}function hc(e,t,a){return a===void 0||(tn&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=u0(),Ae.lanes|=e,Un|=e,a)}function uf(e,t,a,s){return Pt(a,t)?a:Gr.current!==null?(e=hc(e,a,s),Pt(e,t)||(pt=!0),e):(tn&42)===0||(tn&1073741824)!==0&&(Me&261930)===0?(pt=!0,e.memoizedState=a):(e=u0(),Ae.lanes|=e,Un|=e,t)}function df(e,t,a,s,u){var h=J.p;J.p=h!==0&&8>h?h:8;var x=z.T,v={};z.T=v,gc(e,!1,t,a);try{var N=u(),M=z.S;if(M!==null&&M(v,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var P=Fx(N,s);Gs(e,t,P,Jt(e))}else Gs(e,t,s,Jt(e))}catch(Q){Gs(e,t,{then:function(){},status:"rejected",reason:Q},Jt())}finally{J.p=h,x!==null&&v.types!==null&&(x.types=v.types),z.T=x}}function Bx(){}function fc(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=hf(e).queue;df(e,u,t,ee,a===null?Bx:function(){return ff(e),a(s)})}function hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ff(e){var t=hf(e);t.next===null&&(t=e.alternate.memoizedState),Gs(e,t.next.queue,{},Jt())}function mc(){return kt(li)}function mf(){return ft().memoizedState}function gf(){return ft().memoizedState}function qx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Jt();e=Cn(a);var s=An(t,e,a);s!==null&&(Vt(s,t,a),$s(s,t,a)),t={cache:Vo()},e.payload=t;return}t=t.return}}function Hx(e,t,a){var s=Jt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sl(e)?xf(t,a):(a=Do(e,t,a,s),a!==null&&(Vt(a,e,s),yf(a,t,s)))}function pf(e,t,a){var s=Jt();Gs(e,t,a,s)}function Gs(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sl(e))xf(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var x=t.lastRenderedState,v=h(x,a);if(u.hasEagerState=!0,u.eagerState=v,Pt(v,x))return $i(e,t,u,0),Ze===null&&Li(),!1}catch{}finally{}if(a=Do(e,t,u,s),a!==null)return Vt(a,e,s),yf(a,t,s),!0}return!1}function gc(e,t,a,s){if(s={lane:2,revertLane:Ic(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sl(e)){if(t)throw Error(l(479))}else t=Do(e,a,s,2),t!==null&&Vt(t,e,2)}function sl(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function xf(e,t){Pr=Zi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function yf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ia(e,a)}}var Ps={readContext:kt,use:tl,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Ps.useEffectEvent=ot;var bf={readContext:kt,use:tl,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:tf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,nl(4194308,4,sf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){nl(4,2,e,t)},useMemo:function(e,t){var a=Ut();t=t===void 0?null:t;var s=e();if(ur){At(!0);try{e()}finally{At(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ut();if(a!==void 0){var u=a(t);if(ur){At(!0);try{a(t)}finally{At(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=Hx.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=oc(e);var t=e.queue,a=pf.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:dc,useDeferredValue:function(e,t){var a=Ut();return hc(a,e,t)},useTransition:function(){var e=oc(!1);return e=df.bind(null,Ae,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ae,u=Ut();if(Le){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ze===null)throw Error(l(349));(Me&127)!==0||$h(s,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,tf(qh.bind(null,s,h,e),[e]),s.flags|=2048,Ir(9,{destroy:void 0},Bh.bind(null,s,h,a,t),null),a},useId:function(){var e=Ut(),t=Ze.identifierPrefix;if(Le){var a=Ma,s=Ua;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Wi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ux++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mc,useFormState:Xh,useActionState:Xh,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=gc.bind(null,Ae,!0,a),a.dispatch=t,[e,t]},useMemoCache:sc,useCacheRefresh:function(){return Ut().memoizedState=qx.bind(null,Ae)},useEffectEvent:function(e){var t=Ut(),a={impl:e};return t.memoizedState=a,function(){if((Ge&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},pc={readContext:kt,use:tl,useCallback:of,useContext:kt,useEffect:uc,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:cf,useReducer:al,useRef:ef,useState:function(){return al(an)},useDebugValue:dc,useDeferredValue:function(e,t){var a=ft();return uf(a,Ie.memoizedState,e,t)},useTransition:function(){var e=al(an)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Vs(e),t]},useSyncExternalStore:Lh,useId:mf,useHostTransitionStatus:mc,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,t){var a=ft();return Gh(a,Ie,e,t)},useMemoCache:sc,useCacheRefresh:gf};pc.useEffectEvent=af;var vf={readContext:kt,use:tl,useCallback:of,useContext:kt,useEffect:uc,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:cf,useReducer:lc,useRef:ef,useState:function(){return lc(an)},useDebugValue:dc,useDeferredValue:function(e,t){var a=ft();return Ie===null?hc(a,e,t):uf(a,Ie.memoizedState,e,t)},useTransition:function(){var e=lc(an)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Vs(e),t]},useSyncExternalStore:Lh,useId:mf,useHostTransitionStatus:mc,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,t){var a=ft();return Ie!==null?Gh(a,Ie,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sc,useCacheRefresh:gf};vf.useEffectEvent=af;function xc(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Jt(),u=Cn(s);u.payload=t,a!=null&&(u.callback=a),t=An(e,u,s),t!==null&&(Vt(t,e,s),$s(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Jt(),u=Cn(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=An(e,u,s),t!==null&&(Vt(t,e,s),$s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Jt(),s=Cn(a);s.tag=2,t!=null&&(s.callback=t),t=An(e,s,a),t!==null&&(Vt(t,e,a),$s(t,e,a))}};function wf(e,t,a,s,u,h,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,x):t.prototype&&t.prototype.isPureReactComponent?!Os(a,s)||!Os(u,h):!0}function jf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&yc.enqueueReplaceState(t,t.state,null)}function dr(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function _f(e){zi(e)}function kf(e){console.error(e)}function Sf(e){zi(e)}function il(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Nf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function bc(e,t,a){return a=Cn(a),a.tag=3,a.payload={element:null},a.callback=function(){il(e,t)},a}function Ef(e){return e=Cn(e),e.tag=3,e}function Tf(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;e.payload=function(){return u(h)},e.callback=function(){Nf(t,a,s)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Nf(t,a,s),typeof u!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Vx(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&$r(t,a,u,!0),a=It.current,a!==null){switch(a.tag){case 31:case 13:return ua===null?yl():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===Ii?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Gc(e,s,u)),!1;case 22:return a.flags|=65536,s===Ii?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Gc(e,s,u)),!1}throw Error(l(435,a.tag))}return Gc(e,s,u),yl(),!1}if(Le)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Lo&&(e=Error(l(422),{cause:s}),Fs(ia(e,a)))):(s!==Lo&&(t=Error(l(423),{cause:s}),Fs(ia(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=ia(s,a),u=bc(e.stateNode,s,u),Qo(e,u),ct!==4&&(ct=2)),!1;var h=Error(l(520),{cause:s});if(h=ia(h,a),Ws===null?Ws=[h]:Ws.push(h),ct!==4&&(ct=2),t===null)return!0;s=ia(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=bc(a.stateNode,s,e),Qo(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mn===null||!Mn.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Ef(u),Tf(u,e,a,s),Qo(a,u),!1}a=a.return}while(a!==null);return!1}var vc=Error(l(461)),pt=!1;function St(e,t,a,s){t.child=e===null?Oh(t,null,a,s):cr(t,e.child,a,s)}function Cf(e,t,a,s,u){a=a.render;var h=t.ref;if("ref"in s){var x={};for(var v in s)v!=="ref"&&(x[v]=s[v])}else x=s;return sr(t),s=tc(e,t,a,x,h,u),v=ac(),e!==null&&!pt?(nc(e,t,u),nn(e,t,u)):(Le&&v&&Mo(t),t.flags|=1,St(e,t,s,u),t.child)}function Af(e,t,a,s,u){if(e===null){var h=a.type;return typeof h=="function"&&!Ro(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,Of(e,t,h,s,u)):(e=qi(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Tc(e,u)){var x=h.memoizedProps;if(a=a.compare,a=a!==null?a:Os,a(x,s)&&e.ref===t.ref)return nn(e,t,u)}return t.flags|=1,e=Ja(h,s),e.ref=t.ref,e.return=t,t.child=e}function Of(e,t,a,s,u){if(e!==null){var h=e.memoizedProps;if(Os(h,s)&&e.ref===t.ref)if(pt=!1,t.pendingProps=s=h,Tc(e,u))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,nn(e,t,u)}return wc(e,t,a,s,u)}function Df(e,t,a,s){var u=s.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~h}else s=0,t.child=null;return Rf(e,t,h,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pi(t,h!==null?h.cachePool:null),h!==null?Fh(t,h):Jo(),Uh(t);else return s=t.lanes=536870912,Rf(e,t,h!==null?h.baseLanes|a:a,a,s)}else h!==null?(Pi(t,h.cachePool),Fh(t,h),Dn(),t.memoizedState=null):(e!==null&&Pi(t,null),Jo(),Dn());return St(e,t,u,a),t.child}function Ys(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rf(e,t,a,s,u){var h=Po();return h=h===null?null:{parent:mt._currentValue,pool:h},t.memoizedState={baseLanes:a,cachePool:h},e!==null&&Pi(t,null),Jo(),Uh(t),e!==null&&$r(e,t,s,!0),t.childLanes=u,null}function ll(e,t){return t=cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ff(e,t,a){return cr(t,e.child,null,a),e=ll(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function Gx(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=ll(t,s),t.lanes=536870912,Ys(null,e);if(Wo(t),(e=at)?(e=Y0(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:Ua,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=ph(e),a.return=t,t.child=a,_t=t,at=null)):e=null,e===null)throw Nn(t);return t.lanes=536870912,null}return ll(t,s)}var h=e.memoizedState;if(h!==null){var x=h.dehydrated;if(Wo(t),u)if(t.flags&256)t.flags&=-257,t=Ff(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(pt||$r(e,t,a,!1),u=(a&e.childLanes)!==0,pt||u){if(s=Ze,s!==null&&(x=jn(s,a),x!==0&&x!==h.retryLane))throw h.retryLane=x,tr(e,x),Vt(s,e,x),vc;yl(),t=Ff(e,t,a)}else e=h.treeContext,at=da(x.nextSibling),_t=t,Le=!0,Sn=null,ca=!1,e!==null&&bh(t,e),t=ll(t,s),t.flags|=4096;return t}return e=Ja(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ol(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function wc(e,t,a,s,u){return sr(t),a=tc(e,t,a,s,void 0,u),s=ac(),e!==null&&!pt?(nc(e,t,u),nn(e,t,u)):(Le&&s&&Mo(t),t.flags|=1,St(e,t,a,u),t.child)}function Uf(e,t,a,s,u,h){return sr(t),t.updateQueue=null,a=zh(t,s,a,u),Mh(e),s=ac(),e!==null&&!pt?(nc(e,t,h),nn(e,t,h)):(Le&&s&&Mo(t),t.flags|=1,St(e,t,a,h),t.child)}function Mf(e,t,a,s,u){if(sr(t),t.stateNode===null){var h=Ur,x=a.contextType;typeof x=="object"&&x!==null&&(h=kt(x)),h=new a(s,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=s,h.state=t.memoizedState,h.refs={},Io(t),x=a.contextType,h.context=typeof x=="object"&&x!==null?kt(x):Ur,h.state=t.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(xc(t,a,x,s),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(x=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),x!==h.state&&yc.enqueueReplaceState(h,h.state,null),qs(t,s,h,u),Bs(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){h=t.stateNode;var v=t.memoizedProps,N=dr(a,v);h.props=N;var M=h.context,P=a.contextType;x=Ur,typeof P=="object"&&P!==null&&(x=kt(P));var Q=a.getDerivedStateFromProps;P=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||M!==x)&&jf(t,h,s,x),Tn=!1;var L=t.memoizedState;h.state=L,qs(t,s,h,u),Bs(),M=t.memoizedState,v||L!==M||Tn?(typeof Q=="function"&&(xc(t,a,Q,s),M=t.memoizedState),(N=Tn||wf(t,a,N,s,L,M,x))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=M),h.props=s,h.state=M,h.context=x,s=N):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Ko(e,t),x=t.memoizedProps,P=dr(a,x),h.props=P,Q=t.pendingProps,L=h.context,M=a.contextType,N=Ur,typeof M=="object"&&M!==null&&(N=kt(M)),v=a.getDerivedStateFromProps,(M=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==Q||L!==N)&&jf(t,h,s,N),Tn=!1,L=t.memoizedState,h.state=L,qs(t,s,h,u),Bs();var H=t.memoizedState;x!==Q||L!==H||Tn||e!==null&&e.dependencies!==null&&Vi(e.dependencies)?(typeof v=="function"&&(xc(t,a,v,s),H=t.memoizedState),(P=Tn||wf(t,a,P,s,L,H,N)||e!==null&&e.dependencies!==null&&Vi(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,N)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=H),h.props=s,h.state=H,h.context=N,s=P):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return h=s,ol(e,t),s=(t.flags&128)!==0,h||s?(h=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&s?(t.child=cr(t,e.child,null,u),t.child=cr(t,null,a,u)):St(e,t,a,u),t.memoizedState=h.state,e=t.child):e=nn(e,t,u),e}function zf(e,t,a,s){return nr(),t.flags|=256,St(e,t,a,s),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:Sh()}}function kc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Xt),e}function Lf(e,t,a){var s=t.pendingProps,u=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),x&&(u=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(u?On(t):Dn(),(e=at)?(e=Y0(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:Ua,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},a=ph(e),a.return=t,t.child=a,_t=t,at=null)):e=null,e===null)throw Nn(t);return iu(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,u?(Dn(),u=t.mode,v=cl({mode:"hidden",children:v},u),s=ar(s,u,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=_c(a),s.childLanes=kc(e,x,a),t.memoizedState=jc,Ys(null,s)):(On(t),Sc(t,v))}var N=e.memoizedState;if(N!==null&&(v=N.dehydrated,v!==null)){if(h)t.flags&256?(On(t),t.flags&=-257,t=Nc(e,t,a)):t.memoizedState!==null?(Dn(),t.child=e.child,t.flags|=128,t=null):(Dn(),v=s.fallback,u=t.mode,s=cl({mode:"visible",children:s.children},u),v=ar(v,u,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,cr(t,e.child,null,a),s=t.child,s.memoizedState=_c(a),s.childLanes=kc(e,x,a),t.memoizedState=jc,t=Ys(null,s));else if(On(t),iu(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var M=x.dgst;x=M,s=Error(l(419)),s.stack="",s.digest=x,Fs({value:s,source:null,stack:null}),t=Nc(e,t,a)}else if(pt||$r(e,t,a,!1),x=(a&e.childLanes)!==0,pt||x){if(x=Ze,x!==null&&(s=jn(x,a),s!==0&&s!==N.retryLane))throw N.retryLane=s,tr(e,s),Vt(x,e,s),vc;su(v)||yl(),t=Nc(e,t,a)}else su(v)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,at=da(v.nextSibling),_t=t,Le=!0,Sn=null,ca=!1,e!==null&&bh(t,e),t=Sc(t,s.children),t.flags|=4096);return t}return u?(Dn(),v=s.fallback,u=t.mode,N=e.child,M=N.sibling,s=Ja(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,M!==null?v=Ja(M,v):(v=ar(v,u,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Ys(null,s),s=t.child,v=e.child.memoizedState,v===null?v=_c(a):(u=v.cachePool,u!==null?(N=mt._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=Sh(),v={baseLanes:v.baseLanes|a,cachePool:u}),s.memoizedState=v,s.childLanes=kc(e,x,a),t.memoizedState=jc,Ys(e.child,s)):(On(t),a=e.child,e=a.sibling,a=Ja(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=a,t.memoizedState=null,a)}function Sc(e,t){return t=cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cl(e,t){return e=Yt(22,e,null,t),e.lanes=0,e}function Nc(e,t,a){return cr(t,e.child,null,a),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $f(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qo(e.return,t,a)}function Ec(e,t,a,s,u,h){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:h}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=s,x.tail=a,x.tailMode=u,x.treeForkCount=h)}function Bf(e,t,a){var s=t.pendingProps,u=s.revealOrder,h=s.tail;s=s.children;var x=ht.current,v=(x&2)!==0;if(v?(x=x&1|2,t.flags|=128):x&=1,se(ht,x),St(e,t,s,a),s=Le?Rs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,a,t);else if(e.tag===19)$f(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Ji(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Ec(t,!1,u,a,h,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ji(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Ec(t,!0,a,null,h,s);break;case"together":Ec(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function nn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,(a&t.childLanes)===0)if(e!==null){if($r(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vi(e)))}function Px(e,t,a){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),En(t,mt,e.memoizedState.cache),nr();break;case 27:case 5:Aa(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(On(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Lf(e,t,a):(On(t),e=nn(e,t,a),e!==null?e.sibling:null);On(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||($r(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return Bf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),se(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Df(e,t,a,t.pendingProps);case 24:En(t,mt,e.memoizedState.cache)}return nn(e,t,a)}function qf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Tc(e,a)&&(t.flags&128)===0)return pt=!1,Px(e,t,a);pt=(e.flags&131072)!==0}else pt=!1,Le&&(t.flags&1048576)!==0&&yh(t,Rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=lr(t.elementType),t.type=e,typeof e=="function")Ro(e)?(s=dr(e,s),t.tag=1,t=Mf(null,t,e,s,a)):(t.tag=0,t=wc(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===re){t.tag=11,t=Cf(null,t,e,s,a);break e}else if(u===Z){t.tag=14,t=Af(null,t,e,s,a);break e}}throw t=ue(e)||e,Error(l(306,t,""))}}return t;case 0:return wc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=dr(s,t.pendingProps),Mf(e,t,s,u,a);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var h=t.memoizedState;u=h.element,Ko(e,t),qs(t,s,null,a);var x=t.memoizedState;if(s=x.cache,En(t,mt,s),s!==h.cache&&Ho(t,[mt],a,!0),Bs(),s=x.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=zf(e,t,s,a);break e}else if(s!==u){u=ia(Error(l(424)),t),Fs(u),t=zf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=da(e.firstChild),_t=t,Le=!0,Sn=null,ca=!0,a=Oh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nr(),s===u){t=nn(e,t,a);break e}St(e,t,s,a)}t=t.child}return t;case 26:return ol(e,t),e===null?(a=Z0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,s=Sl(Ce.current).createElement(a),s[te]=t,s[ne]=e,Nt(s,a,e),it(s),t.stateNode=s):t.memoizedState=Z0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Aa(t),e===null&&Le&&(s=t.stateNode=Q0(t.type,t.pendingProps,Ce.current),_t=t,ca=!0,u=at,Bn(t.type)?(lu=u,at=da(s.firstChild)):at=u),St(e,t,t.pendingProps.children,a),ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((u=s=at)&&(s=wy(s,t.type,t.pendingProps,ca),s!==null?(t.stateNode=s,_t=t,at=da(s.firstChild),ca=!1,u=!0):u=!1),u||Nn(t)),Aa(t),u=t.type,h=t.pendingProps,x=e!==null?e.memoizedProps:null,s=h.children,au(u,h)?s=null:x!==null&&au(u,x)&&(t.flags|=32),t.memoizedState!==null&&(u=tc(e,t,Mx,null,null,a),li._currentValue=u),ol(e,t),St(e,t,s,a),t.child;case 6:return e===null&&Le&&((e=a=at)&&(a=jy(a,t.pendingProps,ca),a!==null?(t.stateNode=a,_t=t,at=null,e=!0):e=!1),e||Nn(t)),null;case 13:return Lf(e,t,a);case 4:return ut(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cr(t,null,s,a):St(e,t,s,a),t.child;case 11:return Cf(e,t,t.type,t.pendingProps,a);case 7:return St(e,t,t.pendingProps,a),t.child;case 8:return St(e,t,t.pendingProps.children,a),t.child;case 12:return St(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,En(t,t.type,s.value),St(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,sr(t),u=kt(u),s=s(u),t.flags|=1,St(e,t,s,a),t.child;case 14:return Af(e,t,t.type,t.pendingProps,a);case 15:return Of(e,t,t.type,t.pendingProps,a);case 19:return Bf(e,t,a);case 31:return Gx(e,t,a);case 22:return Df(e,t,a,t.pendingProps);case 24:return sr(t),s=kt(mt),e===null?(u=Po(),u===null&&(u=Ze,h=Vo(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),t.memoizedState={parent:s,cache:u},Io(t),En(t,mt,u)):((e.lanes&a)!==0&&(Ko(e,t),qs(t,null,null,a),Bs()),u=e.memoizedState,h=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),En(t,mt,s)):(s=h.cache,En(t,mt,s),s!==u.cache&&Ho(t,[mt],a,!0))),St(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function rn(e){e.flags|=4}function Cc(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(m0())e.flags|=8192;else throw or=Ii,Yo}else e.flags&=-16777217}function Hf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nm(t))if(m0())e.flags|=8192;else throw or=Ii,Yo}function ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xn():536870912,e.lanes|=t,Jr|=t)}function Is(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Yx(e,t,a){var s=t.pendingProps;switch(zo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),en(mt),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lr(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$o())),nt(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(rn(t),h!==null?(nt(t),Hf(t,h)):(nt(t),Cc(t,u,null,s,a))):h?h!==e.memoizedState?(rn(t),nt(t),Hf(t,h)):(nt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&rn(t),nt(t),Cc(t,u,e,s,a)),null;case 27:if(Je(t),a=Ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return nt(t),null}e=he.current,Lr(t)?vh(t):(e=Q0(u,s,a),t.stateNode=e,rn(t))}return nt(t),null;case 5:if(Je(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return nt(t),null}if(h=he.current,Lr(t))vh(t);else{var x=Sl(Ce.current);switch(h){case 1:h=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=x.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?x.createElement("select",{is:s.is}):x.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?x.createElement(u,{is:s.is}):x.createElement(u)}}h[te]=t,h[ne]=s;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)h.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=h;e:switch(Nt(h,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rn(t)}}return nt(t),Cc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=Ce.current,Lr(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=_t,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[te]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||L0(e.nodeValue,a)),e||Nn(t,!0)}else e=Sl(e).createTextNode(s),e[te]=t,t.stateNode=e}return nt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Lr(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[te]=t}else nr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),e=!1}else a=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return nt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Lr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[te]=t}else nr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),u=!1}else u=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ul(t,t.updateQueue),nt(t),null);case 4:return Xe(),e===null&&Jc(t.stateNode.containerInfo),nt(t),null;case 10:return en(t.type),nt(t),null;case 19:if(I(ht),s=t.memoizedState,s===null)return nt(t),null;if(u=(t.flags&128)!==0,h=s.rendering,h===null)if(u)Is(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ji(e),h!==null){for(t.flags|=128,Is(s,!1),e=h.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)gh(a,e),a=a.sibling;return se(ht,ht.current&1|2),Le&&Za(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Be()>gl&&(t.flags|=128,u=!0,Is(s,!1),t.lanes=4194304)}else{if(!u)if(e=Ji(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),Is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Le)return nt(t),null}else 2*Be()-s.renderingStartTime>gl&&a!==536870912&&(t.flags|=128,u=!0,Is(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(e=s.last,e!==null?e.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,a=ht.current,se(ht,u?a&1|2:a&1),Le&&Za(t,s.treeForkCount),e):(nt(t),null);case 22:case 23:return Kt(t),Zo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),a=t.updateQueue,a!==null&&ul(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&I(ir),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),en(mt),nt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ix(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(mt),Xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Je(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(l(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(ht),null;case 4:return Xe(),null;case 10:return en(t.type),null;case 22:case 23:return Kt(t),Zo(),e!==null&&I(ir),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return en(mt),null;case 25:return null;default:return null}}function Vf(e,t){switch(zo(t),t.tag){case 3:en(mt),Xe();break;case 26:case 27:case 5:Je(t);break;case 4:Xe();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:I(ht);break;case 10:en(t.type);break;case 22:case 23:Kt(t),Zo(),e!==null&&I(ir);break;case 24:en(mt)}}function Ks(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var h=a.create,x=a.inst;s=h(),x.destroy=s}a=a.next}while(a!==u)}}catch(v){Ye(t,t.return,v)}}function Rn(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&e)===e){var x=s.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,u=t;var N=a,M=v;try{M()}catch(P){Ye(u,N,P)}}}s=s.next}while(s!==h)}}catch(P){Ye(t,t.return,P)}}function Gf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Rh(t,a)}catch(s){Ye(e,e.return,s)}}}function Pf(e,t,a){a.props=dr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ye(e,t,s)}}function Qs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){Ye(e,t,u)}}function za(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){Ye(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ye(e,t,u)}else a.current=null}function Yf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){Ye(e,e.return,u)}}function Ac(e,t,a){try{var s=e.stateNode;gy(s,e.type,a,t),s[ne]=t}catch(u){Ye(e,e.return,u)}}function If(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||If(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Qa));else if(s!==4&&(s===27&&Bn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Dc(e,t,a),e=e.sibling;e!==null;)Dc(e,t,a),e=e.sibling}function dl(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Bn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dl(e,t,a),e=e.sibling;e!==null;)dl(e,t,a),e=e.sibling}function Kf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Nt(t,s,a),t[te]=e,t[ne]=a}catch(h){Ye(e,e.return,h)}}var sn=!1,xt=!1,Rc=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Kx(e,t){if(e=e.containerInfo,eu=Dl,e=ih(e),No(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var x=0,v=-1,N=-1,M=0,P=0,Q=e,L=null;t:for(;;){for(var H;Q!==a||u!==0&&Q.nodeType!==3||(v=x+u),Q!==h||s!==0&&Q.nodeType!==3||(N=x+s),Q.nodeType===3&&(x+=Q.nodeValue.length),(H=Q.firstChild)!==null;)L=Q,Q=H;for(;;){if(Q===e)break t;if(L===a&&++M===u&&(v=x),L===h&&++P===s&&(N=x),(H=Q.nextSibling)!==null)break;Q=L,L=Q.parentNode}Q=H}a=v===-1||N===-1?null:{start:v,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(tu={focusedElem:e,selectionRange:a},Dl=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,u=h.memoizedProps,h=h.memoizedState,s=a.stateNode;try{var fe=dr(a.type,u);e=s.getSnapshotBeforeUpdate(fe,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ke){Ye(a,a.return,ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ru(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function Xf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:on(e,a),s&4&&Ks(5,a);break;case 1:if(on(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(x){Ye(a,a.return,x)}else{var u=dr(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ye(a,a.return,x)}}s&64&&Gf(a),s&512&&Qs(a,a.return);break;case 3:if(on(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rh(e,t)}catch(x){Ye(a,a.return,x)}}break;case 27:t===null&&s&4&&Kf(a);case 26:case 5:on(e,a),t===null&&s&4&&Yf(a),s&512&&Qs(a,a.return);break;case 12:on(e,a);break;case 31:on(e,a),s&4&&Wf(e,a);break;case 13:on(e,a),s&4&&e0(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ny.bind(null,a),_y(e,a))));break;case 22:if(s=a.memoizedState!==null||sn,!s){t=t!==null&&t.memoizedState!==null||xt,u=sn;var h=xt;sn=s,(xt=t)&&!h?cn(e,a,(a.subtreeFlags&8772)!==0):on(e,a),sn=u,xt=h}break;case 30:break;default:on(e,a)}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,$t=!1;function ln(e,t,a){for(a=a.child;a!==null;)Zf(e,t,a),a=a.sibling}function Zf(e,t,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ct,a)}catch{}switch(a.tag){case 26:xt||za(a,t),ln(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||za(a,t);var s=st,u=$t;Bn(a.type)&&(st=a.stateNode,$t=!1),ln(e,t,a),ri(a.stateNode),st=s,$t=u;break;case 5:xt||za(a,t);case 6:if(s=st,u=$t,st=null,ln(e,t,a),st=s,$t=u,st!==null)if($t)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(h){Ye(a,t,h)}else try{st.removeChild(a.stateNode)}catch(h){Ye(a,t,h)}break;case 18:st!==null&&($t?(e=st,G0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ss(e)):G0(st,a.stateNode));break;case 4:s=st,u=$t,st=a.stateNode.containerInfo,$t=!0,ln(e,t,a),st=s,$t=u;break;case 0:case 11:case 14:case 15:Rn(2,a,t),xt||Rn(4,a,t),ln(e,t,a);break;case 1:xt||(za(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Pf(a,t,s)),ln(e,t,a);break;case 21:ln(e,t,a);break;case 22:xt=(s=xt)||a.memoizedState!==null,ln(e,t,a),xt=s;break;default:ln(e,t,a)}}function Wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ss(e)}catch(a){Ye(t,t.return,a)}}}function e0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ss(e)}catch(a){Ye(t,t.return,a)}}function Qx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qf),t;default:throw Error(l(435,e.tag))}}function hl(e,t){var a=Qx(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=ry.bind(null,e,s);s.then(u,u)}})}function Bt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],h=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(Bn(v.type)){st=v.stateNode,$t=!1;break e}break;case 5:st=v.stateNode,$t=!1;break e;case 3:case 4:st=v.stateNode.containerInfo,$t=!0;break e}v=v.return}if(st===null)throw Error(l(160));Zf(h,x,u),st=null,$t=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)t0(t,e),t=t.sibling}var ka=null;function t0(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),qt(e),s&4&&(Rn(3,e,e.return),Ks(3,e),Rn(5,e,e.return));break;case 1:Bt(t,e),qt(e),s&512&&(xt||a===null||za(a,a.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=ka;if(Bt(t,e),qt(e),s&512&&(xt||a===null||za(a,a.return)),s&4){var h=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":h=u.getElementsByTagName("title")[0],(!h||h[ve]||h[te]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(s),u.head.insertBefore(h,u.querySelector("head > title"))),Nt(h,s,a),h[te]=e,it(h),s=h;break e;case"link":var x=tm("link","href",u).get(s+(a.href||""));if(x){for(var v=0;v<x.length;v++)if(h=x[v],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(v,1);break t}}h=u.createElement(s),Nt(h,s,a),u.head.appendChild(h);break;case"meta":if(x=tm("meta","content",u).get(s+(a.content||""))){for(v=0;v<x.length;v++)if(h=x[v],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(v,1);break t}}h=u.createElement(s),Nt(h,s,a),u.head.appendChild(h);break;default:throw Error(l(468,s))}h[te]=e,it(h),s=h}e.stateNode=s}else am(u,e.type,e.stateNode);else e.stateNode=em(u,s,e.memoizedProps);else h!==s?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,s===null?am(u,e.type,e.stateNode):em(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ac(e,e.memoizedProps,a.memoizedProps)}break;case 27:Bt(t,e),qt(e),s&512&&(xt||a===null||za(a,a.return)),a!==null&&s&4&&Ac(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Bt(t,e),qt(e),s&512&&(xt||a===null||za(a,a.return)),e.flags&32){u=e.stateNode;try{Tr(u,"")}catch(fe){Ye(e,e.return,fe)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Ac(e,u,a!==null?a.memoizedProps:u)),s&1024&&(Rc=!0);break;case 6:if(Bt(t,e),qt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(fe){Ye(e,e.return,fe)}}break;case 3:if(Tl=null,u=ka,ka=Nl(t.containerInfo),Bt(t,e),ka=u,qt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(fe){Ye(e,e.return,fe)}Rc&&(Rc=!1,a0(e));break;case 4:s=ka,ka=Nl(e.stateNode.containerInfo),Bt(t,e),qt(e),ka=s;break;case 12:Bt(t,e),qt(e);break;case 31:Bt(t,e),qt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,hl(e,s)));break;case 13:Bt(t,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ml=Be()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,hl(e,s)));break;case 22:u=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,M=sn,P=xt;if(sn=M||u,xt=P||N,Bt(t,e),xt=P,sn=M,qt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||N||sn||xt||hr(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(h=N.stateNode,u)x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=N.stateNode;var Q=N.memoizedProps.style,L=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;v.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(fe){Ye(N,N.return,fe)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(fe){Ye(N,N.return,fe)}}}else if(t.tag===18){if(a===null){N=t;try{var H=N.stateNode;u?P0(H,!0):P0(N.stateNode,!1)}catch(fe){Ye(N,N.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,hl(e,a))));break;case 19:Bt(t,e),qt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,hl(e,s)));break;case 30:break;case 21:break;default:Bt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(If(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,h=Oc(e);dl(e,h,u);break;case 5:var x=a.stateNode;a.flags&32&&(Tr(x,""),a.flags&=-33);var v=Oc(e);dl(e,v,x);break;case 3:case 4:var N=a.stateNode.containerInfo,M=Oc(e);Dc(e,M,N);break;default:throw Error(l(161))}}catch(P){Ye(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;a0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xf(e,t.alternate,t),t=t.sibling}function hr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rn(4,t,t.return),hr(t);break;case 1:za(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Pf(t,t.return,a),hr(t);break;case 27:ri(t.stateNode);case 26:case 5:za(t,t.return),hr(t);break;case 22:t.memoizedState===null&&hr(t);break;case 30:hr(t);break;default:hr(t)}e=e.sibling}}function cn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,h=t,x=h.flags;switch(h.tag){case 0:case 11:case 15:cn(u,h,a),Ks(4,h);break;case 1:if(cn(u,h,a),s=h,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(M){Ye(s,s.return,M)}if(s=h,u=s.updateQueue,u!==null){var v=s.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)Dh(N[u],v)}catch(M){Ye(s,s.return,M)}}a&&x&64&&Gf(h),Qs(h,h.return);break;case 27:Kf(h);case 26:case 5:cn(u,h,a),a&&s===null&&x&4&&Yf(h),Qs(h,h.return);break;case 12:cn(u,h,a);break;case 31:cn(u,h,a),a&&x&4&&Wf(u,h);break;case 13:cn(u,h,a),a&&x&4&&e0(u,h);break;case 22:h.memoizedState===null&&cn(u,h,a),Qs(h,h.return);break;case 30:break;default:cn(u,h,a)}t=t.sibling}}function Fc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Us(a))}function Uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e))}function Sa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n0(e,t,a,s),t=t.sibling}function n0(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Sa(e,t,a,s),u&2048&&Ks(9,t);break;case 1:Sa(e,t,a,s);break;case 3:Sa(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e)));break;case 12:if(u&2048){Sa(e,t,a,s),e=t.stateNode;try{var h=t.memoizedProps,x=h.id,v=h.onPostCommit;typeof v=="function"&&v(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ye(t,t.return,N)}}else Sa(e,t,a,s);break;case 31:Sa(e,t,a,s);break;case 13:Sa(e,t,a,s);break;case 23:break;case 22:h=t.stateNode,x=t.alternate,t.memoizedState!==null?h._visibility&2?Sa(e,t,a,s):Xs(e,t):h._visibility&2?Sa(e,t,a,s):(h._visibility|=2,Kr(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Fc(x,t);break;case 24:Sa(e,t,a,s),u&2048&&Uc(t.alternate,t);break;default:Sa(e,t,a,s)}}function Kr(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,x=t,v=a,N=s,M=x.flags;switch(x.tag){case 0:case 11:case 15:Kr(h,x,v,N,u),Ks(8,x);break;case 23:break;case 22:var P=x.stateNode;x.memoizedState!==null?P._visibility&2?Kr(h,x,v,N,u):Xs(h,x):(P._visibility|=2,Kr(h,x,v,N,u)),u&&M&2048&&Fc(x.alternate,x);break;case 24:Kr(h,x,v,N,u),u&&M&2048&&Uc(x.alternate,x);break;default:Kr(h,x,v,N,u)}t=t.sibling}}function Xs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:Xs(a,s),u&2048&&Fc(s.alternate,s);break;case 24:Xs(a,s),u&2048&&Uc(s.alternate,s);break;default:Xs(a,s)}t=t.sibling}}var Js=8192;function Qr(e,t,a){if(e.subtreeFlags&Js)for(e=e.child;e!==null;)r0(e,t,a),e=e.sibling}function r0(e,t,a){switch(e.tag){case 26:Qr(e,t,a),e.flags&Js&&e.memoizedState!==null&&Uy(a,ka,e.memoizedState,e.memoizedProps);break;case 5:Qr(e,t,a);break;case 3:case 4:var s=ka;ka=Nl(e.stateNode.containerInfo),Qr(e,t,a),ka=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Js,Js=16777216,Qr(e,t,a),Js=s):Qr(e,t,a));break;default:Qr(e,t,a)}}function s0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];jt=s,l0(s,e)}s0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)i0(e),e=e.sibling}function i0(e){switch(e.tag){case 0:case 11:case 15:Zs(e),e.flags&2048&&Rn(9,e,e.return);break;case 3:Zs(e);break;case 12:Zs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fl(e)):Zs(e);break;default:Zs(e)}}function fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];jt=s,l0(s,e)}s0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rn(8,t,t.return),fl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fl(t));break;default:fl(t)}e=e.sibling}}function l0(e,t){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Rn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Us(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,jt=s;else e:for(a=e;jt!==null;){s=jt;var u=s.sibling,h=s.return;if(Jf(s),s===a){jt=null;break e}if(u!==null){u.return=h,jt=u;break e}jt=h}}}var Xx={getCacheForType:function(e){var t=kt(mt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return kt(mt).controller.signal}},Jx=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ze=null,Fe=null,Me=0,Pe=0,Qt=null,Fn=!1,Xr=!1,Mc=!1,un=0,ct=0,Un=0,fr=0,zc=0,Xt=0,Jr=0,Ws=null,Ht=null,Lc=!1,ml=0,o0=0,gl=1/0,pl=null,Mn=null,bt=0,zn=null,Zr=null,dn=0,$c=0,Bc=null,c0=null,ei=0,qc=null;function Jt(){return(Ge&2)!==0&&Me!==0?Me&-Me:z.T!==null?Ic():B()}function u0(){if(Xt===0)if((Me&536870912)===0||Le){var e=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Xt=e}else Xt=536870912;return e=It.current,e!==null&&(e.flags|=32),Xt}function Vt(e,t,a){(e===Ze&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Wr(e,0),Ln(e,Me,Xt,!1)),Ya(e,a),((Ge&2)===0||e!==Ze)&&(e===Ze&&((Ge&2)===0&&(fr|=a),ct===4&&Ln(e,Me,Xt,!1)),La(e))}function d0(e,t,a){if((Ge&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Fa(e,t),u=s?ey(e,t):Vc(e,t,!0),h=s;do{if(u===0){Xr&&!s&&Ln(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!Zx(a)){u=Vc(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var v=e;u=Ws;var N=v.current.memoizedState.isDehydrated;if(N&&(Wr(v,x).flags|=256),x=Vc(v,x,!1),x!==2){if(Mc&&!N){v.errorRecoveryDisabledLanes|=h,fr|=h,u=4;break e}h=Ht,Ht=u,h!==null&&(Ht===null?Ht=h:Ht.push.apply(Ht,h))}u=x}if(h=!1,u!==2)continue}}if(u===1){Wr(e,0),Ln(e,t,0,!0);break}e:{switch(s=e,h=u,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ln(s,t,Xt,!Fn);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=ml+300-Be(),10<u)){if(Ln(s,t,Xt,!Fn),bn(s,0,!0)!==0)break e;dn=t,s.timeoutHandle=H0(h0.bind(null,s,a,Ht,pl,Lc,t,Xt,fr,Jr,Fn,h,"Throttled",-0,0),u);break e}h0(s,a,Ht,pl,Lc,t,Xt,fr,Jr,Fn,h,null,-0,0)}}break}while(!0);La(e)}function h0(e,t,a,s,u,h,x,v,N,M,P,Q,L,H){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},r0(t,h,Q);var fe=(h&62914560)===h?ml-Be():(h&4194048)===h?o0-Be():0;if(fe=My(Q,fe),fe!==null){dn=h,e.cancelPendingCommit=fe(v0.bind(null,e,t,h,a,s,u,x,v,N,P,Q,null,L,H)),Ln(e,h,x,!M);return}}v0(e,t,h,a,s,u,x,v,N)}function Zx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],h=u.getSnapshot;u=u.value;try{if(!Pt(h(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t,a,s){t&=~zc,t&=~fr,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var h=31-wt(u),x=1<<h;s[h]=-1,u&=~x}a!==0&&Sr(e,a,t)}function xl(){return(Ge&6)===0?(ti(0),!1):!0}function Hc(){if(Fe!==null){if(Pe===0)var e=Fe.return;else e=Fe,Wa=rr=null,rc(e),Vr=null,zs=0,e=Fe;for(;e!==null;)Vf(e.alternate,e),e=e.return;Fe=null}}function Wr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dn=0,Hc(),Ze=e,Fe=a=Ja(e.current,null),Me=t,Pe=0,Qt=null,Fn=!1,Xr=Fa(e,t),Mc=!1,Jr=Xt=zc=fr=Un=ct=0,Ht=Ws=null,Lc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-wt(s),h=1<<u;t|=e[u],s&=~h}return un=t,Li(),a}function f0(e,t){Ae=null,z.H=Ps,t===Hr||t===Yi?(t=Th(),Pe=3):t===Yo?(t=Th(),Pe=4):Pe=t===vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qt=t,Fe===null&&(ct=1,il(e,ia(t,e.current)))}function m0(){var e=It.current;return e===null?!0:(Me&4194048)===Me?ua===null:(Me&62914560)===Me||(Me&536870912)!==0?e===ua:!1}function g0(){var e=z.H;return z.H=Ps,e===null?Ps:e}function p0(){var e=z.A;return z.A=Xx,e}function yl(){ct=4,Fn||(Me&4194048)!==Me&&It.current!==null||(Xr=!0),(Un&134217727)===0&&(fr&134217727)===0||Ze===null||Ln(Ze,Me,Xt,!1)}function Vc(e,t,a){var s=Ge;Ge|=2;var u=g0(),h=p0();(Ze!==e||Me!==t)&&(pl=null,Wr(e,t)),t=!1;var x=ct;e:do try{if(Pe!==0&&Fe!==null){var v=Fe,N=Qt;switch(Pe){case 8:Hc(),x=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var M=Pe;if(Pe=0,Qt=null,es(e,v,N,M),a&&Xr){x=0;break e}break;default:M=Pe,Pe=0,Qt=null,es(e,v,N,M)}}Wx(),x=ct;break}catch(P){f0(e,P)}while(!0);return t&&e.shellSuspendCounter++,Wa=rr=null,Ge=s,z.H=u,z.A=h,Fe===null&&(Ze=null,Me=0,Li()),x}function Wx(){for(;Fe!==null;)x0(Fe)}function ey(e,t){var a=Ge;Ge|=2;var s=g0(),u=p0();Ze!==e||Me!==t?(pl=null,gl=Be()+500,Wr(e,t)):Xr=Fa(e,t);e:do try{if(Pe!==0&&Fe!==null){t=Fe;var h=Qt;t:switch(Pe){case 1:Pe=0,Qt=null,es(e,t,h,1);break;case 2:case 9:if(Nh(h)){Pe=0,Qt=null,y0(t);break}t=function(){Pe!==2&&Pe!==9||Ze!==e||(Pe=7),La(e)},h.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Nh(h)?(Pe=0,Qt=null,y0(t)):(Pe=0,Qt=null,es(e,t,h,7));break;case 5:var x=null;switch(Fe.tag){case 26:x=Fe.memoizedState;case 5:case 27:var v=Fe;if(x?nm(x):v.stateNode.complete){Pe=0,Qt=null;var N=v.sibling;if(N!==null)Fe=N;else{var M=v.return;M!==null?(Fe=M,bl(M)):Fe=null}break t}}Pe=0,Qt=null,es(e,t,h,5);break;case 6:Pe=0,Qt=null,es(e,t,h,6);break;case 8:Hc(),ct=6;break e;default:throw Error(l(462))}}ty();break}catch(P){f0(e,P)}while(!0);return Wa=rr=null,z.H=s,z.A=u,Ge=a,Fe!==null?0:(Ze=null,Me=0,Li(),ct)}function ty(){for(;Fe!==null&&!pa();)x0(Fe)}function x0(e){var t=qf(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?bl(e):Fe=t}function y0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uf(a,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Uf(a,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:rc(t);default:Vf(a,t),t=Fe=gh(t,un),t=qf(a,t,un)}e.memoizedProps=e.pendingProps,t===null?bl(e):Fe=t}function es(e,t,a,s){Wa=rr=null,rc(t),Vr=null,zs=0;var u=t.return;try{if(Vx(e,u,t,a,Me)){ct=1,il(e,ia(a,e.current)),Fe=null;return}}catch(h){if(u!==null)throw Fe=u,h;ct=1,il(e,ia(a,e.current)),Fe=null;return}t.flags&32768?(Le||s===1?e=!0:Xr||(Me&536870912)!==0?e=!1:(Fn=e=!0,(s===2||s===9||s===3||s===6)&&(s=It.current,s!==null&&s.tag===13&&(s.flags|=16384))),b0(t,e)):bl(t)}function bl(e){var t=e;do{if((t.flags&32768)!==0){b0(t,Fn);return}e=t.return;var a=Yx(t.alternate,t,un);if(a!==null){Fe=a;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);ct===0&&(ct=5)}function b0(e,t){do{var a=Ix(e.alternate,e);if(a!==null){a.flags&=32767,Fe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=a}while(e!==null);ct=6,Fe=null}function v0(e,t,a,s,u,h,x,v,N){e.cancelPendingCommit=null;do vl();while(bt!==0);if((Ge&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Oo,wn(e,a,h,x,v,N),e===Ze&&(Fe=Ze=null,Me=0),Zr=t,zn=e,dn=a,$c=h,Bc=u,c0=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sy(xa,function(){return S0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,u=J.p,J.p=2,x=Ge,Ge|=4;try{Kx(e,t,a)}finally{Ge=x,J.p=u,z.T=s}}bt=1,w0(),j0(),_0()}}function w0(){if(bt===1){bt=0;var e=zn,t=Zr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=J.p;J.p=2;var u=Ge;Ge|=4;try{t0(t,e);var h=tu,x=ih(e.containerInfo),v=h.focusedElem,N=h.selectionRange;if(x!==v&&v&&v.ownerDocument&&sh(v.ownerDocument.documentElement,v)){if(N!==null&&No(v)){var M=N.start,P=N.end;if(P===void 0&&(P=M),"selectionStart"in v)v.selectionStart=M,v.selectionEnd=Math.min(P,v.value.length);else{var Q=v.ownerDocument||document,L=Q&&Q.defaultView||window;if(L.getSelection){var H=L.getSelection(),fe=v.textContent.length,ke=Math.min(N.start,fe),Qe=N.end===void 0?ke:Math.min(N.end,fe);!H.extend&&ke>Qe&&(x=Qe,Qe=ke,ke=x);var D=rh(v,ke),A=rh(v,Qe);if(D&&A&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==A.node||H.focusOffset!==A.offset)){var U=Q.createRange();U.setStart(D.node,D.offset),H.removeAllRanges(),ke>Qe?(H.addRange(U),H.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),H.addRange(U))}}}}for(Q=[],H=v;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Q.length;v++){var K=Q[v];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Dl=!!eu,tu=eu=null}finally{Ge=u,J.p=s,z.T=a}}e.current=t,bt=2}}function j0(){if(bt===2){bt=0;var e=zn,t=Zr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=J.p;J.p=2;var u=Ge;Ge|=4;try{Xf(e,t.alternate,t)}finally{Ge=u,J.p=s,z.T=a}}bt=3}}function _0(){if(bt===4||bt===3){bt=0,Tt();var e=zn,t=Zr,a=dn,s=c0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?bt=5:(bt=0,Zr=zn=null,k0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Mn=null),va(a),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ct,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,u=J.p,J.p=2,z.T=null;try{for(var h=e.onRecoverableError,x=0;x<s.length;x++){var v=s[x];h(v.value,{componentStack:v.stack})}}finally{z.T=t,J.p=u}}(dn&3)!==0&&vl(),La(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===qc?ei++:(ei=0,qc=e):ei=0,ti(0)}}function k0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Us(t)))}function vl(){return w0(),j0(),_0(),S0()}function S0(){if(bt!==5)return!1;var e=zn,t=$c;$c=0;var a=va(dn),s=z.T,u=J.p;try{J.p=32>a?32:a,z.T=null,a=Bc,Bc=null;var h=zn,x=dn;if(bt=0,Zr=zn=null,dn=0,(Ge&6)!==0)throw Error(l(331));var v=Ge;if(Ge|=4,i0(h.current),n0(h,h.current,x,a),Ge=v,ti(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ct,h)}catch{}return!0}finally{J.p=u,z.T=s,k0(e,t)}}function N0(e,t,a){t=ia(a,t),t=bc(e.stateNode,t,2),e=An(e,t,2),e!==null&&(Ya(e,2),La(e))}function Ye(e,t,a){if(e.tag===3)N0(e,e,a);else for(;t!==null;){if(t.tag===3){N0(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Mn===null||!Mn.has(s))){e=ia(a,e),a=Ef(2),s=An(t,a,2),s!==null&&(Tf(a,s,t,e),Ya(s,2),La(s));break}}t=t.return}}function Gc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Jx;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(Mc=!0,u.add(a),e=ay.bind(null,e,t,a),t.then(e,e))}function ay(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ze===e&&(Me&a)===a&&(ct===4||ct===3&&(Me&62914560)===Me&&300>Be()-ml?(Ge&2)===0&&Wr(e,0):zc|=a,Jr===Me&&(Jr=0)),La(e)}function E0(e,t){t===0&&(t=Xn()),e=tr(e,t),e!==null&&(Ya(e,t),La(e))}function ny(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),E0(e,a)}function ry(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),E0(e,a)}function sy(e,t){return Et(e,t)}var wl=null,ts=null,Pc=!1,jl=!1,Yc=!1,$n=0;function La(e){e!==ts&&e.next===null&&(ts===null?wl=ts=e:ts=ts.next=e),jl=!0,Pc||(Pc=!0,ly())}function ti(e,t){if(!Yc&&jl){Yc=!0;do for(var a=!1,s=wl;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var h=0;else{var x=s.suspendedLanes,v=s.pingedLanes;h=(1<<31-wt(42|e)+1)-1,h&=u&~(x&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,O0(s,h))}else h=Me,h=bn(s,s===Ze?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Fa(s,h)||(a=!0,O0(s,h));s=s.next}while(a);Yc=!1}}function iy(){T0()}function T0(){jl=Pc=!1;var e=0;$n!==0&&xy()&&(e=$n);for(var t=Be(),a=null,s=wl;s!==null;){var u=s.next,h=C0(s,t);h===0?(s.next=null,a===null?wl=u:a.next=u,u===null&&(ts=a)):(a=s,(e!==0||(h&3)!==0)&&(jl=!0)),s=u}bt!==0&&bt!==5||ti(e),$n!==0&&($n=0)}function C0(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var x=31-wt(h),v=1<<x,N=u[x];N===-1?((v&a)===0||(v&s)!==0)&&(u[x]=_s(v,t)):N<=t&&(e.expiredLanes|=v),h&=~v}if(t=Ze,a=Me,a=bn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Da(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Da(s),va(a)){case 2:case 8:a=Qn;break;case 32:a=xa;break;case 268435456:a=$e;break;default:a=xa}return s=A0.bind(null,e),a=Et(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Da(s),e.callbackPriority=2,e.callbackNode=null,2}function A0(e,t){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vl()&&e.callbackNode!==a)return null;var s=Me;return s=bn(e,e===Ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(d0(e,s,t),C0(e,Be()),e.callbackNode!=null&&e.callbackNode===a?A0.bind(null,e):null)}function O0(e,t){if(vl())return null;d0(e,t,!0)}function ly(){by(function(){(Ge&6)!==0?Et(xn,iy):T0()})}function Ic(){if($n===0){var e=Br;e===0&&(e=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),$n=e}return $n}function D0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ai(""+e)}function R0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function oy(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var h=D0((u[ne]||null).action),x=s.submitter;x&&(t=(t=x[ne]||null)?D0(t.formAction):x.getAttribute("formAction"),t!==null&&(h=t,x=null));var v=new Fi("action","action",null,s,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if($n!==0){var N=x?R0(u,x):new FormData(u);fc(a,{pending:!0,data:N,method:u.method,action:h},null,N)}}else typeof h=="function"&&(v.preventDefault(),N=x?R0(u,x):new FormData(u),fc(a,{pending:!0,data:N,method:u.method,action:h},h,N))},currentTarget:u}]})}}for(var Kc=0;Kc<Ao.length;Kc++){var Qc=Ao[Kc],cy=Qc.toLowerCase(),uy=Qc[0].toUpperCase()+Qc.slice(1);_a(cy,"on"+uy)}_a(ch,"onAnimationEnd"),_a(uh,"onAnimationIteration"),_a(dh,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(Nx,"onTransitionRun"),_a(Ex,"onTransitionStart"),_a(Tx,"onTransitionCancel"),_a(hh,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ai));function F0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var x=s.length-1;0<=x;x--){var v=s[x],N=v.instance,M=v.currentTarget;if(v=v.listener,N!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=M;try{h(u)}catch(P){zi(P)}u.currentTarget=null,h=N}else for(x=0;x<s.length;x++){if(v=s[x],N=v.instance,M=v.currentTarget,v=v.listener,N!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=M;try{h(u)}catch(P){zi(P)}u.currentTarget=null,h=N}}}}function Ue(e,t){var a=t[xe];a===void 0&&(a=t[xe]=new Set);var s=e+"__bubble";a.has(s)||(U0(t,e,2,!1),a.add(s))}function Xc(e,t,a){var s=0;t&&(s|=4),U0(a,e,s,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[_l]){e[_l]=!0,Ni.forEach(function(a){a!=="selectionchange"&&(dy.has(a)||Xc(a,!1,e),Xc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,Xc("selectionchange",!1,t))}}function U0(e,t,a,s){switch(um(t)){case 2:var u=$y;break;case 8:u=By;break;default:u=hu}a=u.bind(null,t,a,e),u=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Zc(e,t,a,s,u){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var v=s.stateNode.containerInfo;if(v===u)break;if(x===4)for(x=s.return;x!==null;){var N=x.tag;if((N===3||N===4)&&x.stateNode.containerInfo===u)return;x=x.return}for(;v!==null;){if(x=wa(v),x===null)return;if(N=x.tag,N===5||N===6||N===26||N===27){s=h=x;continue e}v=v.parentNode}}s=s.return}$d(function(){var M=h,P=go(a),Q=[];e:{var L=fh.get(e);if(L!==void 0){var H=Fi,fe=e;switch(e){case"keypress":if(Di(a)===0)break e;case"keydown":case"keyup":H=rx;break;case"focusin":fe="focus",H=wo;break;case"focusout":fe="blur",H=wo;break;case"beforeblur":case"afterblur":H=wo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=lx;break;case ch:case uh:case dh:H=Qp;break;case hh:H=cx;break;case"scroll":case"scrollend":H=Gp;break;case"wheel":H=dx;break;case"copy":case"cut":case"paste":H=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gd;break;case"toggle":case"beforetoggle":H=fx}var ke=(t&4)!==0,Qe=!ke&&(e==="scroll"||e==="scrollend"),D=ke?L!==null?L+"Capture":null:L;ke=[];for(var A=M,U;A!==null;){var K=A;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||D===null||(K=ks(A,D),K!=null&&ke.push(ni(A,K,U))),Qe)break;A=A.return}0<ke.length&&(L=new H(L,fe,null,a,P),Q.push({event:L,listeners:ke}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&a!==mo&&(fe=a.relatedTarget||a.fromElement)&&(wa(fe)||fe[le]))break e;if((H||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=M,fe=fe?wa(fe):null,fe!==null&&(Qe=d(fe),ke=fe.tag,fe!==Qe||ke!==5&&ke!==27&&ke!==6)&&(fe=null)):(H=null,fe=M),H!==fe)){if(ke=Hd,K="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ke=Gd,K="onPointerLeave",D="onPointerEnter",A="pointer"),Qe=H==null?L:Ft(H),U=fe==null?L:Ft(fe),L=new ke(K,A+"leave",H,a,P),L.target=Qe,L.relatedTarget=U,K=null,wa(P)===M&&(ke=new ke(D,A+"enter",fe,a,P),ke.target=U,ke.relatedTarget=Qe,K=ke),Qe=K,H&&fe)t:{for(ke=hy,D=H,A=fe,U=0,K=D;K;K=ke(K))U++;K=0;for(var _e=A;_e;_e=ke(_e))K++;for(;0<U-K;)D=ke(D),U--;for(;0<K-U;)A=ke(A),K--;for(;U--;){if(D===A||A!==null&&D===A.alternate){ke=D;break t}D=ke(D),A=ke(A)}ke=null}else ke=null;H!==null&&M0(Q,L,H,ke,!1),fe!==null&&Qe!==null&&M0(Q,Qe,fe,ke,!0)}}e:{if(L=M?Ft(M):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var He=Zd;else if(Xd(L))if(Wd)He=_x;else{He=wx;var ye=vx}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?M&&fo(M.elementType)&&(He=Zd):He=jx;if(He&&(He=He(e,M))){Jd(Q,He,a,P);break e}ye&&ye(e,L,M),e==="focusout"&&M&&L.type==="number"&&M.memoizedProps.value!=null&&ho(L,"number",L.value)}switch(ye=M?Ft(M):window,e){case"focusin":(Xd(ye)||ye.contentEditable==="true")&&(Dr=ye,Eo=M,Ds=null);break;case"focusout":Ds=Eo=Dr=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,lh(Q,a,P);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":lh(Q,a,P)}var Oe;if(_o)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Or?Kd(e,a)&&(ze="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Pd&&a.locale!=="ko"&&(Or||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Or&&(Oe=Bd()):(_n=P,yo="value"in _n?_n.value:_n.textContent,Or=!0)),ye=kl(M,ze),0<ye.length&&(ze=new Vd(ze,e,null,a,P),Q.push({event:ze,listeners:ye}),Oe?ze.data=Oe:(Oe=Qd(a),Oe!==null&&(ze.data=Oe)))),(Oe=gx?px(e,a):xx(e,a))&&(ze=kl(M,"onBeforeInput"),0<ze.length&&(ye=new Vd("onBeforeInput","beforeinput",null,a,P),Q.push({event:ye,listeners:ze}),ye.data=Oe)),oy(Q,e,M,a,P)}F0(Q,t)})}function ni(e,t,a){return{instance:e,listener:t,currentTarget:a}}function kl(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=ks(e,a),u!=null&&s.unshift(ni(e,u,h)),u=ks(e,t),u!=null&&s.push(ni(e,u,h))),e.tag===3)return s;e=e.return}return[]}function hy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M0(e,t,a,s,u){for(var h=t._reactName,x=[];a!==null&&a!==s;){var v=a,N=v.alternate,M=v.stateNode;if(v=v.tag,N!==null&&N===s)break;v!==5&&v!==26&&v!==27||M===null||(N=M,u?(M=ks(a,h),M!=null&&x.unshift(ni(a,M,N))):u||(M=ks(a,h),M!=null&&x.push(ni(a,M,N)))),a=a.return}x.length!==0&&e.push({event:t,listeners:x})}var fy=/\r\n?/g,my=/\u0000|\uFFFD/g;function z0(e){return(typeof e=="string"?e:""+e).replace(fy,`
`).replace(my,"")}function L0(e,t){return t=z0(t),z0(e)===t}function Ke(e,t,a,s,u,h){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Tr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Tr(e,""+s);break;case"className":Ti(e,"class",s);break;case"tabIndex":Ti(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,a,s);break;case"style":zd(e,s,h);break;case"data":if(t!=="object"){Ti(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ai(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&Ke(e,t,"name",u.name,u,null),Ke(e,t,"formEncType",u.formEncType,u,null),Ke(e,t,"formMethod",u.formMethod,u,null),Ke(e,t,"formTarget",u.formTarget,u,null)):(Ke(e,t,"encType",u.encType,u,null),Ke(e,t,"method",u.method,u,null),Ke(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ai(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Qa);break;case"onScroll":s!=null&&Ue("scroll",e);break;case"onScrollEnd":s!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ai(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Ei(e,"popover",s);break;case"xlinkActuate":Ka(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ka(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ka(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ka(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ka(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ka(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ei(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hp.get(a)||a,Ei(e,a,s))}}function Wc(e,t,a,s,u,h){switch(a){case"style":zd(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Tr(e,s):(typeof s=="number"||typeof s=="bigint")&&Tr(e,""+s);break;case"onScroll":s!=null&&Ue("scroll",e);break;case"onScrollEnd":s!=null&&Ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),h=e[ne]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof s=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ei(e,a,s)}}}function Nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var s=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var x=a[h];if(x!=null)switch(h){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ke(e,t,h,x,a,null)}}u&&Ke(e,t,"srcSet",a.srcSet,a,null),s&&Ke(e,t,"src",a.src,a,null);return;case"input":Ue("invalid",e);var v=h=x=u=null,N=null,M=null;for(s in a)if(a.hasOwnProperty(s)){var P=a[s];if(P!=null)switch(s){case"name":u=P;break;case"type":x=P;break;case"checked":N=P;break;case"defaultChecked":M=P;break;case"value":h=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:Ke(e,t,s,P,a,null)}}Rd(e,h,v,N,M,x,u,!1);return;case"select":Ue("invalid",e),s=x=h=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":h=v;break;case"defaultValue":x=v;break;case"multiple":s=v;default:Ke(e,t,u,v,a,null)}t=h,a=x,e.multiple=!!s,t!=null?Er(e,!!s,t,!1):a!=null&&Er(e,!!s,a,!0);return;case"textarea":Ue("invalid",e),h=u=s=null;for(x in a)if(a.hasOwnProperty(x)&&(v=a[x],v!=null))switch(x){case"value":s=v;break;case"defaultValue":u=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ke(e,t,x,v,a,null)}Ud(e,s,u,h);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(s=a[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ke(e,t,N,s,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(s=0;s<ai.length;s++)Ue(ai[s],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(s=a[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ke(e,t,M,s,a,null)}return;default:if(fo(t)){for(P in a)a.hasOwnProperty(P)&&(s=a[P],s!==void 0&&Wc(e,t,P,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Ke(e,t,v,s,a,null))}function gy(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,x=null,v=null,N=null,M=null,P=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Q;default:s.hasOwnProperty(H)||Ke(e,t,H,null,s,Q)}}for(var L in s){var H=s[L];if(Q=a[L],s.hasOwnProperty(L)&&(H!=null||Q!=null))switch(L){case"type":h=H;break;case"name":u=H;break;case"checked":M=H;break;case"defaultChecked":P=H;break;case"value":x=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:H!==Q&&Ke(e,t,L,H,s,Q)}}uo(e,x,v,N,M,P,h,u);return;case"select":H=x=v=L=null;for(h in a)if(N=a[h],a.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":H=N;default:s.hasOwnProperty(h)||Ke(e,t,h,null,s,N)}for(u in s)if(h=s[u],N=a[u],s.hasOwnProperty(u)&&(h!=null||N!=null))switch(u){case"value":L=h;break;case"defaultValue":v=h;break;case"multiple":x=h;default:h!==N&&Ke(e,t,u,h,s,N)}t=v,a=x,s=H,L!=null?Er(e,!!a,L,!1):!!s!=!!a&&(t!=null?Er(e,!!a,t,!0):Er(e,!!a,a?[]:"",!1));return;case"textarea":H=L=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ke(e,t,v,null,s,u)}for(x in s)if(u=s[x],h=a[x],s.hasOwnProperty(x)&&(u!=null||h!=null))switch(x){case"value":L=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&Ke(e,t,x,u,s,h)}Fd(e,L,H);return;case"option":for(var fe in a)if(L=a[fe],a.hasOwnProperty(fe)&&L!=null&&!s.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Ke(e,t,fe,null,s,L)}for(N in s)if(L=s[N],H=a[N],s.hasOwnProperty(N)&&L!==H&&(L!=null||H!=null))switch(N){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ke(e,t,N,L,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)L=a[ke],a.hasOwnProperty(ke)&&L!=null&&!s.hasOwnProperty(ke)&&Ke(e,t,ke,null,s,L);for(M in s)if(L=s[M],H=a[M],s.hasOwnProperty(M)&&L!==H&&(L!=null||H!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Ke(e,t,M,L,s,H)}return;default:if(fo(t)){for(var Qe in a)L=a[Qe],a.hasOwnProperty(Qe)&&L!==void 0&&!s.hasOwnProperty(Qe)&&Wc(e,t,Qe,void 0,s,L);for(P in s)L=s[P],H=a[P],!s.hasOwnProperty(P)||L===H||L===void 0&&H===void 0||Wc(e,t,P,L,s,H);return}}for(var D in a)L=a[D],a.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&Ke(e,t,D,null,s,L);for(Q in s)L=s[Q],H=a[Q],!s.hasOwnProperty(Q)||L===H||L==null&&H==null||Ke(e,t,Q,L,s,H)}function $0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],h=u.transferSize,x=u.initiatorType,v=u.duration;if(h&&v&&$0(x)){for(x=0,v=u.responseEnd,s+=1;s<a.length;s++){var N=a[s],M=N.startTime;if(M>v)break;var P=N.transferSize,Q=N.initiatorType;P&&$0(Q)&&(N=N.responseEnd,x+=P*(N<v?1:(v-M)/(N-M)))}if(--s,t+=8*(h+x)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function Sl(e){return e.nodeType===9?e:e.ownerDocument}function B0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=null;function xy(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,yy=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(e){return V0.resolve(null).then(e).catch(vy)}:H0;function vy(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function G0(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),ss(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")ri(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ri(a);for(var h=a.firstChild;h;){var x=h.nextSibling,v=h.nodeName;h[ve]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=x}}else a==="body"&&ri(e.ownerDocument.body);a=u}while(a);ss(t)}function P0(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function ru(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ru(a),qe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wy(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function jy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=da(e.nextSibling),e===null))return null;return e}function Y0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function su(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _y(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var lu=null;function I0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return da(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function K0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Q0(e,t,a){switch(t=Sl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ri(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var ha=new Map,X0=new Set;function Nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=J.d;J.d={f:ky,r:Sy,D:Ny,C:Ey,L:Ty,m:Cy,X:Oy,S:Ay,M:Dy};function ky(){var e=hn.f(),t=xl();return e||t}function Sy(e){var t=aa(e);t!==null&&t.tag===5&&t.type==="form"?ff(t):hn.r(e)}var as=typeof document>"u"?null:document;function J0(e,t,a){var s=as;if(s&&typeof t=="string"&&t){var u=ra(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),X0.has(u)||(X0.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),Nt(t,"link",e),it(t),s.head.appendChild(t)))}}function Ny(e){hn.D(e),J0("dns-prefetch",e,null)}function Ey(e,t){hn.C(e,t),J0("preconnect",e,t)}function Ty(e,t,a){hn.L(e,t,a);var s=as;if(s&&e&&t){var u='link[rel="preload"][as="'+ra(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+ra(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+ra(a.imageSizes)+'"]')):u+='[href="'+ra(e)+'"]';var h=u;switch(t){case"style":h=ns(e);break;case"script":h=rs(e)}ha.has(h)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ha.set(h,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(si(h))||t==="script"&&s.querySelector(ii(h))||(t=s.createElement("link"),Nt(t,"link",e),it(t),s.head.appendChild(t)))}}function Cy(e,t){hn.m(e,t);var a=as;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ra(s)+'"][href="'+ra(e)+'"]',h=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=rs(e)}if(!ha.has(h)&&(e=b({rel:"modulepreload",href:e},t),ha.set(h,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ii(h)))return}s=a.createElement("link"),Nt(s,"link",e),it(s),a.head.appendChild(s)}}}function Ay(e,t,a){hn.S(e,t,a);var s=as;if(s&&e){var u=ja(s).hoistableStyles,h=ns(e);t=t||"default";var x=u.get(h);if(!x){var v={loading:0,preload:null};if(x=s.querySelector(si(h)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ha.get(h))&&ou(e,a);var N=x=s.createElement("link");it(N),Nt(N,"link",e),N._p=new Promise(function(M,P){N.onload=M,N.onerror=P}),N.addEventListener("load",function(){v.loading|=1}),N.addEventListener("error",function(){v.loading|=2}),v.loading|=4,El(x,t,s)}x={type:"stylesheet",instance:x,count:1,state:v},u.set(h,x)}}}function Oy(e,t){hn.X(e,t);var a=as;if(a&&e){var s=ja(a).hoistableScripts,u=rs(e),h=s.get(u);h||(h=a.querySelector(ii(u)),h||(e=b({src:e,async:!0},t),(t=ha.get(u))&&cu(e,t),h=a.createElement("script"),it(h),Nt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function Dy(e,t){hn.M(e,t);var a=as;if(a&&e){var s=ja(a).hoistableScripts,u=rs(e),h=s.get(u);h||(h=a.querySelector(ii(u)),h||(e=b({src:e,async:!0,type:"module"},t),(t=ha.get(u))&&cu(e,t),h=a.createElement("script"),it(h),Nt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function Z0(e,t,a,s){var u=(u=Ce.current)?Nl(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ns(a.href),a=ja(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ns(a.href);var h=ja(u).hoistableStyles,x=h.get(e);if(x||(u=u.ownerDocument||u,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,x),(h=u.querySelector(si(e)))&&!h._p&&(x.instance=h,x.state.loading=5),ha.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ha.set(e,a),h||Ry(u,e,a,x.state))),t&&s===null)throw Error(l(528,""));return x}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rs(a),a=ja(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ns(e){return'href="'+ra(e)+'"'}function si(e){return'link[rel="stylesheet"]['+e+"]"}function W0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ry(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Nt(t,"link",a),it(t),e.head.appendChild(t))}function rs(e){return'[src="'+ra(e)+'"]'}function ii(e){return"script[async]"+e}function em(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ra(a.href)+'"]');if(s)return t.instance=s,it(s),s;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),Nt(s,"style",u),El(s,a.precedence,e),t.instance=s;case"stylesheet":u=ns(a.href);var h=e.querySelector(si(u));if(h)return t.state.loading|=4,t.instance=h,it(h),h;s=W0(a),(u=ha.get(u))&&ou(s,u),h=(e.ownerDocument||e).createElement("link"),it(h);var x=h;return x._p=new Promise(function(v,N){x.onload=v,x.onerror=N}),Nt(h,"link",s),t.state.loading|=4,El(h,a.precedence,e),t.instance=h;case"script":return h=rs(a.src),(u=e.querySelector(ii(h)))?(t.instance=u,it(u),u):(s=a,(u=ha.get(h))&&(s=b({},a),cu(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),it(u),Nt(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,El(s,a.precedence,e));return t.instance}function El(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,h=u,x=0;x<s.length;x++){var v=s[x];if(v.dataset.precedence===t)h=v;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tl=null;function tm(e,t,a){if(Tl===null){var s=new Map,u=Tl=new Map;u.set(a,s)}else u=Tl,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[ve]||h[te]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var x=h.getAttribute(t)||"";x=e+x;var v=s.get(x);v?v.push(h):s.set(x,[h])}}return s}function am(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Uy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=ns(s.href),h=t.querySelector(si(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=h,it(h);return}h=t.ownerDocument||t,s=W0(s),(u=ha.get(u))&&ou(s,u),h=h.createElement("link"),it(h);var x=h;x._p=new Promise(function(v,N){x.onload=v,x.onerror=N}),Nt(h,"link",s),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Cl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uu=0;function My(e,t){return e.stylesheets&&e.count===0&&Ol(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Ol(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&uu===0&&(uu=62500*py());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ol(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>uu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ol(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Al=null;function Ol(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Al=new Map,t.forEach(zy,e),Al=null,Cl.call(e))}function zy(e,t){if(!(t.state.loading&4)){var a=Al.get(e);if(a)var s=a.get(null);else{a=new Map,Al.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var x=u[h];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),s=x)}s&&a.set(null,s)}u=t.instance,x=u.getAttribute("data-precedence"),h=a.get(x)||s,h===s&&a.set(null,u),a.set(x,u),this.count++,s=Cl.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var li={$$typeof:R,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Ly(e,t,a,s,u,h,x,v,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function rm(e,t,a,s,u,h,x,v,N,M,P,Q){return e=new Ly(e,t,a,x,N,M,P,Q,v),t=1,h===!0&&(t|=24),h=Yt(3,null,null,t),e.current=h,h.stateNode=e,t=Vo(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:s,isDehydrated:a,cache:t},Io(h),e}function sm(e){return e?(e=Ur,e):Ur}function im(e,t,a,s,u,h){u=sm(u),s.context===null?s.context=u:s.pendingContext=u,s=Cn(t),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=An(e,s,t),a!==null&&(Vt(a,e,t),$s(a,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function du(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function om(e){if(e.tag===13||e.tag===31){var t=tr(e,67108864);t!==null&&Vt(t,e,67108864),du(e,67108864)}}function cm(e){if(e.tag===13||e.tag===31){var t=Jt();t=Rt(t);var a=tr(e,t);a!==null&&Vt(a,e,t),du(e,t)}}var Dl=!0;function $y(e,t,a,s){var u=z.T;z.T=null;var h=J.p;try{J.p=2,hu(e,t,a,s)}finally{J.p=h,z.T=u}}function By(e,t,a,s){var u=z.T;z.T=null;var h=J.p;try{J.p=8,hu(e,t,a,s)}finally{J.p=h,z.T=u}}function hu(e,t,a,s){if(Dl){var u=fu(s);if(u===null)Zc(e,t,s,Rl,a),dm(e,s);else if(Hy(u,e,t,a,s))s.stopPropagation();else if(dm(e,s),t&4&&-1<qy.indexOf(e)){for(;u!==null;){var h=aa(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var x=ba(h.pendingLanes);if(x!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var N=1<<31-wt(x);v.entanglements[1]|=N,x&=~N}La(h),(Ge&6)===0&&(gl=Be()+500,ti(0))}}break;case 31:case 13:v=tr(h,2),v!==null&&Vt(v,h,2),xl(),du(h,2)}if(h=fu(s),h===null&&Zc(e,t,s,Rl,a),h===u)break;u=h}u!==null&&s.stopPropagation()}else Zc(e,t,s,null,a)}}function fu(e){return e=go(e),mu(e)}var Rl=null;function mu(e){if(Rl=null,e=wa(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rl=e,null}function um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case xn:return 2;case Qn:return 8;case xa:case tt:return 32;case $e:return 268435456;default:return 32}default:return 32}}var gu=!1,qn=null,Hn=null,Vn=null,oi=new Map,ci=new Map,Gn=[],qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dm(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function ui(e,t,a,s,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},t!==null&&(t=aa(t),t!==null&&om(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Hy(e,t,a,s,u){switch(t){case"focusin":return qn=ui(qn,e,t,a,s,u),!0;case"dragenter":return Hn=ui(Hn,e,t,a,s,u),!0;case"mouseover":return Vn=ui(Vn,e,t,a,s,u),!0;case"pointerover":var h=u.pointerId;return oi.set(h,ui(oi.get(h)||null,e,t,a,s,u)),!0;case"gotpointercapture":return h=u.pointerId,ci.set(h,ui(ci.get(h)||null,e,t,a,s,u)),!0}return!1}function hm(e){var t=wa(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,$(e.priority,function(){cm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,$(e.priority,function(){cm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=fu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);mo=s,a.target.dispatchEvent(s),mo=null}else return t=aa(a),t!==null&&om(t),e.blockedOn=a,!1;t.shift()}return!0}function fm(e,t,a){Fl(e)&&a.delete(t)}function Vy(){gu=!1,qn!==null&&Fl(qn)&&(qn=null),Hn!==null&&Fl(Hn)&&(Hn=null),Vn!==null&&Fl(Vn)&&(Vn=null),oi.forEach(fm),ci.forEach(fm)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vy)))}var Ml=null;function mm(e){Ml!==e&&(Ml=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ml===e&&(Ml=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(mu(s||a)===null)continue;break}var h=aa(a);h!==null&&(e.splice(t,3),t-=3,fc(h,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function ss(e){function t(N){return Ul(N,e)}qn!==null&&Ul(qn,e),Hn!==null&&Ul(Hn,e),Vn!==null&&Ul(Vn,e),oi.forEach(t),ci.forEach(t);for(var a=0;a<Gn.length;a++){var s=Gn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)hm(a),a.blockedOn===null&&Gn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],h=a[s+1],x=u[ne]||null;if(typeof h=="function")x||mm(a);else if(x){var v=null;if(h&&h.hasAttribute("formAction")){if(u=h,x=h[ne]||null)v=x.formAction;else if(mu(u)!==null)continue}else v=x.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),mm(a)}}}function gm(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(x){return u=x})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function pu(e){this._internalRoot=e}zl.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Jt();im(a,s,e,t,null,null)},zl.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;im(e.current,2,null,e,null,null),xl(),t[le]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=B();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Gn.length&&t!==0&&t<Gn[a].priority;a++);Gn.splice(a,0,e),a===0&&hm(e)}};var pm=n.version;if(pm!=="19.2.3")throw Error(l(527,pm,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Gy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{Ct=Ll.inject(Gy),We=Ll}catch{}}return hi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",u=_f,h=kf,x=Sf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=rm(e,1,!1,null,null,a,s,null,u,h,x,gm),e[le]=t.current,Jc(e),new pu(t)},hi.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,u="",h=_f,x=kf,v=Sf,N=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),t=rm(e,1,!0,t,a??null,s,u,N,h,x,v,gm),t.context=sm(null),a=t.current,s=Jt(),s=Rt(s),u=Cn(s),u.callback=null,An(a,u,s),a=s,t.current.lanes=a,Ya(t,a),La(t),e[le]=t.current,Jc(e),new zl(t)},hi.version="19.2.3",hi}var Nm;function ab(){if(Nm)return bu.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),bu.exports=tb(),bu.exports}var nb=ab();const rb=ld(nb);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Em="popstate";function sb(i={}){function n(l,c){let{pathname:d,search:f,hash:m}=l.location;return Pu("",{pathname:d,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){return typeof c=="string"?c:yi(c)}return lb(n,r,null,i)}function rt(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function ma(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ib(){return Math.random().toString(36).substring(2,10)}function Tm(i,n){return{usr:i.state,key:i.key,idx:n}}function Pu(i,n,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?ys(n):n,state:r,key:n&&n.key||l||ib()}}function yi({pathname:i="/",search:n="",hash:r=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ys(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function lb(i,n,r,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,f=c.history,m="POP",g=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function b(){m="POP";let S=y(),F=S==null?null:S-p;p=S,g&&g({action:m,location:k.location,delta:F})}function j(S,F){m="PUSH";let q=Pu(k.location,S,F);p=y()+1;let R=Tm(q,p),re=k.createHref(q);try{f.pushState(R,"",re)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;c.location.assign(re)}d&&g&&g({action:m,location:k.location,delta:1})}function w(S,F){m="REPLACE";let q=Pu(k.location,S,F);p=y();let R=Tm(q,p),re=k.createHref(q);f.replaceState(R,"",re),d&&g&&g({action:m,location:k.location,delta:0})}function E(S){return ob(S)}let k={get action(){return m},get location(){return i(c,f)},listen(S){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Em,b),g=S,()=>{c.removeEventListener(Em,b),g=null}},createHref(S){return n(c,S)},createURL:E,encodeLocation(S){let F=E(S);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:j,replace:w,go(S){return f.go(S)}};return k}function ob(i,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rt(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:yi(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function bg(i,n,r="/"){return cb(i,n,r,!1)}function cb(i,n,r,l){let c=typeof n=="string"?ys(n):n,d=gn(c.pathname||"/",r);if(d==null)return null;let f=vg(i);ub(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=jg(d);m=bb(f[g],p,l)}return m}function vg(i,n=[],r=[],l="",c=!1){let d=(f,m,g=c,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&g)return;rt(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let b=mn([l,y.relativePath]),j=r.concat(y);f.children&&f.children.length>0&&(rt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vg(f.children,n,j,b,g)),!(f.path==null&&!f.index)&&n.push({path:b,score:xb(b,f.index),routesMeta:j})};return i.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))d(f,m);else for(let p of wg(f.path))d(f,m,!0,p)}),n}function wg(i){let n=i.split("/");if(n.length===0)return[];let[r,...l]=n,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let f=wg(l.join("/")),m=[];return m.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function ub(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:yb(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var db=/^:[\w-]+$/,hb=3,fb=2,mb=1,gb=10,pb=-2,Cm=i=>i==="*";function xb(i,n){let r=i.split("/"),l=r.length;return r.some(Cm)&&(l+=pb),n&&(l+=fb),r.filter(c=>!Cm(c)).reduce((c,d)=>c+(db.test(d)?hb:d===""?mb:gb),l)}function yb(i,n){return i.length===n.length&&i.slice(0,-1).every((l,c)=>l===n[c])?i[i.length-1]-n[n.length-1]:0}function bb(i,n,r=!1){let{routesMeta:l}=i,c={},d="/",f=[];for(let m=0;m<l.length;++m){let g=l[m],p=m===l.length-1,y=d==="/"?n:n.slice(d.length)||"/",b=bi({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),j=g.route;if(!b&&p&&r&&!l[l.length-1].route.index&&(b=bi({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:mn([d,b.pathname]),pathnameBase:kb(mn([d,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(d=mn([d,b.pathnameBase]))}return f}function bi(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=vb(i.path,i.caseSensitive,i.end),c=n.match(r);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:b},j)=>{if(y==="*"){let E=m[j]||"";f=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const w=m[j];return b&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:i}}function vb(i,n=!1,r=!0){ma(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(l.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function jg(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ma(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function gn(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wb=i=>_g.test(i);function jb(i,n="/"){let{pathname:r,search:l="",hash:c=""}=typeof i=="string"?ys(i):i,d;if(r)if(wb(r))d=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),ma(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?d=Am(r.substring(1),"/"):d=Am(r,n)}else d=n;return{pathname:d,search:Sb(l),hash:Nb(c)}}function Am(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function _u(i,n,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _b(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function cd(i){let n=_b(i);return n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase)}function ud(i,n,r,l=!1){let c;typeof i=="string"?c=ys(i):(c={...i},rt(!c.pathname||!c.pathname.includes("?"),_u("?","pathname","search",c)),rt(!c.pathname||!c.pathname.includes("#"),_u("#","pathname","hash",c)),rt(!c.search||!c.search.includes("#"),_u("#","search","hash",c)));let d=i===""||c.pathname==="",f=d?"/":c.pathname,m;if(f==null)m=r;else{let b=n.length-1;if(!l&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),b-=1;c.pathname=j.join("/")}m=b>=0?n[b]:"/"}let g=jb(c,m),p=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var mn=i=>i.join("/").replace(/\/\/+/g,"/"),kb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Sb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Nb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Eb=class{constructor(i,n,r,l=!1){this.status=i,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Tb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Cb(i){return i.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sg(i,n){let r=i;if(typeof r!="string"||!_g.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,c=!1;if(kg)try{let d=new URL(window.location.href),f=r.startsWith("//")?new URL(d.protocol+r):new URL(r),m=gn(f.pathname,n);f.origin===d.origin&&m!=null?r=m+f.search+f.hash:c=!0}catch{ma(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var Ab=["GET",...Ng];new Set(Ab);var bs=_.createContext(null);bs.displayName="DataRouter";var ro=_.createContext(null);ro.displayName="DataRouterState";var Ob=_.createContext(!1),Eg=_.createContext({isTransitioning:!1});Eg.displayName="ViewTransition";var Db=_.createContext(new Map);Db.displayName="Fetchers";var Rb=_.createContext(null);Rb.displayName="Await";var ea=_.createContext(null);ea.displayName="Navigation";var _i=_.createContext(null);_i.displayName="Location";var $a=_.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var dd=_.createContext(null);dd.displayName="RouteError";var Tg="REACT_ROUTER_ERROR",Fb="REDIRECT",Ub="ROUTE_ERROR_RESPONSE";function Mb(i){if(i.startsWith(`${Tg}:${Fb}:{`))try{let n=JSON.parse(i.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function zb(i){if(i.startsWith(`${Tg}:${Ub}:{`))try{let n=JSON.parse(i.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Eb(n.status,n.statusText,n.data)}catch{}}function Lb(i,{relative:n}={}){rt(vr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=_.useContext(ea),{hash:c,pathname:d,search:f}=ki(i,{relative:n}),m=d;return r!=="/"&&(m=d==="/"?r:mn([r,d])),l.createHref({pathname:m,search:f,hash:c})}function vr(){return _.useContext(_i)!=null}function Ba(){return rt(vr(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(_i).location}function Om(i){rt(vr(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:n}=Ba();return _.useMemo(()=>bi(i,jg(n)),[n,i])}var Cg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ag(i){_.useContext(ea).static||_.useLayoutEffect(i)}function hd(){let{isDataRoute:i}=_.useContext($a);return i?Jb():$b()}function $b(){rt(vr(),"useNavigate() may be used only in the context of a <Router> component.");let i=_.useContext(bs),{basename:n,navigator:r}=_.useContext(ea),{matches:l}=_.useContext($a),{pathname:c}=Ba(),d=JSON.stringify(cd(l)),f=_.useRef(!1);return Ag(()=>{f.current=!0}),_.useCallback((g,p={})=>{if(ma(f.current,Cg),!f.current)return;if(typeof g=="number"){r.go(g);return}let y=ud(g,JSON.parse(d),c,p.relative==="path");i==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:mn([n,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[n,r,d,c,i])}_.createContext(null);function ki(i,{relative:n}={}){let{matches:r}=_.useContext($a),{pathname:l}=Ba(),c=JSON.stringify(cd(r));return _.useMemo(()=>ud(i,JSON.parse(c),l,n==="path"),[i,c,l,n])}function Bb(i,n){return Og(i,n)}function Og(i,n,r,l,c){var q;rt(vr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=_.useContext(ea),{matches:f}=_.useContext($a),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let R=b&&b.path||"";Rg(p,!b||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let j=Ba(),w;if(n){let R=typeof n=="string"?ys(n):n;rt(y==="/"||((q=R.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=j;let E=w.pathname||"/",k=E;if(y!=="/"){let R=y.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=bg(i,{pathname:k});ma(b||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ma(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Pb(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},g,R.params),pathname:mn([y,d.encodeLocation?d.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:mn([y,d.encodeLocation?d.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),f,r,l,c);return n&&F?_.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},F):F}function qb(){let i=Xb(),n=Tb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:d},"ErrorBoundary")," or"," ",_.createElement("code",{style:d},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},n),r?_.createElement("pre",{style:c},r):null,f)}var Hb=_.createElement(qb,null),Dg=class extends _.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=zb(i.digest);r&&(i=r)}let n=i!==void 0?_.createElement($a.Provider,{value:this.props.routeContext},_.createElement(dd.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?_.createElement(Vb,{error:i},n):n}};Dg.contextType=Ob;var ku=new WeakMap;function Vb({children:i,error:n}){let{basename:r}=_.useContext(ea);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=Mb(n.digest);if(l){let c=ku.get(n);if(c)throw c;let d=Sg(l.location,r);if(kg&&!ku.get(n))if(d.isExternal||l.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:l.replace}));throw ku.set(n,f),f}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return i}function Gb({routeContext:i,match:n,children:r}){let l=_.useContext(bs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement($a.Provider,{value:i},r)}function Pb(i,n=[],r=null,l=null,c=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let d=i,f=r==null?void 0:r.errors;if(f!=null){let y=d.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);rt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,g=-1;if(r)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:j,errors:w}=r,E=b.route.loader&&!j.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||E){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let p=r&&l?(y,b)=>{var j,w;l(y,{location:r.location,params:((w=(j=r.matches)==null?void 0:j[0])==null?void 0:w.params)??{},unstable_pattern:Cb(r.matches),errorInfo:b})}:void 0;return d.reduceRight((y,b,j)=>{let w,E=!1,k=null,S=null;r&&(w=f&&b.route.id?f[b.route.id]:void 0,k=b.route.errorElement||Hb,m&&(g<0&&j===0?(Rg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):g===j&&(E=!0,S=b.route.hydrateFallbackElement||null)));let F=n.concat(d.slice(0,j+1)),q=()=>{let R;return w?R=k:E?R=S:b.route.Component?R=_.createElement(b.route.Component,null):b.route.element?R=b.route.element:R=y,_.createElement(Gb,{match:b,routeContext:{outlet:y,matches:F,isDataRoute:r!=null},children:R})};return r&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?_.createElement(Dg,{location:r.location,revalidation:r.revalidation,component:k,error:w,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):q()},null)}function fd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(i){let n=_.useContext(bs);return rt(n,fd(i)),n}function Ib(i){let n=_.useContext(ro);return rt(n,fd(i)),n}function Kb(i){let n=_.useContext($a);return rt(n,fd(i)),n}function md(i){let n=Kb(i),r=n.matches[n.matches.length-1];return rt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Qb(){return md("useRouteId")}function Xb(){var l;let i=_.useContext(dd),n=Ib("useRouteError"),r=md("useRouteError");return i!==void 0?i:(l=n.errors)==null?void 0:l[r]}function Jb(){let{router:i}=Yb("useNavigate"),n=md("useNavigate"),r=_.useRef(!1);return Ag(()=>{r.current=!0}),_.useCallback(async(c,d={})=>{ma(r.current,Cg),r.current&&(typeof c=="number"?await i.navigate(c):await i.navigate(c,{fromRouteId:n,...d}))},[i,n])}var Dm={};function Rg(i,n,r){!n&&!Dm[i]&&(Dm[i]=!0,ma(!1,r))}_.memo(Zb);function Zb({routes:i,future:n,state:r,onError:l}){return Og(i,void 0,r,l,n)}function $l({to:i,replace:n,state:r,relative:l}){rt(vr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=_.useContext(ea);ma(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=_.useContext($a),{pathname:f}=Ba(),m=hd(),g=ud(i,cd(d),f,l==="path"),p=JSON.stringify(g);return _.useEffect(()=>{m(JSON.parse(p),{replace:n,state:r,relative:l})},[m,p,l,n,r]),null}function fa(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wb({basename:i="/",children:n=null,location:r,navigationType:l="POP",navigator:c,static:d=!1,unstable_useTransitions:f}){rt(!vr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:m,navigator:c,static:d,unstable_useTransitions:f,future:{}}),[m,c,d,f]);typeof r=="string"&&(r=ys(r));let{pathname:p="/",search:y="",hash:b="",state:j=null,key:w="default"}=r,E=_.useMemo(()=>{let k=gn(p,m);return k==null?null:{location:{pathname:k,search:y,hash:b,state:j,key:w},navigationType:l}},[m,p,y,b,j,w,l]);return ma(E!=null,`<Router basename="${m}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(ea.Provider,{value:g},_.createElement(_i.Provider,{children:n,value:E}))}function ev({children:i,location:n}){return Bb(Yu(i),n)}function Yu(i,n=[]){let r=[];return _.Children.forEach(i,(l,c)=>{if(!_.isValidElement(l))return;let d=[...n,c];if(l.type===_.Fragment){r.push.apply(r,Yu(l.props.children,d));return}rt(l.type===fa,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Yu(l.props.children,d)),r.push(f)}),r}var Jl="get",Zl="application/x-www-form-urlencoded";function so(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function tv(i){return so(i)&&i.tagName.toLowerCase()==="button"}function av(i){return so(i)&&i.tagName.toLowerCase()==="form"}function nv(i){return so(i)&&i.tagName.toLowerCase()==="input"}function rv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sv(i,n){return i.button===0&&(!n||n==="_self")&&!rv(i)}var Bl=null;function iv(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Su(i){return i!=null&&!lv.has(i)?(ma(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):i}function ov(i,n){let r,l,c,d,f;if(av(i)){let m=i.getAttribute("action");l=m?gn(m,n):null,r=i.getAttribute("method")||Jl,c=Su(i.getAttribute("enctype"))||Zl,d=new FormData(i)}else if(tv(i)||nv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(l=g?gn(g,n):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||Jl,c=Su(i.getAttribute("formenctype"))||Su(m.getAttribute("enctype"))||Zl,d=new FormData(m,i),!iv()){let{name:p,type:y,value:b}=i;if(y==="image"){let j=p?`${p}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else p&&d.append(p,b)}}else{if(so(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jl,l=null,c=Zl,f=i}return d&&c==="text/plain"&&(f=d,d=void 0),{action:l,method:r.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gd(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function cv(i,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:n&&gn(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function uv(i,n){if(i.id in n)return n[i.id];try{let r=await import(i.module);return n[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hv(i,n,r){let l=await Promise.all(i.map(async c=>{let d=n.routes[c.route.id];if(d){let f=await uv(d,r);return f.links?f.links():[]}return[]}));return pv(l.flat(1).filter(dv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Rm(i,n,r,l,c,d){let f=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>{var y;return r[p].pathname!==g.pathname||((y=r[p].route.path)==null?void 0:y.endsWith("*"))&&r[p].params["*"]!==g.params["*"]};return d==="assets"?n.filter((g,p)=>f(g,p)||m(g,p)):d==="data"?n.filter((g,p)=>{var b;let y=l.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let j=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((b=r[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function fv(i,n,{includeHydrateFallback:r}={}){return mv(i.map(l=>{let c=n.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function mv(i){return[...new Set(i)]}function gv(i){let n={},r=Object.keys(i).sort();for(let l of r)n[l]=i[l];return n}function pv(i,n){let r=new Set;return new Set(n),i.reduce((l,c)=>{let d=JSON.stringify(gv(c));return r.has(d)||(r.add(d),l.push({key:d,link:c})),l},[])}function Fg(){let i=_.useContext(bs);return gd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function xv(){let i=_.useContext(ro);return gd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pd=_.createContext(void 0);pd.displayName="FrameworkContext";function Ug(){let i=_.useContext(pd);return gd(i,"You must render this element inside a <HydratedRouter> element"),i}function yv(i,n){let r=_.useContext(pd),[l,c]=_.useState(!1),[d,f]=_.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=n,j=_.useRef(null);_.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let k=F=>{F.forEach(q=>{f(q.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return j.current&&S.observe(j.current),()=>{S.disconnect()}}},[i]),_.useEffect(()=>{if(l){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[l]);let w=()=>{c(!0)},E=()=>{c(!1),f(!1)};return r?i!=="intent"?[d,j,{}]:[d,j,{onFocus:fi(m,w),onBlur:fi(g,E),onMouseEnter:fi(p,w),onMouseLeave:fi(y,E),onTouchStart:fi(b,w)}]:[!1,j,{}]}function fi(i,n){return r=>{i&&i(r),r.defaultPrevented||n(r)}}function bv({page:i,...n}){let{router:r}=Fg(),l=_.useMemo(()=>bg(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?_.createElement(wv,{page:i,matches:l,...n}):null}function vv(i){let{manifest:n,routeModules:r}=Ug(),[l,c]=_.useState([]);return _.useEffect(()=>{let d=!1;return hv(i,n,r).then(f=>{d||c(f)}),()=>{d=!0}},[i,n,r]),l}function wv({page:i,matches:n,...r}){let l=Ba(),{manifest:c,routeModules:d}=Ug(),{basename:f}=Fg(),{loaderData:m,matches:g}=xv(),p=_.useMemo(()=>Rm(i,n,g,c,l,"data"),[i,n,g,c,l]),y=_.useMemo(()=>Rm(i,n,g,c,l,"assets"),[i,n,g,c,l]),b=_.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let E=new Set,k=!1;if(n.forEach(F=>{var R;let q=c.routes[F.route.id];!q||!q.hasLoader||(!p.some(re=>re.route.id===F.route.id)&&F.route.id in m&&((R=d[F.route.id])!=null&&R.shouldRevalidate)||q.hasClientLoader?k=!0:E.add(F.route.id))}),E.size===0)return[];let S=cv(i,f,"data");return k&&E.size>0&&S.searchParams.set("_routes",n.filter(F=>E.has(F.route.id)).map(F=>F.route.id).join(",")),[S.pathname+S.search]},[f,m,l,c,p,n,i,d]),j=_.useMemo(()=>fv(y,c),[y,c]),w=vv(y);return _.createElement(_.Fragment,null,b.map(E=>_.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),j.map(E=>_.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),w.map(({key:E,link:k})=>_.createElement("link",{key:E,nonce:r.nonce,...k})))}function jv(...i){return n=>{i.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_v&&(window.__reactRouterVersion="7.11.0")}catch{}function kv({basename:i,children:n,unstable_useTransitions:r,window:l}){let c=_.useRef();c.current==null&&(c.current=sb({window:l,v5Compat:!0}));let d=c.current,[f,m]=_.useState({action:d.action,location:d.location}),g=_.useCallback(p=>{r===!1?m(p):_.startTransition(()=>m(p))},[r]);return _.useLayoutEffect(()=>d.listen(g),[d,g]),_.createElement(Wb,{basename:i,children:n,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:r})}var Mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zg=_.forwardRef(function({onClick:n,discover:r="render",prefetch:l="none",relative:c,reloadDocument:d,replace:f,state:m,target:g,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j,...w},E){let{basename:k,unstable_useTransitions:S}=_.useContext(ea),F=typeof p=="string"&&Mg.test(p),q=Sg(p,k);p=q.to;let R=Lb(p,{relative:c}),[re,ce,Y]=yv(l,w),Z=Tv(p,{replace:f,state:m,target:g,preventScrollReset:y,relative:c,viewTransition:b,unstable_defaultShouldRevalidate:j,unstable_useTransitions:S});function O(X){n&&n(X),X.defaultPrevented||Z(X)}let W=_.createElement("a",{...w,...Y,href:q.absoluteURL||R,onClick:q.isExternal||d?n:O,ref:jv(E,ce),target:g,"data-discover":!F&&r==="render"?"true":void 0});return re&&!F?_.createElement(_.Fragment,null,W,_.createElement(bv,{page:R})):W});zg.displayName="Link";var Sv=_.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:l="",end:c=!1,style:d,to:f,viewTransition:m,children:g,...p},y){let b=ki(f,{relative:p.relative}),j=Ba(),w=_.useContext(ro),{navigator:E,basename:k}=_.useContext(ea),S=w!=null&&Rv(b)&&m===!0,F=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,q=j.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(q=q.toLowerCase(),R=R?R.toLowerCase():null,F=F.toLowerCase()),R&&k&&(R=gn(R,k)||R);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=q===F||!c&&q.startsWith(F)&&q.charAt(re)==="/",Y=R!=null&&(R===F||!c&&R.startsWith(F)&&R.charAt(F.length)==="/"),Z={isActive:ce,isPending:Y,isTransitioning:S},O=ce?n:void 0,W;typeof l=="function"?W=l(Z):W=[l,ce?"active":null,Y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let X=typeof d=="function"?d(Z):d;return _.createElement(zg,{...p,"aria-current":O,className:W,ref:y,style:X,to:f,viewTransition:m},typeof g=="function"?g(Z):g)});Sv.displayName="NavLink";var Nv=_.forwardRef(({discover:i="render",fetcherKey:n,navigate:r,reloadDocument:l,replace:c,state:d,method:f=Jl,action:m,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j,...w},E)=>{let{unstable_useTransitions:k}=_.useContext(ea),S=Ov(),F=Dv(m,{relative:p}),q=f.toLowerCase()==="get"?"get":"post",R=typeof m=="string"&&Mg.test(m),re=ce=>{if(g&&g(ce),ce.defaultPrevented)return;ce.preventDefault();let Y=ce.nativeEvent.submitter,Z=(Y==null?void 0:Y.getAttribute("formmethod"))||f,O=()=>S(Y||ce.currentTarget,{fetcherKey:n,method:Z,navigate:r,replace:c,state:d,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j});k&&r!==!1?_.startTransition(()=>O()):O()};return _.createElement("form",{ref:E,method:q,action:F,onSubmit:l?g:re,...w,"data-discover":!R&&i==="render"?"true":void 0})});Nv.displayName="Form";function Ev(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lg(i){let n=_.useContext(bs);return rt(n,Ev(i)),n}function Tv(i,{target:n,replace:r,state:l,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=hd(),y=Ba(),b=ki(i,{relative:d});return _.useCallback(j=>{if(sv(j,n)){j.preventDefault();let w=r!==void 0?r:yi(y)===yi(b),E=()=>p(i,{replace:w,state:l,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m});g?_.startTransition(()=>E()):E()}},[y,p,b,r,l,n,i,c,d,f,m,g])}var Cv=0,Av=()=>`__${String(++Cv)}__`;function Ov(){let{router:i}=Lg("useSubmit"),{basename:n}=_.useContext(ea),r=Qb(),l=i.fetch,c=i.navigate;return _.useCallback(async(d,f={})=>{let{action:m,method:g,encType:p,formData:y,body:b}=ov(d,n);if(f.navigate===!1){let j=f.fetcherKey||Av();await l(j,r,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await c(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,c,n,r])}function Dv(i,{relative:n}={}){let{basename:r}=_.useContext(ea),l=_.useContext($a);rt(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...ki(i||".",{relative:n})},f=Ba();if(i==null){d.search=f.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();d.search=y?`?${y}`:""}}return(!i||i===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:mn([r,d.pathname])),yi(d)}function Rv(i,{relative:n}={}){let r=_.useContext(Eg);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Lg("useViewTransitionState"),c=ki(i,{relative:n});if(!r.isTransitioning)return!1;let d=gn(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=gn(r.nextLocation.pathname,l)||r.nextLocation.pathname;return bi(c.pathname,f)!=null||bi(c.pathname,d)!=null}const Nu={};var Eu={};const Fv="",Uv=typeof process<"u"&&(Eu==null?void 0:Eu.VITE_AUTH_REDIRECT)||typeof import.meta<"u"&&(Nu==null?void 0:Nu.VITE_AUTH_REDIRECT),Tu=Uv||(typeof window<"u"?window.location.origin:"http://localhost:5173"),ql=[{id:"p-dad",name:"",balance:0,history:[],avatarColor:"bg-blue-600",role:"admin"},{id:"p-sister1",name:"",balance:0,history:[],avatarColor:"bg-pink-500",role:"child"},{id:"p-sister2",name:"",balance:0,history:[],avatarColor:"bg-purple-500",role:"child"}],Cu=[{id:"l1",category:"learning",title:"",description:"9",points:1,frequency:""},{id:"l2",category:"learning",title:"",description:"",points:1,frequency:""},{id:"l3",category:"learning",title:"",description:">5",points:1,frequency:""},{id:"l4",category:"learning",title:"",description:"15",points:1,frequency:""},{id:"l5",category:"learning",title:"",description:"",points:2,frequency:""},{id:"l6",category:"learning",title:"",description:"",points:2,frequency:""},{id:"l7",category:"learning",title:"",description:"/",points:2,frequency:""},{id:"l8",category:"learning",title:"",description:"/",points:2,frequency:""},{id:"l9",category:"learning",title:"",description:"",points:2,frequency:""},{id:"l10",category:"learning",title:"",description:"",points:2,frequency:""},{id:"l11",category:"learning",title:"/",description:"/100+",points:3,frequency:""},{id:"l12",category:"learning",title:"",description:"",points:3,frequency:""},{id:"l13",category:"learning",title:"",description:"300+",points:5,frequency:""},{id:"l14",category:"learning",title:"",description:"",points:5,frequency:""},{id:"l15",category:"learning",title:"",description:"",points:5,frequency:""},{id:"l16",category:"learning",title:"",description:"95",points:20,frequency:""},{id:"l17",category:"learning",title:"",description:"",points:20,frequency:""},{id:"c1",category:"chores",title:"",description:"",points:1,frequency:""},{id:"c2",category:"chores",title:"",description:"",points:1,frequency:""},{id:"c3",category:"chores",title:"",description:"/",points:1,frequency:""},{id:"c4",category:"chores",title:"",description:"",points:1,frequency:""},{id:"c5",category:"chores",title:"",description:"/",points:1,frequency:""},{id:"c6",category:"chores",title:"",description:"",points:1,frequency:""},{id:"c7",category:"chores",title:"",description:"",points:2,frequency:""},{id:"c8",category:"chores",title:"",description:"",points:2,frequency:""},{id:"c9",category:"chores",title:"",description:"",points:2,frequency:""},{id:"c10",category:"chores",title:"",description:"",points:2,frequency:""},{id:"p1",category:"penalty",title:"",description:"",points:-3,frequency:""},{id:"p2",category:"penalty",title:"",description:"",points:-5,frequency:""}],Au=[{id:"r1",title:"//",points:5,type:""},{id:"r2",title:"",points:10,type:""},{id:"r3",title:"/ 20",points:20,type:""},{id:"r4",title:"",points:100,type:""}];var Iu=function(i,n){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},Iu(i,n)};function $g(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Iu(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Wl=function(){return Wl=Object.assign||function(n){for(var r,l=1,c=arguments.length;l<c;l++){r=arguments[l];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Wl.apply(this,arguments)};function vs(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(r[l[c]]=i[l[c]]);return r}function Bg(i,n,r,l){var c=arguments.length,d=c<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,r):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,n,r,l);else for(var m=i.length-1;m>=0;m--)(f=i[m])&&(d=(c<3?f(d):c>3?f(n,r,d):f(n,r))||d);return c>3&&d&&Object.defineProperty(n,r,d),d}function qg(i,n){return function(r,l){n(r,l,i)}}function Hg(i,n,r,l,c,d){function f(F){if(F!==void 0&&typeof F!="function")throw new TypeError("Function expected");return F}for(var m=l.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!n&&i?l.static?i:i.prototype:null,y=n||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),b,j=!1,w=r.length-1;w>=0;w--){var E={};for(var k in l)E[k]=k==="access"?{}:l[k];for(var k in l.access)E.access[k]=l.access[k];E.addInitializer=function(F){if(j)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(F||null))};var S=(0,r[w])(m==="accessor"?{get:y.get,set:y.set}:y[g],E);if(m==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(b=f(S.get))&&(y.get=b),(b=f(S.set))&&(y.set=b),(b=f(S.init))&&c.unshift(b)}else(b=f(S))&&(m==="field"?c.unshift(b):y[g]=b)}p&&Object.defineProperty(p,l.name,y),j=!0}function Vg(i,n,r){for(var l=arguments.length>2,c=0;c<n.length;c++)r=l?n[c].call(i,r):n[c].call(i);return l?r:void 0}function Gg(i){return typeof i=="symbol"?i:"".concat(i)}function Pg(i,n,r){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",n):n})}function Yg(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)}function be(i,n,r,l){function c(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function m(y){try{p(l.next(y))}catch(b){f(b)}}function g(y){try{p(l.throw(y))}catch(b){f(b)}}function p(y){y.done?d(y.value):c(y.value).then(m,g)}p((l=l.apply(i,n||[])).next())})}function Ig(i,n){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(y){return g([p,y])}}function g(p){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(r=0)),r;)try{if(l=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=n.call(i,r)}catch(y){p=[6,y],c=0}finally{l=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var io=Object.create?(function(i,n,r,l){l===void 0&&(l=r);var c=Object.getOwnPropertyDescriptor(n,r);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(i,l,c)}):(function(i,n,r,l){l===void 0&&(l=r),i[l]=n[r]});function Kg(i,n){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&io(n,i,r)}function eo(i){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&i[n],l=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xd(i,n){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var l=r.call(i),c,d=[],f;try{for(;(n===void 0||n-- >0)&&!(c=l.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(f)throw f.error}}return d}function Qg(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(xd(arguments[n]));return i}function Xg(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var l=Array(i),c=0,n=0;n<r;n++)for(var d=arguments[n],f=0,m=d.length;f<m;f++,c++)l[c]=d[f];return l}function Jg(i,n,r){if(r||arguments.length===2)for(var l=0,c=n.length,d;l<c;l++)(d||!(l in n))&&(d||(d=Array.prototype.slice.call(n,0,l)),d[l]=n[l]);return i.concat(d||Array.prototype.slice.call(n))}function gs(i){return this instanceof gs?(this.v=i,this):new gs(i)}function Zg(i,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(i,n||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(w){return function(E){return Promise.resolve(E).then(w,b)}}function m(w,E){l[w]&&(c[w]=function(k){return new Promise(function(S,F){d.push([w,k,S,F])>1||g(w,k)})},E&&(c[w]=E(c[w])))}function g(w,E){try{p(l[w](E))}catch(k){j(d[0][3],k)}}function p(w){w.value instanceof gs?Promise.resolve(w.value.v).then(y,b):j(d[0][2],w)}function y(w){g("next",w)}function b(w){g("throw",w)}function j(w,E){w(E),d.shift(),d.length&&g(d[0][0],d[0][1])}}function Wg(i){var n,r;return n={},l("next"),l("throw",function(c){throw c}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(c,d){n[c]=i[c]?function(f){return(r=!r)?{value:gs(i[c](f)),done:!1}:d?d(f):f}:d}}function ep(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],r;return n?n.call(i):(i=typeof eo=="function"?eo(i):i[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(d){r[d]=i[d]&&function(f){return new Promise(function(m,g){f=i[d](f),c(m,g,f.done,f.value)})}}function c(d,f,m,g){Promise.resolve(g).then(function(p){d({value:p,done:m})},f)}}function tp(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i}var Mv=Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n},Ku=function(i){return Ku=Object.getOwnPropertyNames||function(n){var r=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[r.length]=l);return r},Ku(i)};function ap(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var r=Ku(i),l=0;l<r.length;l++)r[l]!=="default"&&io(n,i,r[l]);return Mv(n,i),n}function np(i){return i&&i.__esModule?i:{default:i}}function rp(i,n,r,l){if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!l:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?l:r==="a"?l.call(i):l?l.value:n.get(i)}function sp(i,n,r,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!c:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(i,r):c?c.value=r:n.set(i,r),r}function ip(i,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?n===i:i.has(n)}function lp(i,n,r){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,c;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],r&&(c=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");c&&(l=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),i.stack.push({value:n,dispose:l,async:r})}else r&&i.stack.push({async:!0});return n}var zv=typeof SuppressedError=="function"?SuppressedError:function(i,n,r){var l=new Error(r);return l.name="SuppressedError",l.error=i,l.suppressed=n,l};function op(i){function n(d){i.error=i.hasError?new zv(d,i.error,"An error was suppressed during disposal."):d,i.hasError=!0}var r,l=0;function c(){for(;r=i.stack.pop();)try{if(!r.async&&l===1)return l=0,i.stack.push(r),Promise.resolve().then(c);if(r.dispose){var d=r.dispose.call(r.value);if(r.async)return l|=2,Promise.resolve(d).then(c,function(f){return n(f),c()})}else l|=1}catch(f){n(f)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return c()}function cp(i,n){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,l,c,d,f){return l?n?".jsx":".js":c&&(!d||!f)?r:c+d+"."+f.toLowerCase()+"js"}):i}const Lv={__extends:$g,__assign:Wl,__rest:vs,__decorate:Bg,__param:qg,__esDecorate:Hg,__runInitializers:Vg,__propKey:Gg,__setFunctionName:Pg,__metadata:Yg,__awaiter:be,__generator:Ig,__createBinding:io,__exportStar:Kg,__values:eo,__read:xd,__spread:Qg,__spreadArrays:Xg,__spreadArray:Jg,__await:gs,__asyncGenerator:Zg,__asyncDelegator:Wg,__asyncValues:ep,__makeTemplateObject:tp,__importStar:ap,__importDefault:np,__classPrivateFieldGet:rp,__classPrivateFieldSet:sp,__classPrivateFieldIn:ip,__addDisposableResource:lp,__disposeResources:op,__rewriteRelativeImportExtension:cp},$v=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lp,get __assign(){return Wl},__asyncDelegator:Wg,__asyncGenerator:Zg,__asyncValues:ep,__await:gs,__awaiter:be,__classPrivateFieldGet:rp,__classPrivateFieldIn:ip,__classPrivateFieldSet:sp,__createBinding:io,__decorate:Bg,__disposeResources:op,__esDecorate:Hg,__exportStar:Kg,__extends:$g,__generator:Ig,__importDefault:np,__importStar:ap,__makeTemplateObject:tp,__metadata:Yg,__param:qg,__propKey:Gg,__read:xd,__rest:vs,__rewriteRelativeImportExtension:cp,__runInitializers:Vg,__setFunctionName:Pg,__spread:Qg,__spreadArray:Jg,__spreadArrays:Xg,__values:eo,default:Lv},Symbol.toStringTag,{value:"Module"})),Bv="modulepreload",qv=function(i){return"/"+i},Fm={},wr=function(n,r,l){let c=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=f(r.map(p=>{if(p=qv(p),p in Fm)return;Fm[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const j=document.createElement("link");if(j.rel=y?"stylesheet":Bv,y||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),y)return new Promise((w,E)=>{j.addEventListener("load",w),j.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})},Hv=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>wr(async()=>{const{default:l}=await Promise.resolve().then(()=>jr);return{default:l}},[]).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)};class yd extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Um extends yd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Mm extends yd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class zm extends yd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Qu||(Qu={}));class Vv{constructor(n,{headers:r={},customFetch:l,region:c=Qu.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=Hv(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return be(this,arguments,void 0,function*(r,l={}){var c;try{const{headers:d,method:f,body:m,signal:g}=l;let p={},{region:y}=l;y||(y=this.region);const b=new URL(`${this.url}/${r}`);y&&y!=="any"&&(p["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let j;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(p["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(p["Content-Type"]="application/json",j=JSON.stringify(m)):j=m;const w=yield this.fetch(b.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),d),body:j,signal:g}).catch(F=>{throw F.name==="AbortError"?F:new Um(F)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new Mm(w);if(!w.ok)throw new zm(w);let k=((c=w.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield w.json():k==="application/octet-stream"||k==="application/pdf"?S=yield w.blob():k==="text/event-stream"?S=w:k==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new Um(d)}:{data:null,error:d,response:d instanceof zm||d instanceof Mm?d.context:void 0}}})}}var Dt={};const ws=yg($v);var Hl={},Vl={},Gl={},Pl={},Yl={},Gv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ps=Gv();const Pv=ps.fetch,up=ps.fetch.bind(ps),dp=ps.Headers,Yv=ps.Request,Iv=ps.Response,jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:dp,Request:Yv,Response:Iv,default:up,fetch:Pv},Symbol.toStringTag,{value:"Module"})),Kv=yg(jr);var Il={},Lm;function hp(){if(Lm)return Il;Lm=1,Object.defineProperty(Il,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Il.default=i,Il}var $m;function fp(){if($m)return Yl;$m=1,Object.defineProperty(Yl,"__esModule",{value:!0});const i=ws,n=i.__importDefault(Kv),r=i.__importDefault(hp());class l{constructor(d){var f,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,b,j,w;let E=null,k=null,S=null,F=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Y=await p.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=Y:k=JSON.parse(Y))}const re=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),ce=(j=p.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");re&&ce&&ce.length>1&&(S=parseInt(ce[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(E={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,S=null,F=406,q="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const re=await p.text();try{E=JSON.parse(re),Array.isArray(E)&&p.status===404&&(k=[],E=null,F=200,q="OK")}catch{p.status===404&&re===""?(F=204,q="No Content"):E={message:re}}if(E&&this.isMaybeSingle&&(!((w=E==null?void 0:E.details)===null||w===void 0)&&w.includes("0 rows"))&&(E=null,F=200,q="OK"),E&&this.shouldThrowOnError)throw new r.default(E)}return{error:E,data:k,count:S,status:F,statusText:q}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,b,j;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(j=p==null?void 0:p.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return Yl.default=l,Yl}var Bm;function mp(){if(Bm)return Pl;Bm=1,Object.defineProperty(Pl,"__esModule",{value:!0});const n=ws.__importDefault(fp());class r extends n.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(p,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${j}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Pl.default=r,Pl}var qm;function bd(){if(qm)return Gl;qm=1,Object.defineProperty(Gl,"__esModule",{value:!0});const n=ws.__importDefault(mp()),r=new RegExp("[,()]");class l extends n.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${p}fts${y}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return Gl.default=l,Gl}var Hm;function gp(){if(Hm)return Vl;Hm=1,Object.defineProperty(Vl,"__esModule",{value:!0});const n=ws.__importDefault(bd());class r{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},g=f?"HEAD":"GET";let p=!1;const y=(c??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const p=c.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((j,w)=>j.concat(Object.keys(w)),[]);if(b.length>0){const j=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vl.default=r,Vl}var Vm;function Qv(){if(Vm)return Hl;Vm=1,Object.defineProperty(Hl,"__esModule",{value:!0});const i=ws,n=i.__importDefault(gp()),r=i.__importDefault(bd());class l{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:p}={}){var y;let b;const j=new URL(`${this.url}/rpc/${d}`);let w;m||g?(b=m?"HEAD":"GET",Object.entries(f).filter(([k,S])=>S!==void 0).map(([k,S])=>[k,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([k,S])=>{j.searchParams.append(k,S)})):(b="POST",w=f);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new r.default({method:b,url:j,headers:E,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Hl.default=l,Hl}var Gm;function Xv(){if(Gm)return Dt;Gm=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PostgrestError=Dt.PostgrestBuilder=Dt.PostgrestTransformBuilder=Dt.PostgrestFilterBuilder=Dt.PostgrestQueryBuilder=Dt.PostgrestClient=void 0;const i=ws,n=i.__importDefault(Qv());Dt.PostgrestClient=n.default;const r=i.__importDefault(gp());Dt.PostgrestQueryBuilder=r.default;const l=i.__importDefault(bd());Dt.PostgrestFilterBuilder=l.default;const c=i.__importDefault(mp());Dt.PostgrestTransformBuilder=c.default;const d=i.__importDefault(fp());Dt.PostgrestBuilder=d.default;const f=i.__importDefault(hp());return Dt.PostgrestError=f.default,Dt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},Dt}var pp=Xv();const xp=ld(pp),Jv=Yy({__proto__:null,default:xp},[pp]),{PostgrestClient:Zv,PostgrestQueryBuilder:Jj,PostgrestFilterBuilder:Zj,PostgrestTransformBuilder:Wj,PostgrestBuilder:e2,PostgrestError:t2}=xp||Jv;class Wv{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ew="2.78.0",tw=`realtime-js/${ew}`,aw="1.0.0",Xu=1e4,nw=1e3,rw=100;var gi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(gi||(gi={}));var vt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(vt||(vt={}));var Ca;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ca||(Ca={}));var Ju;(function(i){i.websocket="websocket"})(Ju||(Ju={}));var xr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(xr||(xr={}));class sw{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,r,l)}_decodeBroadcast(n,r,l){const c=r.getUint8(1),d=r.getUint8(2);let f=this.HEADER_LENGTH+2;const m=l.decode(n.slice(f,f+c));f=f+c;const g=l.decode(n.slice(f,f+d));f=f+d;const p=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class yp{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(et||(et={}));const Pm=(i,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=iw(f,i,n,c),d),{}):{}},iw=(i,n,r,l)=>{const c=n.find(m=>m.name===i),d=c==null?void 0:c.type,f=r[i];return d&&!l.includes(d)?bp(d,f):Zu(f)},bp=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return uw(n,r)}switch(i){case et.bool:return lw(n);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return ow(n);case et.json:case et.jsonb:return cw(n);case et.timestamp:return dw(n);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Zu(n);default:return Zu(n)}},Zu=i=>i,lw=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},ow=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},cw=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},uw=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let d;const f=i.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>bp(n,m))}return i},dw=i=>typeof i=="string"?i.replace(" ","T"):i,vp=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ou{constructor(n,r,l={},c=Xu){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ym;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ym||(Ym={}));class pi{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=pi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=pi.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const d=this.cloneDeep(n),f=this.transformState(r),m={},g={};return this.map(d,(p,y)=>{f[p]||(g[p]=y)}),this.map(f,(p,y)=>{const b=d[p];if(b){const j=y.map(S=>S.presence_ref),w=b.map(S=>S.presence_ref),E=y.filter(S=>w.indexOf(S.presence_ref)<0),k=b.filter(S=>j.indexOf(S.presence_ref)<0);E.length>0&&(m[p]=E),k.length>0&&(g[p]=k)}else m[p]=y}),this.syncDiff(d,{joins:m,leaves:g},l,c)}static syncDiff(n,r,l,c){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var p;const y=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(g),y.length>0){const b=n[m].map(w=>w.presence_ref),j=y.filter(w=>b.indexOf(w.presence_ref)<0);n[m].unshift(...j)}l(m,y,g)}),this.map(f,(m,g)=>{let p=n[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),n[m]=p,c(m,p,g),p.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Im;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Im||(Im={}));var xi;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(xi||(xi={}));var fn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class vd{constructor(n,r={config:{}},l){var c,d;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ou(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new pi(this),this.broadcastEndpointURL=vp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,p=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[xi.PRESENCE]&&this.bindings[xi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},j={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>n==null?void 0:n(fn.CHANNEL_ERROR,w)),this._onClose(()=>n==null?void 0:n(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){n==null||n(fn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,F=[];for(let q=0;q<S;q++){const R=k[q],{filter:{event:re,schema:ce,table:Y,filter:Z}}=R,O=w&&w[q];if(O&&O.event===re&&O.schema===ce&&O.table===Y&&O.filter===Z)F.push(Object.assign(Object.assign({},R),{id:O.id}));else{this.unsubscribe(),this.state=vt.errored,n==null||n(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=F,n&&n(fn.SUBSCRIBED);return}}).receive("error",w=>{this.state=vt.errored,n==null||n(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===vt.joined&&n===xi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Ou(this,Ca.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ou(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>rw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,d;const f=n.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=Ca;if(l&&[m,g,p,y].indexOf(f)>=0&&l!==this._joinRef())return;let j=this._onMessage(f,r,l);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var E,k,S;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((S=(k=w.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===f}).map(w=>w.callback(j,l)):(d=this.bindings[f])===null||d===void 0||d.filter(w=>{var E,k,S,F,q,R;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const re=w.id,ce=(E=w.filter)===null||E===void 0?void 0:E.event;return re&&((k=r.ids)===null||k===void 0?void 0:k.includes(re))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const re=(q=(F=w==null?void 0:w.filter)===null||F===void 0?void 0:F.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return re==="*"||re===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof j=="object"&&"ids"in j){const E=j.data,{schema:k,table:S,commit_timestamp:F,type:q,errors:R}=E;j=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:F,eventType:q,new:{},old:{},errors:R}),this._getPayloadRecords(E))}w.callback(j,l)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),d={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&vd.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ca.close,{},n)}_onError(n){this._on(Ca.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Pm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Pm(n.columns,n.old_record)),r}}const Du=()=>{},Kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hw=[1e3,2e3,5e3,1e4],fw=1e4,mw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gw{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=Kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Du,this.ref=0,this.reconnectTimer=null,this.logger=Du,this.conn=null,this.sendBuffer=[],this.serializer=new sw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...f)=>wr(async()=>{const{default:m}=await Promise.resolve().then(()=>jr);return{default:m}},void 0).then(({default:m})=>m(...f)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Ju.websocket}`,this.httpEndpoint=vp(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aw}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return xr.Connecting;case gi.open:return xr.Open;case gi.closing:return xr.Closing;default:return xr.Closed}}isConnected(){return this.connectionState()===xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new vd(`realtime:${n}`,r,this);return this.channels.push(d),d}}push(n){const{topic:r,event:l,payload:c,ref:d}=n,f=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(nw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:f}=r,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${c} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(c,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ca.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([mw],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const c={access_token:r,version:tw};r&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Ca.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new yp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,d,f,m,g,p,y;if(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Xu,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Kl.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Du,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(b=>hw[b-1]||fw),this.encode=(p=n==null?void 0:n.encode)!==null&&p!==void 0?p:((b,j)=>j(JSON.stringify(b))),this.decode=(y=n==null?void 0:n.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class wd extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function lt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class pw extends wd{constructor(n,r,l){super(n),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wu extends wd{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}const jd=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>wr(async()=>{const{default:l}=await Promise.resolve().then(()=>jr);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)},xw=()=>be(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wr(()=>Promise.resolve().then(()=>jr),void 0)).Response:Response}),ed=i=>{if(Array.isArray(i))return i.map(r=>ed(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=ed(l)}),n},yw=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ru=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},bw=(i,n,r)=>be(void 0,void 0,void 0,function*(){const l=yield xw();i instanceof l&&!(r!=null&&r.noResolveJson)?i.json().then(c=>{const d=i.status||500,f=(c==null?void 0:c.statusCode)||d+"";n(new pw(Ru(c),d,f))}).catch(c=>{n(new Wu(Ru(c),c))}):n(new Wu(Ru(i),i))}),vw=(i,n,r,l)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||!l?c:(yw(l)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),r))};function Si(i,n,r,l,c,d){return be(this,void 0,void 0,function*(){return new Promise((f,m)=>{i(r,vw(n,l,c,d)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>bw(g,m,l))})})}function vi(i,n,r,l){return be(this,void 0,void 0,function*(){return Si(i,"GET",n,r,l)})}function Ta(i,n,r,l,c){return be(this,void 0,void 0,function*(){return Si(i,"POST",n,l,c,r)})}function td(i,n,r,l,c){return be(this,void 0,void 0,function*(){return Si(i,"PUT",n,l,c,r)})}function ww(i,n,r,l){return be(this,void 0,void 0,function*(){return Si(i,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function _d(i,n,r,l,c){return be(this,void 0,void 0,function*(){return Si(i,"DELETE",n,l,c,r)})}class jw{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}var wp;class _w{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[wp]="BlobDownloadBuilder",this.promise=null}asStream(){return new jw(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}wp=Symbol.toStringTag;const kw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sw{constructor(n,r={},l,c){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=l,this.fetch=jd(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,l,c){return be(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Km),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=l,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),b=yield(n=="PUT"?td:Ta)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(lt(d))return{data:null,error:d};throw d}})}upload(n,r,l){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,l)})}uploadToSignedUrl(n,r,l,c){return be(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",r);try{let g;const p=Object.assign({upsert:Km.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield td(this.fetch,m.toString(),g,{headers:y});return{data:{path:d,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(lt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,r){return be(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const c=Object.assign({},this.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const d=yield Ta(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new wd("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}update(n,r,l){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,l)})}move(n,r,l){return be(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}copy(n,r,l){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUrl(n,r,l){return be(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield Ta(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:r},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUrls(n,r,l){return be(this,void 0,void 0,function*(){try{const c=yield Ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}download(n,r){const c=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),f=d?`?${d}`:"",m=this._getFinalPath(n),g=()=>vi(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new _w(g,this.shouldThrowOnError)}info(n){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const l=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ed(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}exists(n){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield ww(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l)&&l instanceof Wu){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,r){const l=this._getFinalPath(n),c=[],d=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&c.push(d);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&c.push(g);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(n){return be(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(n,r,l){return be(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},kw),r),{prefix:n||""});return{data:yield Ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}listV2(n,r){return be(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const jp="2.78.0",_p={"X-Client-Info":`storage-js/${jp}`};class Nw{constructor(n,r={},l,c){this.shouldThrowOnError=!1;const d=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_p),r),this.fetch=jd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return be(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(n);return{data:yield vi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(n){return be(this,arguments,void 0,function*(r,l={public:!1}){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}updateBucket(n,r){return be(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}emptyBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Ew{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_p),r),this.fetch=jd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(n){return be(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&r.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&r.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&r.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&r.set("sortOrder",n.sortOrder),n!=null&&n.search&&r.set("search",n.search);const l=r.toString(),c=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield vi(this.fetch,c,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}const kd={"X-Client-Info":`storage-js/${jp}`,"Content-Type":"application/json"};class kp extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Fu extends kp{constructor(n,r,l){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tw extends kp{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}}var Qm;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Qm||(Qm={}));const Sd=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>wr(async()=>{const{default:l}=await Promise.resolve().then(()=>jr);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)},Cw=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Xm=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Aw=(i,n,r)=>be(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(r!=null&&r.noResolveJson)){const c=i.status||500,d=i;if(typeof d.json=="function")d.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||c+"";n(new Fu(Xm(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;n(new Fu(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;n(new Fu(m,c,f))}}else n(new Tw(Xm(i),i))}),Ow=(i,n,r,l)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return l?(Cw(l)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),r)):c};function Dw(i,n,r,l,c,d){return be(this,void 0,void 0,function*(){return new Promise((f,m)=>{i(r,Ow(n,l,c,d)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Aw(g,m,l))})})}function Wt(i,n,r,l,c){return be(this,void 0,void 0,function*(){return Dw(i,"POST",n,l,c,r)})}class Rw{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kd),r),this.fetch=Sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return be(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}getIndex(n,r){return be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}listIndexes(n){return be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}deleteIndex(n,r){return be(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}}class Fw{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kd),r),this.fetch=Sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return be(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}getVectors(n){return be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}listVectors(n){return be(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}queryVectors(n){return be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}deleteVectors(n){return be(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}}class Uw{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kd),r),this.fetch=Sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return be(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}getBucket(n){return be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}listBuckets(){return be(this,arguments,void 0,function*(n={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return be(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}}class Mw extends Uw{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new zw(this.url,this.headers,n,this.fetch)}}class zw extends Rw{constructor(n,r,l,c){super(n,r,c),this.vectorBucketName=l}createIndex(n){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return be(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return be(this,arguments,void 0,function*(r={}){return n.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return be(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return be(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Lw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Lw extends Fw{constructor(n,r,l,c,d){super(n,r,d),this.vectorBucketName=l,this.indexName=c}putVectors(n){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return be(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return be(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return be(this,arguments,void 0,function*(r={}){return n.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return be(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return be(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $w extends Nw{constructor(n,r={},l,c){super(n,r,l,c)}from(n){return new Sw(this.url,this.headers,n,this.fetch)}get vectors(){return new Mw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ew(this.url+"/iceberg",this.headers,this.fetch)}}const Bw="2.78.0";let mi="";typeof Deno<"u"?mi="deno":typeof document<"u"?mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mi="react-native":mi="node";const qw={"X-Client-Info":`supabase-js-${mi}/${Bw}`},Hw={headers:qw},Vw={schema:"public"},Gw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pw={},Yw=i=>{let n;return i?n=i:typeof fetch>"u"?n=up:n=fetch,(...r)=>n(...r)},Iw=()=>typeof Headers>"u"?dp:Headers,Kw=(i,n,r)=>{const l=Yw(r),c=Iw();return async(d,f)=>{var m;const g=(m=await n())!==null&&m!==void 0?m:i;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(d,Object.assign(Object.assign({},f),{headers:p}))}};function Qw(i){return i.endsWith("/")?i:i+"/"}function Xw(i,n){var r,l;const{db:c,auth:d,realtime:f,global:m}=i,{db:g,auth:p,realtime:y,global:b}=n,j={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function Jw(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sp="2.78.0",ds=30*1e3,ad=3,Uu=ad*ds,Zw="http://localhost:9999",Ww="supabase.auth.token",e1={"X-Client-Info":`gotrue-js/${Sp}`},nd="X-Supabase-Api-Version",Np={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a1=600*1e3;class wi extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function je(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class n1 extends wi{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function r1(i){return je(i)&&i.name==="AuthApiError"}class yr extends wi{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Kn extends wi{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class Na extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s1(i){return je(i)&&i.name==="AuthSessionMissingError"}class is extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends Kn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends Kn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i1(i){return je(i)&&i.name==="AuthImplicitGrantRedirectError"}class Jm extends Kn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rd extends Kn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Mu(i){return je(i)&&i.name==="AuthRetryableFetchError"}class Zm extends Kn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class sd extends Kn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const to="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wm=` 	
\r=`.split(""),l1=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Wm.length;n+=1)i[Wm[n].charCodeAt(0)]=-2;for(let n=0;n<to.length;n+=1)i[to[n].charCodeAt(0)]=n;return i})();function eg(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(to[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(to[l]),n.queuedBits-=6}}function Ep(i,n,r){const l=l1[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function tg(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{u1(f,l,r)};for(let f=0;f<i.length;f+=1)Ep(i.charCodeAt(f),c,d);return n.join("")}function o1(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function c1(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}o1(l,n)}}function u1(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function fs(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)Ep(i.charCodeAt(c),r,l);return new Uint8Array(n)}function d1(i){const n=[];return c1(i,r=>n.push(r)),new Uint8Array(n)}function br(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return i.forEach(c=>eg(c,r,l)),eg(null,r,l),n.join("")}function h1(i){return Math.round(Date.now()/1e3)+i}function f1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Mt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Tp=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function m1(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const Cp=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>wr(async()=>{const{default:l}=await Promise.resolve().then(()=>jr);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)},g1=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",hs=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},gr=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yn=async(i,n)=>{await i.removeItem(n)};class lo{constructor(){this.promise=new lo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}lo.promiseConstructor=Promise;function zu(i){const n=i.split(".");if(n.length!==3)throw new sd("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!t1.test(n[l]))throw new sd("JWT not in base64url format");return{header:JSON.parse(tg(n[0])),payload:JSON.parse(tg(n[1])),signature:fs(n[2]),raw:{header:n[0],payload:n[1]}}}async function p1(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function x1(i,n){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function y1(i){return("0"+i.toString(16)).substr(-2)}function b1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,y1).join("")}async function v1(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function w1(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await v1(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(i,n,r=!1){const l=b1();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await hs(i,`${n}-code-verifier`,c);const d=await w1(l);return[d,l===d?"plain":"s256"]}const j1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _1(i){const n=i.headers.get(nd);if(!n||!n.match(j1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function k1(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function S1(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function os(i){if(!N1.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lu(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E1(i,n){return new Proxy(i,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function ag(i){return JSON.parse(JSON.stringify(i))}const pr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),T1=[502,503,504];async function ng(i){var n;if(!g1(i))throw new rd(pr(i),0);if(T1.includes(i.status))throw new rd(pr(i),i.status);let r;try{r=await i.json()}catch(d){throw new yr(pr(d),d)}let l;const c=_1(i);if(c&&c.getTime()>=Np["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Zm(pr(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Na}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Zm(pr(r),i.status,r.weak_password.reasons);throw new n1(pr(r),i.status||500,l)}const C1=(i,n,r,l)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function Ee(i,n,r,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[nd]||(d[nd]=Np["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await A1(i,n,r+m,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function A1(i,n,r,l,c,d){const f=C1(n,l,c,d);let m;try{m=await i(r,Object.assign({},f))}catch(g){throw console.error(g),new rd(pr(g),0)}if(m.ok||await ng(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await ng(g)}}function Ea(i){var n;let r=null;R1(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=h1(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function rg(i){const n=Ea(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function In(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function O1(i){return{data:i,error:null}}function D1(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d}=i,f=vs(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function sg(i){return i}function R1(i){return i.access_token&&i.refresh_token&&i.expires_in}const $u=["global","local","others"];class F1{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=Cp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=$u[0]){if($u.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$u.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(je(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:In})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=vs(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:D1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:In})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,d,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:sg});if(y.error)throw y.error;const b=await y.json(),j=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);p[`${S}Page`]=k}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(je(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){os(n);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:In})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){os(n);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:In})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){os(n);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:In})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){os(n.userId);try{const{data:r,error:l}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(n){os(n.userId),os(n.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,d,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:sg});if(y.error)throw y.error;const b=await y.json(),j=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);p[`${S}Page`]=k}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(je(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(je(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}}function ig(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const cs={debug:!!(globalThis&&Tp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ap extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class U1 extends Ap{}async function M1(i,n,r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await r()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new U1(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(cs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Op(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function L1(i){return parseInt(i,16)}function $1(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function B1(i){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:j}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=Op(i.address),E=y?`${y}://${l}`:l,k=i.statement?`${i.statement}
`:"",S=`${E} wants you to sign in with your Ethereum account:
${w}

${k}`;let F=`URI: ${b}
Version: ${j}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(F+=`
Expiration Time: ${c.toISOString()}`),m&&(F+=`
Not Before: ${m.toISOString()}`),g&&(F+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);q+=`
- ${R}`}F+=q}return`${S}
${F}`}class yt extends Error{constructor({message:n,code:r,cause:l,name:c}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class ao extends yt{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function q1({error:i,options:n}){var r,l,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new yt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Dp(f)){if(d.rp.id!==f)return new yt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function H1({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new yt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(Dp(l)){if(r.rpId!==l)return new yt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class V1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const G1=new V1;function P1(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,c=vs(i,["challenge","user","excludeCredentials"]),d=fs(n).buffer,f=Object.assign(Object.assign({},r),{id:fs(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:fs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function Y1(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=vs(i,["challenge","allowCredentials"]),c=fs(n).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:fs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function I1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:br(new Uint8Array(i.response.attestationObject)),clientDataJSON:br(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function K1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:br(new Uint8Array(c.authenticatorData)),clientDataJSON:br(new Uint8Array(c.clientDataJSON)),signature:br(new Uint8Array(c.signature)),userHandle:c.userHandle?br(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Dp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function lg(){var i,n;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Q1(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ao("Browser returned unexpected credential type",n)}:{data:null,error:new ao("Empty credential response",n)}}catch(n){return{data:null,error:q1({error:n,options:i})}}}async function X1(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ao("Browser returned unexpected credential type",n)}:{data:null,error:new ao("Empty credential response",n)}}catch(n){return{data:null,error:H1({error:n,options:i})}}}const J1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Z1={userVerification:"preferred",hints:["security-key"]};function no(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of i)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(r(f))l[d]=f;else if(n(f)){const m=l[d];n(m)?l[d]=no(m,f):l[d]=no(f)}else l[d]=f}return l}function W1(i,n){return no(J1,i,n||{})}function ej(i,n){return no(Z1,i,n||{})}class tj{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:m};const g=c??G1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=W1(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:y,error:b}=await Q1({publicKey:p,signal:g});return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=ej(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:y,error:b}=await X1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}},d){if(!r)return{data:null,error:new wi("rpId is required for WebAuthn authentication")};try{if(!lg())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c},d){if(!r)return{data:null,error:new wi("rpId is required for WebAuthn registration")};try{if(!lg())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===n&&j.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in register",f)}}}}z1();const aj={url:Zw,storageKey:Ww,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function og(i,n,r){return await r()}const us={};class ji{get jwks(){var n,r;return(r=(n=us[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=us[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:n})}constructor(n){var r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ji.nextInstanceID,ji.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},aj),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new F1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Cp(c.fetch),this.lock=c.lock||og,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=M1:this.lock=og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Tp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ig(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=ig(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sp}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=m1(window.location.href);let l="none";if(this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce"),Mt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),i1(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new yr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const d=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ea}),{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(d){if(je(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var r,l,c;try{let d;if("email"in n){const{email:y,password:b,options:j}=n;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await ls(this.storage,this.storageKey)),d=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:y,password:b,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:w,code_challenge_method:E},xform:Ea})}else if("phone"in n){const{phone:y,password:b,options:j}=n;d=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(l=j==null?void 0:j.data)!==null&&l!==void 0?l:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Ea})}else throw new Ql("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(d){if(je(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let r;if("email"in n){const{email:d,password:f,options:m}=n;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:rg})}else if("phone"in n){const{phone:d,password:f,options:m}=n;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:rg})}else throw new Ql("You must provide either an email or phone number and a password");const{data:l,error:c}=r;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new is}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,l,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,d,f,m,g,p,y,b,j;let w,E;if("message"in n)w=n.message,E=n.signature;else{const{chain:k,wallet:S,statement:F,options:q}=n;let R;if(Mt())if(typeof S=="object")R=S;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")R=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const re=new URL((r=q==null?void 0:q.url)!==null&&r!==void 0?r:window.location.href),ce=await R.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Op(ce[0]);let Z=(l=q==null?void 0:q.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Z){const W=await R.request({method:"eth_chainId"});Z=L1(W)}const O={domain:re.host,address:Y,statement:F,uri:re.href,version:"1",chainId:Z,nonce:(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=q==null?void 0:q.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=q==null?void 0:q.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=B1(O),E=await R.request({method:"personal_sign",params:[$1(w),Y]})}try{const{data:k,error:S}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ea});if(S)throw S;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new is}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:S})}catch(k){if(je(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(n){var r,l,c,d,f,m,g,p,y,b,j,w;let E,k;if("message"in n)E=n.message,k=n.signature;else{const{chain:S,wallet:F,statement:q,options:R}=n;let re;if(Mt())if(typeof F=="object")re=F;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))re=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");re=F}const ce=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in re&&re.signIn){const Y=await re.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),q?{statement:q}:null));let Z;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")Z=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)Z=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)E=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),k=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in re)||typeof re.signMessage!="function"||!("publicKey"in re)||typeof re!="object"||!re.publicKey||!("toBase58"in re.publicKey)||typeof re.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${ce.host} wants you to sign in with your Solana account:`,re.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(c=(l=R==null?void 0:R.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R==null?void 0:R.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const Y=await re.signMessage(new TextEncoder().encode(E),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Y}}try{const{data:S,error:F}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:br(k)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ea});if(F)throw F;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new is}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:F})}catch(S){if(je(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(n){const r=await gr(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{const{data:d,error:f}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ea});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new is}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(je(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:d,nonce:f}=n,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ea}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new is}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,l,c,d,f;try{if("email"in n){const{email:m,options:g}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ls(this.storage,this.storageKey));const{error:b}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in n){const{phone:m,options:g}=n,{data:p,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Ql("You must provide either an email or phone number.")}catch(m){if(je(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var r,l;try{let c,d;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Ea});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(n){var r,l,c;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await ls(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:O1})}catch(d){if(je(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Na;const{error:c}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:c}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:d}=n,{error:f}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:c,options:d}=n,{data:f,error:m}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Ql("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Uu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await gr(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Lu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=E1(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:In}):await this._useSession(async r=>{var l,c,d;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Na}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:In})})}catch(r){if(je(r))return s1(r)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Na;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await ls(this.storage,this.storageKey));const{data:p,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:In});if(y)throw y;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Na;const r=Date.now()/1e3;let l=r,c=!0,d=null;const{payload:f}=zu(n.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:m}=r;if(m)throw m;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Na;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Mt())throw new Xl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Xl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Jm("No code detected.");const{data:q,error:R}=await this._exchangeCodeForSession(n.code);if(R)throw R;const re=new URL(window.location.href);return re.searchParams.delete("code"),window.history.replaceState(window.history.state,"",re.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:p}=n;if(!d||!m||!f||!p)throw new Xl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let j=y+b;g&&(j=parseInt(g));const w=j-y;w*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const E=j-b;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,j,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,j,y);const{data:k,error:S}=await this._getUser(d);if(S)throw S;const F={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:b,expires_at:j,refresh_token:f,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:n.type},error:null}}catch(l){if(je(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return{error:d};const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(r1(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=f1(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:d},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ls(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(je(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async d=>{var f,m,g,p,y;const{data:b,error:j}=d;if(j)throw j;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return Mt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:n.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(je(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:f,provider:m,token:g,access_token:p,nonce:y}=n,b=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ea}),{data:j,error:w}=b;return w?{data:{user:null,session:null},error:w}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new is}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),{data:j,error:w})}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)throw f;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await x1(async c=>(c>0&&await p1(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ea})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Mu(d)&&Date.now()+f-l<ds})}catch(l){if(this._debug(r,"error",l),je(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),Mt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await gr(this.storage,this.storageKey);if(c&&this.userStorage){let f=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await hs(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Lu()}else if(c&&!c.user&&!c.user){const f=await gr(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await Yn(this.storage,this.storageKey+"-user"),await hs(this.storage,this.storageKey,c)):c.user=Lu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Uu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Mu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new lo;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Na;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),je(d)){const f={data:null,error:d};return Mu(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await hs(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=ag(c);await hs(this.storage,this.storageKey,d)}else{const c=ag(r);await hs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ds}ms, refresh threshold is ${ad} ticks`),c<=ad&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ap)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await ls(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;return d?{data:null,error:d}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(n.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return{data:null,error:d};const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?I1(n.webauthn.credential_response):K1(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:g}=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:g})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return{data:null,error:d};const f=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:P1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Y1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:c}=await this.getSession();if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zu(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?{data:null,error:c}:l?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):{data:null,error:new Na}})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Na};const f=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(je(l))return{data:null,error:l};throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Na};const f=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(je(l))return{data:null,error:l};throw l}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(m=>m.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+a1>c)return l;const{data:d,error:f}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};l=w.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=zu(l);r!=null&&r.allowExpired||k1(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:d,header:c,signature:f},error:null}}const y=S1(c.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,d1(`${m}.${g}`)))throw new sd("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(je(l))return{data:null,error:l};throw l}}}ji.nextInstanceID=0;const nj=ji;class rj extends nj{constructor(n){super(n)}}class sj{constructor(n,r,l){var c,d,f;this.supabaseUrl=n,this.supabaseKey=r;const m=Jw(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Vw,realtime:Pw,auth:Object.assign(Object.assign({},Gw),{storageKey:g}),global:Hw},y=Xw(l??{},p);this.storageKey=(c=y.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=Kw(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Zv(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new $w(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Vv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,l)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,r;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(r=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:c,userStorage:d,storageKey:f,flowType:m,lock:g,debug:p},y,b){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rj({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),y),storageKey:f,autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:c,userStorage:d,flowType:m,lock:g,debug:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new gw(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,r,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ij=(i,n,r)=>new sj(i,n,r);function lj(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oj="https://mfgfbwhznqpdjumtsrus.supabase.co",cj="sb_publishable_2pDY4atjEw5MVSWeakl4HA_exf_osvS",pe=ij(oj,cj);function ms(i){const n=new Date(i);if(Number.isNaN(n.getTime()))return"";const r=l=>String(l).padStart(2,"0");return`${n.getFullYear()}-${r(n.getMonth()+1)}-${r(n.getDate())} ${r(n.getHours())}:${r(n.getMinutes())}:${r(n.getSeconds())}`}function uj(i){const r=ms(new Date),l=i.tasks.filter(b=>b.category==="learning"),c=i.tasks.filter(b=>b.category==="chores"),d=i.tasks.filter(b=>b.category==="discipline"),f=i.tasks.filter(b=>b.category==="penalty"),m=i.rewards,g=b=>{const j=[];for(let w=0;w<b.length;w+=2)j.push([b[w],b[w+1]]);return j},p=(b,j)=>j.length===0?"":`
      <div class="category-title">${b}</div>
      <table>
          <thead>
              <tr>
                  <th class="col-pts"></th>
                  <th class="col-desc"></th>
                  <th class="col-freq"></th>
                  <th class="col-pts"></th>
                  <th class="col-desc"></th>
                  <th class="col-freq"></th>
              </tr>
          </thead>
          <tbody>
              ${g(j).map(w=>`
              <tr>
                  <td class="col-pts">${w[0].points>0?"+":""}${w[0].points}</td>
                  <td class="col-desc"><b>${w[0].title}</b><br><small>${w[0].description||""}</small></td>
                  <td class="col-freq">${w[0].frequency}</td>
                  ${w[1]?`
                  <td class="col-pts">${w[1].points>0?"+":""}${w[1].points}</td>
                  <td class="col-desc"><b>${w[1].title}</b><br><small>${w[1].description||""}</small></td>
                  <td class="col-freq">${w[1].frequency}</td>
                  `:"<td></td><td></td><td></td>"}
              </tr>`).join("")}
          </tbody>
      </table>
    `;return`<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        @media print {
            @page { margin: 12mm; }
            * { -webkit-print-color-adjust: exact; print-color-adjust: exact; box-shadow: none !important; }
            body { padding: 0; background: #fff; }
            .container { max-width: 100%; margin: 0; }
            table { box-shadow: none !important; border-radius: 4px !important; }
            .header, .section-title, .rules-footer { box-shadow: none !important; }
        }
        :root {
            --primary: #FF4D94;
            --secondary: #7C4DFF;
            --accent: #10B981;
            --amber: #F59E0B;
            --bg: #FFF8FB;
        }
        body {
            font-family: "PingFang SC", "STHeiti", sans-serif;
            color: #0f172a;
            line-height: 1.35;
            padding: 20px;
            background: #fff;
            font-size: 11px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .header {
            border-bottom: 3px solid var(--primary);
            padding-bottom: 12px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        .header h1 {
            font-size: 26px;
            font-weight: 800;
            margin: 0;
            letter-spacing: 2px;
            color: var(--secondary);
        }
        .header-info {
            text-align: right;
            font-size: 9px;
            color: #475569;
            font-weight: 600;
        }
        .section-title {
            font-size: 18px;
            font-weight: 800;
            margin: 25px 0 12px 0;
            border-bottom: 2px solid rgba(255, 77, 148, 0.35);
            padding-bottom: 6px;
            text-transform: uppercase;
            color: var(--primary);
        }
        .category-title {
            font-size: 13px;
            font-weight: 800;
            margin: 15px 0 8px 0;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #0f172a;
        }
        .category-title::before {
            content: "";
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 999px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            box-shadow: 0 0 0 3px rgba(255,77,148,0.12);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            background: #fff;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 6px 18px -14px rgba(124,77,255,0.30);
        }
        th, td {
            border: 0.5px solid rgba(148, 163, 184, 0.6);
            padding: 7px 6px;
            text-align: left;
        }
        th {
            background: linear-gradient(90deg, #FFE4F1, #E9DCFF);
            color: #5B1B70;
            font-weight: 800;
            font-size: 9px;
            text-align: center;
            letter-spacing: 0.05em;
        }
        tr:nth-child(odd) td { background: #FFF9FD; }
        tr:nth-child(even) td { background: #F7F5FF; }
        .col-pts { width: 48px; font-weight: 900; text-align: center; color: var(--primary); }
        .col-freq { width: 48px; text-align: center; font-size: 9px; color: #475569; font-weight: 700; }
        .col-desc { font-weight: 600; color: #0f172a; }
        small { font-size: 8px; color: #6b7280; font-weight: 500; display: block; margin-top: 3px; }

        .rules-footer {
            margin-top: 40px;
            font-size: 8px;
            color: #475569;
            text-align: center;
            border-top: 1px dashed rgba(148, 163, 184, 0.7);
            padding-top: 20px;
            background: linear-gradient(90deg, rgba(255,77,148,0.04), rgba(124,77,255,0.04));
            box-shadow: 0 4px 16px -12px rgba(15,23,42,0.25);
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1></h1>
            <div class="header-info">
                ${r}<br>
                ${Fv}
            </div>
        </div>

        <div class="section-title">   (Tasks)</div>
        
        ${p(" ",l)}
        ${p(" ",c)}
        ${p(" ",d)}
        
        <div class="section-title">   (Penalty)</div>
        ${p(" ",f)}

        <div class="section-title">   (Rewards)</div>
        <table>
            <thead>
                <tr>
                    <th class="col-pts"></th>
                    <th class="col-desc">/</th>
                    <th class="col-freq"></th>
                    <th class="col-pts"></th>
                    <th class="col-desc">/</th>
                    <th class="col-freq"></th>
                </tr>
            </thead>
            <tbody>
                ${g(m).map(b=>`
                <tr>
                    <td class="col-pts">${b[0].points}</td>
                    <td class="col-desc"><b>${b[0].title}</b></td>
                    <td class="col-freq">${b[0].type[0]}</td>
                    ${b[1]?`
                    <td class="col-pts">${b[1].points}</td>
                    <td class="col-desc"><b>${b[1].title}</b></td>
                    <td class="col-freq">${b[1].type[0]}</td>
                    `:"<td></td><td></td><td></td>"}
                </tr>`).join("")}
            </tbody>
        </table>

        <div class="rules-footer">
              <br>
            
        </div>
    </div>
</body>
</html>`}function cg(i){const n=uj(i),r=window.open("","_blank");if(r){r.document.write(n),r.document.close(),r.focus(),r.onload=()=>{setTimeout(()=>{r.print(),r.close()},300)};return}const l=document.createElement("iframe");l.style.position="fixed",l.style.right="0",l.style.bottom="0",l.style.width="0",l.style.height="0",l.style.border="0",l.srcdoc=n,document.body.appendChild(l),l.onload=()=>{var c,d;(c=l.contentWindow)==null||c.focus(),(d=l.contentWindow)==null||d.print(),setTimeout(()=>{document.body.removeChild(l)},500)}}const ie=({name:i,className:n="",size:r=20})=>{const l={learning:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),chores:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),discipline:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),penalty:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),o.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),reward:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"8",cy:"8",r:"6"}),o.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18.06"}),o.jsx("path",{d:"M9 14.29V22l3-3 3 3V14.29"}),o.jsx("path",{d:"M15.31 6.74A6 6 0 0 1 17.26 13"}),o.jsx("path",{d:"m19 12 1 6-2-2-2 2 1-6"})]}),history:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),o.jsx("path",{d:"M3 3v5h5"}),o.jsx("path",{d:"M12 7v5l4 2"})]}),settings:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),plus:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M5 12h14"}),o.jsx("path",{d:"M12 5v14"})]}),trash:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 6h18"}),o.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),o.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"arrow-up":o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m5 12 7-7 7 7"}),o.jsx("path",{d:"M12 19V5"})]}),"arrow-down":o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m19 12-7 7-7-7"}),o.jsx("path",{d:"M12 5v14"})]}),home:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),print:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M6 9V2h12v7"}),o.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),o.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),info:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),check:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}),bell:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"}),o.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),sun:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"4"}),o.jsx("path",{d:"M12 2v2"}),o.jsx("path",{d:"M12 20v2"}),o.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),o.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),o.jsx("path",{d:"M2 12h2"}),o.jsx("path",{d:"M20 12h2"}),o.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),o.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),moon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),logout:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),gift:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"20 12 20 22 4 22 4 12"}),o.jsx("rect",{width:"20",height:"5",x:"2",y:"7"}),o.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),o.jsx("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),o.jsx("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})]}),"user-switch":o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M16 3h5v5"}),o.jsx("path",{d:"M21 3 14 10"}),o.jsx("path",{d:"M18 14l-4 4 4 4"}),o.jsx("path",{d:"M7 21H2v-5"}),o.jsx("path",{d:"M2 21l7-7"}),o.jsx("path",{d:"M10 18H5a3 3 0 0 1-3-3v-1"}),o.jsx("path",{d:"M14 6h5a3 3 0 0 1 3 3v1"})]}),"message-circle":o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})};return o.jsx("span",{className:n,children:l[i]||null})};function dj({activeTab:i,onChangeTab:n,isAdmin:r}){return o.jsxs("aside",{className:"glass-sidebar w-64 flex flex-col p-6 h-screen sticky top-0 shrink-0 overflow-hidden border-r border-white/20 dark:border-white/5 shadow-[20px_0_40px_-20px_rgba(0,0,0,0.05)]",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-10 group cursor-pointer",children:[o.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-[#FF4D94] via-[#FF7AB8] to-[#7C4DFF] rounded-2xl flex items-center justify-center text-white shadow-[0_8px_20px_-6px_rgba(255,77,148,0.5)] group-hover:scale-110 transition-transform duration-300",children:o.jsx(ie,{name:"reward",size:26})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold font-display leading-tight bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400",children:""}),o.jsx("p",{className:"text-[10px] font-bold text-[#FF4D94] uppercase tracking-[0.2em] opacity-80",children:""})]})]}),o.jsx("nav",{className:"flex-1 space-y-1.5",children:[{id:"dashboard",icon:"home",label:""},{id:"earn",icon:"plus",label:""},{id:"redeem",icon:"reward",label:""},{id:"history",icon:"history",label:""},{id:"achievements",icon:"reward",label:""},...r?[{id:"settings",icon:"settings",label:""}]:[]].map(l=>{const c=i===l.id;return o.jsxs("button",{onClick:()=>n(l.id),className:`w-full h-12 flex items-center gap-3.5 px-4 rounded-2xl transition-all duration-300 font-display font-bold text-sm border ${c?"bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white border-transparent shadow-[0_8px_16px_-4px_rgba(255,77,148,0.3)]":"text-gray-500 dark:text-gray-400 border-transparent hover:bg-white/60 dark:hover:bg-white/5 hover:text-[#FF4D94] hover:border-[#FF4D94]/10 hover:translate-x-1"}`,children:[o.jsx("div",{className:`${c?"text-white":"text-gray-400 group-hover:text-[#FF4D94]"} transition-colors`,children:o.jsx(ie,{name:l.icon,size:19})}),o.jsx("span",{className:"truncate tracking-wide",children:l.label}),c&&o.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-white shadow-sm animate-pulse"})]},l.id)})})]})}function hj({activeTab:i,currentProfile:n,isAdmin:r,theme:l,onToggleTheme:c,onPrint:d,onLogout:f,onTransfer:m,onWishlist:g,onSwitchProfile:p,chatUnreadCount:y,onToggleChat:b}){const[j,w]=_.useState(!1),E=_.useMemo(()=>[...n.history].sort((q,R)=>R.timestamp-q.timestamp).slice(0,5).map(q=>({title:q.type==="redeem"?"":q.type==="penalty"?"":"",desc:`${q.title}  ${q.points>0?"+":""}${q.points}`,time:ms(q.timestamp),tone:q.type==="redeem"?"indigo":q.type==="penalty"?"rose":"emerald"})),[n.history]),k=_.useRef(null);_.useEffect(()=>{const F=R=>{j&&k.current&&!k.current.contains(R.target)&&w(!1)},q=R=>{R.key==="Escape"&&w(!1)};return document.addEventListener("mousedown",F),document.addEventListener("keydown",q),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("keydown",q)}},[j]);const S=E.length>0;return o.jsx("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-[#0F172A]/80 backdrop-blur-xl border-b border-white/40 dark:border-white/5 px-4 lg:px-6 py-4 mb-6 lg:mb-8 rounded-b-[32px] shadow-[0_10px_40px_-15px_rgba(0,0,0,0.08)]",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-900 dark:text-white font-display leading-tight tracking-tight",children:[i==="dashboard"&&`, ${n.name} `,i==="earn"&&"",i==="redeem"&&"",i==="history"&&"",i==="settings"&&"",i==="achievements"&&""]})}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-xs md:text-sm font-medium",children:[i==="dashboard"&&"",i==="earn"&&"",i==="redeem"&&"",i==="history"&&"",i==="settings"&&"",i==="achievements"&&""]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-start lg:justify-end gap-2 lg:gap-3",children:[p&&o.jsxs("button",{onClick:p,className:"h-12 px-4 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-300 rounded-2xl hover:bg-gray-50 dark:hover:bg-white/10 transition-all flex items-center justify-center gap-2 group",title:"",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg overflow-hidden bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] flex items-center justify-center text-white text-[10px] font-black group-hover:rotate-12 transition-transform",children:n.name.slice(-1)}),o.jsx(ie,{name:"user-switch",size:16,className:"text-gray-400 group-hover:text-[#FF4D94]"})]}),m&&o.jsx("button",{onClick:m,className:"h-12 w-12 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-2xl hover:brightness-110 transition-all flex items-center justify-center shadow-lg hover:scale-105 active:scale-95",title:"",children:o.jsx(ie,{name:"gift",size:20})}),g&&o.jsx("button",{onClick:g,className:"h-12 w-12 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-300 rounded-2xl hover:bg-gray-50 dark:hover:bg-white/10 transition-all flex items-center justify-center shadow-sm",title:"",children:o.jsx(ie,{name:"reward",size:18})}),b&&o.jsxs("button",{onClick:b,className:"h-12 w-12 rounded-2xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 text-gray-600 dark:text-gray-400 hover:border-[#FF4D94] hover:text-[#FF4D94] transition-all flex items-center justify-center shadow-sm relative group",title:"",children:[o.jsx(ie,{name:"message-circle",size:18}),y&&y>0?o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 text-[9px] font-black text-white bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] flex items-center justify-center rounded-full shadow-lg ring-2 ring-white dark:ring-gray-900 group-hover:scale-110 transition-transform animate-bounce",children:y>9?"9+":y}):null]}),o.jsxs("div",{className:"relative",ref:k,children:[o.jsxs("button",{onClick:()=>w(F=>!F),className:"h-12 w-12 rounded-2xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 text-gray-600 dark:text-gray-400 hover:border-[#FF4D94] hover:text-[#FF4D94] transition-all flex items-center justify-center shadow-sm relative group",children:[o.jsx(ie,{name:"bell",size:18}),E.length>0&&o.jsx("span",{className:"absolute top-2 right-2 w-4 h-4 text-[9px] font-bold text-white bg-gradient-to-br from-[#FF4D94] to-[#FF7AB8] flex items-center justify-center rounded-full shadow-lg ring-2 ring-white dark:ring-gray-900 group-hover:scale-110 transition-transform",children:E.length})]}),j&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"absolute top-full mt-3 right-0 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl border border-gray-100 dark:border-white/10 rounded-[28px] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.2)] z-50 overflow-hidden transform origin-top-right animate-in fade-in zoom-in-95 duration-200 hidden md:block",children:[o.jsxs("div",{className:"px-5 py-4 border-b border-gray-50 dark:border-white/5 flex items-center justify-between bg-gray-50/50 dark:bg-white/5",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-[#FF4D94] uppercase tracking-[0.25em]",children:""}),o.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:""})]}),o.jsx("button",{onClick:()=>w(!1),className:"text-xs font-bold text-gray-400 hover:text-[#FF4D94] transition-colors",children:""})]}),o.jsx("ul",{className:"max-h-[60vh] overflow-y-auto divide-y divide-gray-50 dark:divide-white/5 no-scrollbar",children:S?E.map((F,q)=>o.jsxs("li",{className:"px-5 py-4 flex items-start gap-3.5 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[o.jsx("div",{className:`mt-1 w-2 h-2 rounded-full shrink-0 shadow-sm ${F.tone==="rose"?"bg-[#FF4D94] shadow-[#FF4D94]/40":F.tone==="indigo"?"bg-[#7C4DFF] shadow-[#7C4DFF]/40":F.tone==="slate"?"bg-gray-400 shadow-gray-400/40":"bg-[#10B981] shadow-[#10B981]/40"} group-hover:scale-125 transition-transform`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[13px] font-bold text-gray-800 dark:text-gray-200 leading-tight truncate",children:F.title}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 mt-0.5 truncate",children:F.desc}),o.jsx("p",{className:"text-[9px] text-gray-400 dark:text-gray-500 mt-1 tabular-nums font-bold uppercase",children:F.time})]})]},q)):o.jsx("li",{className:"px-5 py-8 text-sm text-gray-400 dark:text-gray-500 text-center font-medium italic",children:""})})]}),o.jsxs("div",{className:"modal-overlay md:hidden",children:[o.jsx("div",{className:"modal-backdrop",onClick:()=>w(!1)}),o.jsxs("div",{className:"modal-content animate-slide-up no-scrollbar",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 shrink-0"}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.3em]",children:"Notification Hub"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""})]}),o.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-white/5 flex items-center justify-center text-gray-400",children:o.jsx(ie,{name:"plus",size:20,className:"rotate-45"})})]}),o.jsx("div",{className:"space-y-1 divide-y divide-gray-50 dark:divide-white/5",children:S?E.map((F,q)=>o.jsxs("div",{className:"py-5 flex items-start gap-4",children:[o.jsx("div",{className:`mt-1.5 w-2.5 h-2.5 rounded-full shrink-0 shadow-sm ${F.tone==="rose"?"bg-[#FF4D94]":F.tone==="indigo"?"bg-[#7C4DFF]":F.tone==="slate"?"bg-gray-400":"bg-[#10B981]"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-base font-black text-gray-900 dark:text-white leading-tight",children:F.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:F.desc}),o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-2 font-bold uppercase tracking-widest",children:F.time})]})]},q)):o.jsxs("div",{className:"py-12 flex flex-col items-center justify-center gap-4 opacity-50",children:[o.jsx(ie,{name:"bell",size:40,className:"text-gray-300"}),o.jsx("p",{className:"text-sm font-bold italic",children:"..."})]})}),o.jsx("button",{onClick:()=>w(!1),className:"mt-4 w-full py-4 bg-gray-50 dark:bg-white/5 rounded-2xl text-[11px] font-black text-gray-400 uppercase tracking-widest",children:""})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 p-1 bg-gray-100/50 dark:bg-white/5 rounded-2xl",children:[r&&o.jsx("button",{onClick:d,className:"h-10 w-10 rounded-[14px] bg-white dark:bg-white/10 text-gray-600 dark:text-gray-300 hover:text-[#7C4DFF] hover:shadow-md transition-all flex items-center justify-center",title:"",children:o.jsx(ie,{name:"print",size:16})}),o.jsx("button",{onClick:c,className:"h-10 w-10 rounded-[14px] bg-white dark:bg-white/10 text-gray-600 dark:text-gray-300 hover:text-[#7C4DFF] hover:shadow-md transition-all flex items-center justify-center",title:l==="dark"?"":"",children:o.jsx(ie,{name:l==="dark"?"sun":"moon",size:16})}),o.jsx("button",{onClick:f,className:"h-10 w-10 rounded-[14px] bg-white dark:bg-white/10 text-rose-500 hover:bg-rose-50 hover:shadow-md transition-all flex items-center justify-center",title:"",children:o.jsx(ie,{name:"logout",size:16})})]}),o.jsxs("div",{className:"flex-1 lg:flex-none pl-3 pr-5 py-2.5 bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] rounded-[24px] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] flex items-center gap-3.5 min-w-[160px] group hover:scale-[1.02] transition-transform duration-300",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-md text-white flex items-center justify-center font-black text-xl shadow-inner group-hover:rotate-12 transition-transform",children:""}),o.jsxs("div",{className:"flex flex-col leading-tight",children:[o.jsx("span",{className:"text-[10px] font-bold text-white/70 uppercase tracking-[0.2em]",children:""}),o.jsx("span",{className:"text-2xl font-black text-white points-font",children:n.balance})]})]})]})]})})}function js({tabs:i,activeId:n,onChange:r,className:l=""}){return o.jsx("div",{className:`relative z-10 flex overflow-x-auto no-scrollbar gap-1.5 p-1.5 bg-gray-100/50 dark:bg-white/5 rounded-[24px] border border-gray-100/50 dark:border-transparent ${l}`,children:i.map(c=>{const d=n===c.id;return o.jsxs("button",{onClick:()=>r(c.id),className:`flex-1 min-w-max flex items-center justify-center gap-2 px-5 py-2.5 rounded-[20px] text-[13px] font-black transition-all duration-300 ${d?"bg-white dark:bg-gray-800 text-[#FF4D94] shadow-sm shadow-gray-200/50 dark:shadow-none scale-[1.02]":"text-gray-500 dark:text-gray-400 hover:text-[#FF4D94] dark:hover:text-[#FF4D94]"}`,children:[c.icon&&o.jsx("span",{className:"text-base leading-none shrink-0 group-hover:scale-110 transition-transform",children:c.icon}),o.jsx("span",{className:"truncate tracking-tight",children:c.label})]},c.id)})})}function Bu(i,n){const r=new Date;r.setHours(0,0,0,0);const l=[];for(let c=n-1;c>=0;c--){const d=new Date(r);d.setDate(r.getDate()-c);const f=d.getTime(),m=f+1440*60*1e3,g=`${d.getMonth()+1}/${d.getDate()}`,p=i.filter(y=>y.timestamp>=f&&y.timestamp<m).reduce((y,b)=>y+b.points,0);l.push({label:g,value:p})}return l}function fj({currentProfile:i,profiles:n,onGoEarn:r,onGoRedeem:l}){const c=i.history.filter(O=>new Date(O.timestamp).toDateString()===new Date().toDateString()&&O.points>0).reduce((O,W)=>O+W.points,0),d=i.history.reduce((O,W)=>(W.points>0&&(O.earned+=W.points),W.points<0&&(O.spent+=Math.abs(W.points)),O.count+=1,O),{earned:0,spent:0,count:0}),f=_.useMemo(()=>i.history.filter(O=>O.type==="earn"&&//.test(O.title)).reduce((O,W)=>O+W.points,0),[i.history]),m=i.history[0],g=_.useMemo(()=>n.flatMap(O=>O.history.map(W=>({...W,profileId:O.id,profileName:O.name}))),[n]),p=_.useMemo(()=>Bu(g,7),[g]),y=_.useMemo(()=>Bu(g,30),[g]),b=Math.max(...p.map(O=>Math.abs(O.value)),1),j=Math.max(...y.map(O=>Math.abs(O.value)),1),w=_.useMemo(()=>[...n].map(O=>({id:O.id,name:O.name,avatarColor:O.avatarColor,balance:O.balance,total:O.history.reduce((W,X)=>W+X.points,0)})).sort((O,W)=>W.total-O.total).slice(0,3),[n]),E=_.useMemo(()=>{const O=Date.now(),W=1440*60*1e3;return n.map(X=>{const oe=X.history.filter(ee=>O-ee.timestamp<=W*7),de=oe.length,me=oe.filter(ee=>ee.type==="earn").length,ue=oe.filter(ee=>ee.type==="penalty").length,we=me+ue===0?0:Math.round(me/(me+ue)*100),z=oe.reduce((ee,ge)=>ee+ge.points,0),J=Bu(oe.map(ee=>({...ee,profileId:X.id})),7);return{id:X.id,name:X.name,avatarColor:X.avatarColor,balance:X.balance,activity7d:de,completionRate:we,net7d:z,trend7d:J}})},[n]),k=_.useMemo(()=>{const O=Date.now(),W=1440*60*1e3,X=g.filter(ee=>O-ee.timestamp<=W),oe=X.reduce((ee,ge)=>ee+ge.points,0),de=X.reduce((ee,ge)=>ee+Math.abs(ge.points),0),me=X.filter(ee=>ee.type==="redeem"),ue=me.length,we=g.find(ee=>ee.type==="penalty"&&ee.points<=-20),z=Array.from(new Set(X.map(ee=>ee.profileName||""))).join(""),J=[];if((de>=60||Math.abs(oe)>=40)&&J.push(`24${z||""} ${oe} ${de}`),ue>=3){const ee=Array.from(new Set(me.map(ge=>ge.profileName||""))).join("");J.push(`24 ${ue} ${ee}`)}return we&&J.push(` ${we.points}${we.title}${we.profileName||""}`),J},[g]),S=_.useMemo(()=>{const W=[...g].sort((X,oe)=>oe.timestamp-X.timestamp).slice(0,5).map(X=>({title:X.type==="redeem"?"":X.type==="penalty"?"":"",desc:`${X.title}  ${X.points>0?"+":""}${X.points}  ${X.profileName||""}`.trim(),time:ms(X.timestamp),tone:X.type==="redeem"?"indigo":X.type==="penalty"?"rose":"emerald"}));return k.slice(0,2).forEach(X=>W.unshift({title:"",desc:X,time:"",tone:"rose"})),W.push({title:" / ",desc:"",time:"",tone:"slate"}),W},[g,k]),[F,q]=_.useState(!1),[R,re]=_.useState("week"),ce=_.useMemo(()=>F?S:S.slice(0,4),[S,F]),Y=(O,W)=>{if(!O.length)return o.jsx("div",{className:"text-sm text-gray-400 py-10 text-center",children:""});const X=140,oe=Math.max(W,1),de=O.length===1?0:Math.max(30,320/(O.length-1)),me=X/2,ue=O.map((J,ee)=>{const ge=ee*de,Se=me-J.value/(oe*2)*X;return{x:ge,y:Se}}),we=ue.length>1?`M ${ue[0].x} ${ue[0].y} `+ue.slice(1).map(J=>`L ${J.x} ${J.y}`).join(" "):"",z=(O.length-1)*de||1;return o.jsx("div",{className:"overflow-x-auto no-scrollbar py-4",children:o.jsxs("svg",{viewBox:`0 -20 ${Math.max(z,1)} ${X+40}`,className:"w-full min-w-[320px] h-[160px]",preserveAspectRatio:"xMidYMid meet",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"chartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"#FF4D94",stopOpacity:"0.15"}),o.jsx("stop",{offset:"100%",stopColor:"#FF4D94",stopOpacity:"0"})]})}),o.jsx("line",{x1:0,y1:me,x2:z,y2:me,className:"stroke-gray-100 dark:stroke-white/5",strokeWidth:1,strokeDasharray:"4 4"}),we&&o.jsxs(o.Fragment,{children:[o.jsx("path",{d:we,fill:"none",className:"stroke-[#FF4D94]",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:`${we} L ${z} ${X} L 0 ${X} Z`,fill:"url(#chartGradient)"})]}),O.map((J,ee)=>{const{x:ge,y:Se}=ue[ee],C=O.length<=14||ee%5===0||ee===O.length-1;return o.jsxs("g",{className:"group cursor-pointer",children:[o.jsx("circle",{cx:ge,cy:Se,r:O.length>15?4:5,className:"fill-white dark:fill-[#0F172A] stroke-[2.5] stroke-[#FF4D94] transition-all group-hover:r-7"}),C&&o.jsx("text",{x:ge,y:X+18,textAnchor:"middle",className:"text-[9px] font-black fill-gray-400 dark:fill-gray-500 tabular-nums uppercase tracking-tighter",children:J.label}),o.jsxs("g",{className:"opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[o.jsx("rect",{x:ge-20,y:Se-34,width:40,height:22,rx:8,className:"fill-gray-900 dark:fill-white shadow-xl"}),o.jsxs("text",{x:ge,y:Se-20,textAnchor:"middle",className:"text-[10px] font-black fill-white dark:fill-gray-900",children:[J.value>0?"+":"",J.value]})]})]},ee)})]})})},Z=O=>{if(!O.length)return o.jsx("div",{className:"text-[10px] text-gray-400 italic",children:""});const W=40,X=Math.max(...O.map(we=>Math.abs(we.value)),1),oe=O.length===1?0:Math.max(20,140/(O.length-1)),de=(O.length-1)*oe||1,me=W/2,ue=O.map((we,z)=>{const J=z*oe,ee=me-we.value/(X*2)*W;return`${J},${ee}`}).join(" ");return o.jsxs("svg",{viewBox:`0 0 ${Math.max(de,1)} ${W}`,className:"w-full h-10",preserveAspectRatio:"xMidYMid meet",children:[o.jsx("path",{d:`M ${ue}`,fill:"none",className:"stroke-[#FF4D94]",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),O.length>0&&o.jsx("circle",{cx:(O.length-1)*oe,cy:me-O[O.length-1].value/(X*2)*W,r:3,className:"fill-[#FF4D94] shadow-sm"})]})};return o.jsxs("div",{className:"space-y-6 lg:space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"grid gap-6 lg:grid-cols-12 items-stretch",children:[o.jsxs("div",{className:"lg:col-span-8 bg-white dark:bg-[#0F172A] p-6 sm:p-8 lg:p-10 rounded-[32px] sm:rounded-[40px] text-gray-900 dark:text-white border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.08)] relative overflow-hidden flex flex-col min-h-[300px] sm:min-h-[340px] mobile-card transition-all",children:[o.jsx("div",{className:"absolute top-[-40px] right-[-40px] w-64 h-64 bg-gradient-to-br from-[#FF4D94]/10 to-[#7C4DFF]/10 blur-[60px] rounded-full"}),o.jsx("div",{className:"absolute bottom-[-100px] left-[-40px] w-64 h-64 bg-[#7C4DFF]/5 blur-[60px] rounded-full pointer-events-none"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-8 sm:mb-10",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-[#FF4D94]/10 text-[#FF4D94] text-[9px] font-black uppercase tracking-[0.2em] mb-2 sm:mb-3",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FF4D94] animate-pulse"}),""]}),o.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 sm:gap-3",children:[o.jsx("h3",{className:"text-5xl sm:text-6xl lg:text-8xl font-black points-font tracking-tighter text-gray-900 dark:text-white leading-none",children:i.balance}),o.jsx("span",{className:"text-sm sm:text-base lg:text-xl font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:""})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3 shrink-0",children:[o.jsxs("div",{className:"hidden sm:inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-50 dark:bg-emerald-500/10 border border-emerald-100 dark:border-emerald-500/20 shadow-sm transition-all hover:scale-105",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),o.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-emerald-600 dark:text-emerald-400",children:""})]}),o.jsxs("div",{className:"w-11 h-11 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] flex items-center justify-center shadow-lg shadow-[#FF4D94]/20 text-white transform hover:rotate-12 transition-transform duration-500",children:[o.jsx(ie,{name:"reward",size:20,className:"sm:hidden"}),o.jsx(ie,{name:"reward",size:28,className:"hidden sm:block"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-8 sm:mb-10",children:[{label:"",value:`+${c}`,tone:"emerald"},{label:"",value:d.earned,tone:"indigo"},{label:"",value:`-${d.spent}`,tone:"rose"},{label:"",value:d.count,tone:"slate"}].map((O,W)=>o.jsxs("div",{className:"px-4 py-3 sm:py-5 rounded-[20px] sm:rounded-[24px] bg-gray-50/50 dark:bg-white/5 border border-gray-100/50 dark:border-white/5 hover:bg-white dark:hover:bg-white/10 hover:shadow-xl hover:shadow-gray-200/50 dark:hover:shadow-none transition-all group",children:[o.jsx("p",{className:"text-[8px] sm:text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1 truncate group-hover:text-[#FF4D94] transition-colors",children:O.label}),o.jsx("p",{className:`text-lg sm:text-xl font-black points-font truncate ${O.tone==="emerald"?"text-emerald-500":O.tone==="rose"?"text-rose-500":O.tone==="indigo"?"text-[#7C4DFF]":"text-gray-900 dark:text-white"}`,children:O.value})]},W))}),o.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-3 sm:flex sm:flex-wrap sm:gap-4",children:[o.jsxs("button",{onClick:r,className:"flex-1 sm:flex-none px-4 sm:px-8 py-3.5 sm:py-4 bg-gradient-to-r from-[#FF4D94] to-[#FF7AB8] text-white rounded-[18px] sm:rounded-[24px] text-xs sm:text-sm font-black uppercase tracking-widest hover:scale-[1.05] active:scale-95 transition-all shadow-[0_15px_30px_-10px_rgba(255,77,148,0.4)] flex items-center justify-center gap-2 group",children:[o.jsx(ie,{name:"plus",size:14,className:"group-hover:rotate-90 transition-transform"}),""]}),o.jsxs("button",{onClick:l,className:"flex-1 sm:flex-none px-4 sm:px-8 py-3.5 sm:py-4 bg-white dark:bg-white/5 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-white/10 rounded-[18px] sm:rounded-[24px] text-xs sm:text-sm font-black uppercase tracking-widest hover:bg-gray-50 dark:hover:bg-white/10 active:scale-95 transition-all flex items-center justify-center gap-2",children:[o.jsx(ie,{name:"reward",size:14}),""]})]})]})]}),o.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4",children:[o.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1E293B] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col justify-center relative overflow-hidden group hover:border-[#FF4D94]/30 transition-colors",children:[o.jsx("div",{className:"absolute top-[-20px] right-[-20px] text-gray-50 dark:text-white/5 group-hover:text-[#FF4D94]/10 transition-colors",children:o.jsx(ie,{name:"home",size:120})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-[0.3em] mb-1",children:""}),m?o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white truncate",children:m.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium italic",children:ms(m.timestamp)}),o.jsxs("div",{className:`mt-4 inline-flex items-center px-3 py-1 rounded-full text-xs font-black ${m.points>0?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10":"bg-rose-50 text-rose-600 dark:bg-rose-500/10"}`,children:[m.points>0?"":""," ",Math.abs(m.points)," "]})]}):o.jsx("p",{className:"text-gray-400 font-bold italic",children:"..."})]})]}),o.jsxs("div",{className:"flex-1 bg-gradient-to-br from-[#7C4DFF] to-[#9E7AFF] p-6 rounded-[32px] text-white shadow-xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute bottom-[-10px] right-[-10px] rotate-[-12deg] opacity-20 group-hover:rotate-0 transition-transform duration-500",children:o.jsx(ie,{name:"reward",size:100})}),o.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[o.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase tracking-[0.3em] mb-1",children:""}),o.jsxs("h4",{className:"text-3xl font-black points-font",children:["+",f]}),o.jsx("p",{className:"text-xs text-white/80 mt-1 font-bold",children:""}),o.jsxs("div",{className:"mt-auto pt-4 flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(O=>o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-[#7C4DFF] bg-white/20 backdrop-blur-sm"},O))}),o.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:""})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"lg:col-span-8 bg-white dark:bg-[#0F172A] p-8 rounded-[40px] border border-gray-100 dark:border-white/5 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.3em] mb-1",children:""}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""})]}),o.jsx(js,{tabs:[{id:"week",label:"",icon:""},{id:"month",label:"",icon:""}],activeId:R,onChange:O=>re(O),className:"!bg-gray-50 dark:!bg-white/5"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"p-6 bg-gray-50/50 dark:bg-white/5 rounded-[32px] border border-gray-100 dark:border-transparent",children:Y(R==="week"?p:y,R==="week"?b:j)}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:" Impact",value:`${(R==="week"?b:j)>0?"+":""}${R==="week"?b:j}`,tone:"emerald"},{label:" Avg",value:((R==="week"?p:y).reduce((O,W)=>O+Math.abs(W.value),0)/(R==="week"?7:30)).toFixed(1),tone:"indigo"},{label:" Rate",value:"94%",tone:"rose"},{label:" Status",value:"",tone:"slate"}].map((O,W)=>o.jsxs("div",{className:"flex flex-col p-4 rounded-3xl bg-gray-50/50 dark:bg-white/5 border border-gray-100/50 dark:border-transparent transition-all hover:scale-[1.02]",children:[o.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] mb-1",children:O.label}),o.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white points-font",children:O.value})]},W))})]})]}),o.jsxs("div",{className:"lg:col-span-4 bg-white dark:bg-[#0F172A] p-8 rounded-[40px] border border-gray-100 dark:border-white/5 shadow-sm",children:[o.jsx("p",{className:"text-[11px] font-black text-[#7C4DFF] uppercase tracking-[0.3em] mb-1",children:""}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight mb-8",children:""}),o.jsx("div",{className:"space-y-4",children:w.map((O,W)=>o.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-[28px] bg-gray-50/50 dark:bg-white/5 border border-transparent hover:border-[#7C4DFF]/30 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-lg shadow-lg ${O.avatarColor}`,children:O.name.slice(-1)}),o.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-white dark:bg-gray-800 shadow-md flex items-center justify-center text-[10px] font-black text-gray-900 dark:text-white",children:W+1})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-base font-black text-gray-900 dark:text-white",children:O.name}),o.jsxs("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:[": ",O.balance]})]})]}),o.jsxs("div",{className:`text-right ${O.total>=0?"text-emerald-500":"text-rose-500"}`,children:[o.jsxs("p",{className:"text-lg font-black points-font",children:[O.total>=0?"+":"",O.total]}),o.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:""})]})]},O.id))}),o.jsx("button",{className:"w-full mt-6 py-4 bg-gray-50 dark:bg-white/5 rounded-2xl text-[11px] font-black text-gray-400 uppercase tracking-widest hover:bg-gray-100 transition-colors",children:""})]})]}),o.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-8 lg:p-10 rounded-[40px] border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 blur-[80px] rounded-full"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-black text-emerald-500 uppercase tracking-[0.3em] mb-1",children:""}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(O=>o.jsxs("div",{className:"bg-gray-50/30 dark:bg-white/5 p-6 rounded-[32px] border border-gray-100 dark:border-transparent hover:shadow-xl transition-all group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-xl shadow-lg ${O.avatarColor} group-hover:rotate-12 transition-transform`,children:O.name.slice(-1)}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-black text-gray-900 dark:text-white",children:O.name}),o.jsxs("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:[": ",O.net7d]})]})]}),o.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-[10px] font-black border-2 ${O.completionRate>=80?"border-emerald-500 text-emerald-500":"border-rose-500 text-rose-500"}`,children:[O.completionRate,"%"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"7"}),o.jsxs("p",{className:"text-xl font-black text-gray-800 dark:text-gray-200",children:[O.activity7d," "]})]}),o.jsx("div",{className:"w-24 h-12",children:Z(O.trend7d)})]}),o.jsx("div",{className:"w-full h-1.5 bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-[#FF4D94] transition-all duration-1000",style:{width:`${O.completionRate}%`}})})]})]},O.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col relative overflow-hidden group hover:border-[#FF4D94]/30 transition-colors",children:[o.jsx("div",{className:"absolute top-[-20px] right-[-20px] text-gray-50 dark:text-white/5 group-hover:text-[#FF4D94]/10 transition-colors",children:o.jsx(ie,{name:"history",size:120})}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-8",children:[o.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("button",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-widest hover:underline",children:""})]}),o.jsx("div",{className:"space-y-4",children:i.history.slice(0,5).map(O=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg ${O.points>0?"bg-emerald-50 text-emerald-500 dark:bg-emerald-500/10":"bg-rose-50 text-rose-500 dark:bg-rose-500/10"}`,children:o.jsx(ie,{name:O.type==="redeem"?"reward":"plus",size:18})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-gray-800 dark:text-gray-200 truncate max-w-[120px]",children:O.title}),o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:ms(O.timestamp)})]})]}),o.jsxs("span",{className:`text-sm font-black points-font ${O.points>0?"text-emerald-500":"text-rose-500"}`,children:[O.points>0?"+":"",O.points]})]},O.id))})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col relative overflow-hidden group hover:border-[#FF4D94]/30 transition-colors",children:[o.jsx("div",{className:"absolute top-[-20px] right-[-20px] text-gray-50 dark:text-white/5 group-hover:text-[#FF4D94]/10 transition-colors",children:o.jsx(ie,{name:"penalty",size:120})}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-8",children:[o.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx(ie,{name:"history",size:16,className:"text-rose-500"})]}),o.jsx("div",{className:"space-y-3",children:k.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-50 dark:bg-emerald-500/10 flex items-center justify-center",children:o.jsx(ie,{name:"home",size:32,className:"text-emerald-500"})}),o.jsx("p",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:""})]}):k.map((O,W)=>o.jsxs("div",{className:"p-4 bg-rose-50 dark:bg-rose-500/10 border border-rose-100 dark:border-rose-500/20 rounded-[20px] text-xs font-bold text-rose-600 dark:text-rose-400 leading-relaxed flex gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 mt-1 shrink-0"}),O]},W))})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col relative overflow-hidden group hover:border-[#FF4D94]/30 transition-colors",children:[o.jsx("div",{className:"absolute top-[-20px] right-[-20px] text-gray-50 dark:text-white/5 group-hover:text-[#FF4D94]/10 transition-colors",children:o.jsx(ie,{name:"bell",size:120})}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-8",children:[o.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("button",{onClick:()=>q(!F),className:"text-[10px] font-black text-[#7C4DFF] uppercase tracking-widest hover:underline",children:F?"":""})]}),o.jsx("div",{className:"space-y-4",children:ce.map((O,W)=>o.jsxs("div",{className:"flex gap-4 group",children:[o.jsx("div",{className:`mt-1 w-2.5 h-2.5 rounded-full shrink-0 shadow-sm ${O.tone==="rose"?"bg-[#FF4D94] shadow-[#FF4D94]/40":O.tone==="indigo"?"bg-[#7C4DFF] shadow-[#7C4DFF]/40":O.tone==="slate"?"bg-gray-400 shadow-gray-400/40":"bg-[#10B981] shadow-[#10B981]/40"} group-hover:scale-125 transition-transform`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 leading-tight truncate",children:O.title}),o.jsx("p",{className:"text-[12px] text-gray-500 dark:text-gray-400 mt-0.5 truncate",children:O.desc}),o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1 tabular-nums font-medium uppercase",children:O.time})]})]},W))})]})]})]})}function mj({tasks:i,onSelectTask:n}){const[r,l]=_.useState("all"),c=[{id:"all",label:"",icon:""},{id:"learning",label:"",icon:""},{id:"chores",label:"",icon:""},{id:"discipline",label:"",icon:""},{id:"penalty",label:"",icon:""}],d=g=>{switch(g){case"learning":return{chip:"",tone:"text-blue-600 bg-blue-50 dark:bg-blue-500/10 dark:text-blue-400"};case"chores":return{chip:"",tone:"text-emerald-600 bg-emerald-50 dark:bg-emerald-500/10 dark:text-emerald-400"};case"discipline":return{chip:"",tone:"text-amber-600 bg-amber-50 dark:bg-amber-500/10 dark:text-amber-400"};case"penalty":return{chip:"",tone:"text-rose-600 bg-rose-50 dark:bg-rose-500/10 dark:text-rose-400"};default:return{chip:"",tone:"text-[#FF4D94] bg-pink-50 dark:bg-pink-500/10 dark:text-pink-400"}}},f=_.useMemo(()=>{const g=[...i].sort((p,y)=>y.points-p.points);return r==="all"?g:g.filter(p=>p.category===r)},[r,i]),m=_.useMemo(()=>{const g=i.length,p=i.filter(b=>(b.frequency||"").includes("")).length,y=i.filter(b=>b.points>=5).length;return{total:g,daily:p,highValue:y}},[i]);return o.jsxs("div",{className:"space-y-6 sm:space-y-8 pb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-[32px] sm:rounded-[40px] bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.1)] p-4 sm:p-6 lg:p-8 mobile-card",children:[o.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-64 h-64 bg-gradient-to-br from-[#FF4D94]/10 to-[#7C4DFF]/10 blur-[60px] rounded-full"}),o.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6 lg:gap-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-0.5 rounded-full bg-[#FF4D94]/10 text-[#FF4D94] text-[9px] sm:text-[10px] font-black uppercase tracking-[0.2em] mb-2 sm:mb-3",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF4D94] animate-pulse"}),""]}),o.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 dark:text-white leading-tight tracking-tight mb-1.5 sm:mb-2",children:""}),o.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 font-medium hidden sm:block",children:""})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 lg:gap-4 lg:min-w-[360px]",children:[{label:"",val:m.total,sub:"",color:"text-gray-900 dark:text-white"},{label:"",val:m.daily,sub:"",color:"text-emerald-500"},{label:"",val:m.highValue,sub:"",color:"text-[#7C4DFF]"}].map((g,p)=>o.jsxs("div",{className:"bg-gray-50/50 dark:bg-white/5 p-2.5 sm:p-3 lg:p-4 rounded-[16px] sm:rounded-[20px] lg:rounded-[24px] border border-gray-100 dark:border-transparent text-center",children:[o.jsx("p",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-1",children:g.label}),o.jsx("p",{className:`text-lg sm:text-xl lg:text-2xl font-black points-font ${g.color}`,children:g.val}),o.jsx("p",{className:"text-[7px] sm:text-[8px] lg:text-[9px] font-bold text-gray-400 uppercase tracking-tighter opacity-60 mt-0.5",children:g.sub})]},p))})]}),o.jsx(js,{tabs:c,activeId:r,onChange:l,className:"mt-4 sm:mt-6 lg:mt-8"})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-4",children:f.map(g=>{const p=d(g.category),y=g.category==="penalty";return o.jsxs("button",{onClick:()=>n({title:g.title,points:g.points,type:y?"penalty":"earn"}),className:`group relative text-left w-full p-3 sm:p-4 rounded-[20px] sm:rounded-[24px] bg-white dark:bg-[#0F172A] border transition-all duration-500 hover:-translate-y-1 hover:shadow-[0_10px_30px_-10px_rgba(0,0,0,0.1)] active:scale-[0.98] mobile-card ${y?"border-gray-100 dark:border-white/5 hover:border-rose-200":"border-gray-100 dark:border-white/5 hover:border-[#FF4D94]/30"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[o.jsx("div",{className:`w-9 h-9 sm:w-11 sm:h-11 rounded-xl flex items-center justify-center text-lg sm:text-xl shadow-inner transition-transform group-hover:rotate-12 duration-500 ${p.tone}`,children:p.chip}),o.jsxs("div",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-[9px] sm:text-[10px] font-black points-font shadow-sm ${g.points>0?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10":"bg-rose-50 text-rose-600 dark:bg-rose-500/10"}`,children:[g.points>0?"+":"",g.points]})]}),o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsx("div",{className:"flex items-center gap-1.5",children:o.jsx("span",{className:"text-[8px] sm:text-[9px] font-black uppercase tracking-wider px-1.5 sm:px-2 py-0.5 sm:py-1 rounded bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400",children:g.frequency||""})}),o.jsx("h4",{className:"text-sm sm:text-base font-black text-gray-900 dark:text-white tracking-tight group-hover:text-[#FF4D94] transition-colors line-clamp-1 leading-tight",children:g.title}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium line-clamp-2 leading-snug h-[28px] sm:h-[32px]",children:g.description||""})]}),o.jsxs("div",{className:"mt-3 sm:mt-4 pt-2.5 sm:pt-3 border-t border-gray-50 dark:border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${y?"bg-rose-500":"bg-emerald-500"} shadow-sm animate-pulse`}),o.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 uppercase tracking-wider hidden sm:inline",children:y?"":""})]}),o.jsxs("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-gray-300 dark:text-gray-600 group-hover:bg-[#FF4D94] group-hover:text-white transition-all",children:[o.jsx(ie,{name:"plus",size:10,className:"sm:hidden"}),o.jsx(ie,{name:"plus",size:12,className:"hidden sm:block"})]})]})]},g.id)})}),f.length===0&&o.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center gap-4 bg-white/50 dark:bg-white/5 rounded-[40px] border border-dashed border-gray-200 dark:border-white/10",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-4xl opacity-50",children:""}),o.jsx("p",{className:"text-lg font-black text-gray-400 uppercase tracking-widest",children:""})]})]})}function gj({rewards:i,balance:n,onRedeem:r,isAdmin:l=!1,onApproveWishlist:c,onRejectWishlist:d,profiles:f=[]}){const[m,g]=_.useState("all"),p=[{id:"all",label:"",icon:""},{id:"",label:"",icon:""},{id:"",label:"",icon:""}],y=_.useMemo(()=>{const E=[...i.filter(k=>k.status==="rejected"?!1:l?k.status==="active"||k.status==="pending"||!k.status:k.status==="active"||!k.status)].sort((k,S)=>k.points-S.points);return m==="all"?E:E.filter(k=>k.type===m)},[m,i,l]),b=w=>w.imageUrl||`https://ui-avatars.com/api/?background=7C4DFF&color=fff&name=${encodeURIComponent(w.title)}&bold=true&font-size=0.33`,j=w=>{if(!w.requestedBy)return null;const E=f.find(k=>k.id===w.requestedBy);return(E==null?void 0:E.name)||""};return o.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-[40px] bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.1)] p-8 lg:p-10 mobile-card",children:[o.jsx("div",{className:"absolute top-[-50px] left-[-50px] w-64 h-64 bg-gradient-to-br from-[#7C4DFF]/10 to-[#FF4D94]/10 blur-[60px] rounded-full"}),o.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[o.jsxs("div",{className:"max-w-xl",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#7C4DFF]/10 text-[#7C4DFF] text-[10px] font-black uppercase tracking-[0.2em] mb-4",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7C4DFF] animate-pulse"}),""]}),o.jsx("h3",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-white leading-tight tracking-tight mb-2",children:""}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:""}),o.jsxs("div",{className:"px-4 py-1 rounded-2xl bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white text-lg font-black points-font shadow-lg shadow-[#FF4D94]/20",children:[n," "]})]})]}),o.jsxs("div",{className:"hidden md:flex gap-4 p-4 bg-gray-50/50 dark:bg-white/5 rounded-[32px] border border-gray-100 dark:border-transparent",children:[o.jsxs("div",{className:"flex items-center gap-3 px-4",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.5)]"}),o.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:""})]}),o.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-3 px-4",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.5)]"}),o.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:""})]})]})]}),o.jsx(js,{tabs:p,activeId:m,onChange:g,className:"mt-8 lg:mt-10"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:y.map(w=>{const E=n>=w.points,k=Math.max(0,w.points-n),S=Math.min(100,Math.round(n/w.points*100));return o.jsxs("div",{className:`group relative flex flex-col rounded-[40px] bg-white dark:bg-[#0F172A] border-2 transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_30px_60px_-20px_rgba(0,0,0,0.15)] mobile-card ${E?"border-transparent hover:border-[#FF4D94]/30":"border-transparent opacity-95 grayscale-[0.3]"}`,children:[o.jsx("div",{className:"relative p-3",children:o.jsxs("div",{className:"relative aspect-[1/1] rounded-[32px] overflow-hidden bg-gray-50 dark:bg-white/5",children:[o.jsx("img",{src:b(w),alt:w.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest bg-white/90 dark:bg-black/50 backdrop-blur-md text-gray-900 dark:text-white border border-white/20 shadow-sm",children:w.type===""?"":""}),w.requestedBy&&j(w)&&o.jsxs("div",{className:"absolute top-14 left-4 px-3 py-1 rounded-full text-[9px] font-black tracking-wide bg-pink-500/90 backdrop-blur-md text-white border border-white/20 shadow-sm flex items-center gap-1",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[j(w),""]})]}),w.status==="pending"&&o.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest bg-amber-500/90 backdrop-blur-md text-white border border-white/20 shadow-sm",children:""}),o.jsxs("div",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-2xl bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] text-white text-sm font-black points-font shadow-lg transform translate-y-0 group-hover:-translate-y-1 transition-transform",children:[w.points," "]}),!E&&w.status!=="pending"&&o.jsxs("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px] flex flex-col items-center justify-center p-6 text-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[o.jsx("p",{className:"text-white text-xs font-black uppercase tracking-[0.2em] mb-2",children:""}),o.jsx("div",{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden mb-2",children:o.jsx("div",{className:"h-full bg-[#FF4D94] transition-all duration-1000",style:{width:`${S}%`}})}),o.jsxs("p",{className:"text-white font-black text-sm",children:[" ",k," "]})]})]})}),o.jsxs("div",{className:"p-6 pt-2 flex flex-col flex-1",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight group-hover:text-[#FF4D94] transition-colors truncate",children:w.title}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mt-1",children:w.status==="pending"?" ...":E?" ":`  ${k} `})]}),o.jsxs("div",{className:"mt-auto",children:[!E&&w.status!=="pending"&&o.jsxs("div",{className:"mb-4 space-y-1.5",children:[o.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest text-gray-400",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[S,"%"]})]}),o.jsx("div",{className:"w-full h-1 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-[#7C4DFF] opacity-50",style:{width:`${S}%`}})})]}),w.status==="pending"&&l?o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>c==null?void 0:c(w.id),className:"flex-1 py-3 rounded-2xl text-sm font-bold bg-emerald-500 text-white hover:bg-emerald-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(ie,{name:"plus",size:16}),""]}),o.jsxs("button",{onClick:()=>d==null?void 0:d(w.id),className:"flex-1 py-3 rounded-2xl text-sm font-bold bg-rose-500 text-white hover:bg-rose-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(ie,{name:"plus",size:16,className:"rotate-45"}),""]})]}):w.status==="pending"?o.jsx("button",{disabled:!0,className:"w-full py-4 rounded-[20px] text-sm font-black uppercase tracking-widest bg-gray-100 dark:bg-white/5 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:""}):o.jsx("button",{disabled:!E,onClick:()=>r({title:w.title,points:-w.points,type:"redeem"}),className:`w-full py-4 rounded-[20px] text-sm font-black uppercase tracking-widest transition-all duration-300 flex items-center justify-center gap-2 ${E?"bg-[#1A1A1A] dark:bg-white text-white dark:text-black hover:bg-[#FF4D94] dark:hover:bg-[#FF4D94] hover:text-white dark:hover:text-white shadow-lg active:scale-95":"bg-gray-100 dark:bg-white/5 text-gray-400 dark:text-gray-600 cursor-not-allowed"}`,children:E?o.jsxs(o.Fragment,{children:[o.jsx(ie,{name:"reward",size:16}),""]}):""})]})]})]},w.id)})}),y.length===0&&o.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center gap-4 bg-white/50 dark:bg-white/5 rounded-[40px] border border-dashed border-gray-200 dark:border-white/10",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-4xl opacity-50",children:""}),o.jsx("p",{className:"text-lg font-black text-gray-400 uppercase tracking-widest",children:""})]})]})}const Rp=_.createContext(null),pj=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`toast-${Date.now()}-${Math.random()}`,xj={info:"border-sky-500/20 text-sky-600 dark:text-sky-400",success:"border-emerald-500/20 text-emerald-600 dark:text-emerald-400",error:"border-rose-500/20 text-rose-600 dark:text-rose-400",loading:"border-gray-500/20 text-gray-600 dark:text-gray-400"};function yj({toast:i,onClose:n}){const r=i.type==="success"?"check":i.type==="error"?"penalty":i.type==="info"?"info":null,l=i.type==="success"?"#10B981":i.type==="error"?"#F43F5E":i.type==="info"?"#0EA5E9":"#64748B";return o.jsxs("div",{className:`pointer-events-auto w-full max-w-xs sm:max-w-sm border-[1.5px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.15)] dark:shadow-[0_20px_40px_-12px_rgba(0,0,0,0.4)] rounded-[24px] px-5 py-4 flex gap-4 items-center bg-white/90 dark:bg-[#1E293B]/90 backdrop-blur-2xl animate-in slide-in-from-right-8 duration-500 ${xj[i.type]}`,children:[o.jsx("div",{className:"shrink-0",children:i.type==="loading"?o.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-white/5 flex items-center justify-center shadow-inner",children:o.jsx("div",{className:"w-5 h-5 border-3 border-gray-300 dark:border-gray-600 border-t-gray-600 dark:border-t-gray-300 rounded-full animate-spin"})}):o.jsxs("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-inner relative overflow-hidden group",style:{backgroundColor:`${l}15`},children:[o.jsx("div",{className:"absolute inset-0 opacity-20 bg-gradient-to-br from-white to-transparent"}),o.jsx(ie,{name:r||"info",size:20})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-black tracking-tight text-gray-900 dark:text-white leading-tight",children:i.title}),i.description&&o.jsx("p",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400 mt-0.5 leading-relaxed truncate",children:i.description})]}),o.jsx("button",{onClick:()=>n(i.id),className:"w-8 h-8 flex items-center justify-center rounded-xl text-gray-300 hover:text-gray-500 dark:text-gray-600 dark:hover:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 transition-all","aria-label":"Close",children:o.jsx(ie,{name:"plus",size:20,className:"rotate-45"})})]})}function bj({children:i}){const[n,r]=_.useState([]),l=_.useCallback(f=>{r(m=>m.filter(g=>g.id!==f))},[]),c=_.useCallback(f=>{const{title:m,description:g,type:p="info"}=f,y=f.duration===void 0?p==="loading"?0:2600:f.duration,b=pj();return r(j=>[...j,{id:b,title:m,description:g,type:p,duration:y}]),y>0&&window.setTimeout(()=>l(b),y),b},[l]),d=_.useMemo(()=>({showToast:c,dismissToast:l}),[c,l]);return o.jsxs(Rp.Provider,{value:d,children:[o.jsx("div",{className:"fixed top-4 right-4 z-[999] flex flex-col gap-3 items-end pointer-events-none",children:n.map(f=>o.jsx(yj,{toast:f,onClose:l},f.id))}),i]})}function _r(){const i=_.useContext(Rp);if(!i)throw new Error("useToast must be used within ToastProvider");return i}function Fp({open:i,title:n,description:r,confirmText:l="",cancelText:c="",tone:d="danger",onConfirm:f,onCancel:m}){return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:m}),o.jsxs("div",{className:"modal-content no-scrollbar max-w-[420px]",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex flex-col items-center text-center space-y-5",children:[o.jsx("div",{className:`w-20 h-20 rounded-[32px] flex items-center justify-center shadow-xl rotate-6 transition-transform hover:rotate-0 duration-500 ${d==="danger"?"bg-rose-50 dark:bg-rose-500/10 text-rose-500":"bg-indigo-50 dark:bg-indigo-500/10 text-indigo-500"}`,children:o.jsx(ie,{name:d==="danger"?"trash":"info",size:36})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.4em]",children:"Confirmation"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:n}),r&&o.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 max-w-[280px] mx-auto",children:r})]}),o.jsxs("div",{className:"flex w-full gap-3 pt-2",children:[o.jsx("button",{onClick:m,className:"flex-1 py-4 bg-gray-100 dark:bg-white/5 text-gray-400 font-black uppercase text-[11px] tracking-widest rounded-[20px] hover:bg-gray-200 transition-all font-black",children:c}),o.jsx("button",{onClick:f,className:`flex-[1.5] py-4 rounded-[20px] text-white font-black uppercase text-[11px] tracking-[0.3em] transition-all hover:scale-[1.02] active:scale-[0.98] shadow-lg ${d==="danger"?"bg-gradient-to-r from-rose-500 to-pink-600 shadow-rose-500/20":"bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] shadow-pink-500/20"}`,children:l})]})]})]})]}):null}function vj({history:i,isAdmin:n=!1,onDeleteTransactions:r}){const{showToast:l}=_r(),[c,d]=_.useState(null),[f,m]=_.useState("all"),g=[{id:"all",label:"",icon:""},{id:"earn",label:"",icon:""},{id:"penalty",label:"",icon:""},{id:"redeem",label:"",icon:""}],[p,y]=_.useState(new Set),[b,j]=_.useState(!1),w=n&&typeof r=="function",E=()=>d(null),k=_.useMemo(()=>{const Y=[...i].sort((Z,O)=>O.timestamp-Z.timestamp);return f==="all"?Y:Y.filter(Z=>Z.type===f)},[f,i]),S=_.useMemo(()=>{const Y=i.length,Z=i.filter(me=>me.type==="earn"),O=i.filter(me=>me.type==="penalty"),W=i.filter(me=>me.type==="redeem"),X=Date.now(),oe=i.filter(me=>X-me.timestamp<=10080*60*1e3).length,de=me=>me.reduce((ue,we)=>ue+we.points,0);return{total:Y,week:oe,earnCount:Z.length,earnPoints:de(Z),penaltyCount:O.length,penaltyPoints:de(O),redeemCount:W.length,redeemPoints:de(W),net:de(i)}},[i]),F=Y=>{const O={earn:{label:"Earned",cls:"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-500/10 dark:text-emerald-400 dark:border-transparent",icon:"plus"},penalty:{label:"Penalty",cls:"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-500/10 dark:text-rose-400 dark:border-transparent",icon:"penalty"},redeem:{label:"Redeem",cls:"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-500/10 dark:text-blue-400 dark:border-transparent",icon:"reward"},transfer:{label:"Transfer",cls:"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-500/10 dark:text-purple-400 dark:border-transparent",icon:"history"},all:{label:"Bill",cls:"bg-gray-50 text-gray-600 border-gray-100 dark:bg-white/5 dark:text-gray-400 dark:border-transparent",icon:"history"}}[Y];return o.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${O.cls}`,children:O.label})};_.useEffect(()=>{y(Y=>{const Z=new Set;return k.forEach(O=>{Y.has(O.id)&&Z.add(O.id)}),Z})},[k]);const q=Y=>{w&&y(Z=>{const O=new Set(Z);return O.has(Y)?O.delete(Y):O.add(Y),O})},R=()=>y(new Set),re=async()=>{if(!w||!r||p.size===0)return;const Y=Array.from(p);d({title:` ${Y.length} `,description:"",confirmText:"",tone:"danger",onConfirm:async()=>{j(!0),await r(Y)&&(y(new Set),l({type:"success",title:""})),j(!1),E()}})},ce=p.size;return k.length>0&&k.length,o.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-[40px] bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.1)] p-8 lg:p-10 mobile-card",children:[o.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-64 h-64 bg-gradient-to-br from-[#7C4DFF]/10 to-[#FF4D94]/10 blur-[60px] rounded-full"}),o.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[o.jsxs("div",{className:"max-w-xl",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FF4D94]/10 text-[#FF4D94] text-[10px] font-black uppercase tracking-[0.2em] mb-4",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF4D94] animate-pulse"}),"Transaction Logs"]}),o.jsx("h3",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-white leading-tight tracking-tight mb-2",children:""}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:""})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 w-full lg:w-auto",children:[{label:"",val:S.total,color:"text-gray-900 dark:text-white"},{label:"",val:S.week,color:"text-blue-500"},{label:"",val:`${S.net>0?"+":""}${S.net}`,color:S.net>=0?"text-emerald-500":"text-rose-500"},{label:"",val:S.redeemCount,color:"text-[#7C4DFF]"}].map((Y,Z)=>o.jsxs("div",{className:"bg-gray-50/50 dark:bg-white/5 p-4 rounded-[24px] border border-gray-100 dark:border-transparent text-center",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1 truncate",children:Y.label}),o.jsx("p",{className:`text-xl font-black points-font ${Y.color}`,children:Y.val})]},Z))})]}),o.jsx(js,{tabs:g,activeId:f,onChange:Y=>m(Y),className:"mt-8 lg:mt-10"})]}),w&&ce>0&&o.jsxs("div",{className:"flex items-center justify-between px-8 py-4 bg-[#1A1A1A] dark:bg-white text-white dark:text-gray-900 rounded-[24px] shadow-2xl animate-in slide-in-from-top-4 duration-300",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FF4D94] flex items-center justify-center text-xs font-black",children:ce}),o.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Selected Transactions"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:R,className:"px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest border border-white/20 dark:border-gray-200 hover:bg-white/10 transition-all",children:"Cancel"}),o.jsx("button",{onClick:re,disabled:b,className:"px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest bg-rose-500 text-white hover:bg-rose-600 transition-all shadow-lg shadow-rose-500/30",children:b?"Deleting...":"Delete Permanently"})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[k.map((Y,Z)=>o.jsxs("div",{onClick:()=>w&&q(Y.id),className:`group relative flex items-center gap-4 sm:gap-6 p-4 sm:p-5 rounded-[28px] sm:rounded-[40px] bg-white dark:bg-[#0F172A] border transition-all duration-300 cursor-pointer ${p.has(Y.id)?"border-[#FF4D94] shadow-[0_15px_30px_-10px_rgba(255,77,148,0.2)] scale-[1.01]":"border-gray-100 dark:border-white/5 hover:border-gray-200 dark:hover:border-white/10 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] hover:shadow-lg dark:hover:shadow-none"}`,children:[o.jsx("div",{className:`absolute left-0 top-1/4 bottom-1/4 w-1 rounded-r-full transition-all ${Y.points>0?"bg-emerald-400":"bg-rose-400"} ${p.has(Y.id)?"opacity-100":"opacity-0 group-hover:opacity-100"}`}),o.jsx("div",{className:`w-12 h-12 sm:w-16 sm:h-16 rounded-[18px] sm:rounded-[28px] flex items-center justify-center shadow-inner shrink-0 transition-transform group-hover:scale-105 ${Y.type==="earn"?"bg-emerald-50/50 text-emerald-500 dark:bg-emerald-500/10":Y.type==="penalty"?"bg-rose-50/50 text-rose-500 dark:bg-rose-500/10":"bg-indigo-50/50 text-[#7C4DFF] dark:bg-indigo-500/10"}`,children:o.jsx(ie,{name:Y.type==="redeem"?"reward":Y.type==="penalty"?"penalty":"plus",size:window.innerWidth<640?20:28})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[F(Y.type),o.jsx("span",{className:"text-[9px] font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest tabular-nums font-mono",children:ms(Y.timestamp)})]}),o.jsx("h4",{className:"text-base sm:text-lg font-black text-gray-900 dark:text-white truncate pr-2 tracking-tight group-hover:text-[#FF4D94] transition-colors leading-snug",children:Y.title})]}),o.jsxs("div",{className:"text-right shrink-0",children:[o.jsxs("div",{className:"flex items-baseline justify-end gap-1",children:[o.jsxs("span",{className:`text-xl sm:text-3xl font-black points-font ${Y.points>0?"text-emerald-500":"text-rose-500"}`,children:[Y.points>0?"+":"",Y.points]}),o.jsx("span",{className:"text-[8px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest pb-1",children:"Pts"})]}),o.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-gray-600 uppercase tracking-[0.2em] transform -translate-y-1",children:"Energy Log"})]}),w&&o.jsx("div",{className:`absolute top-4 right-4 w-6 h-6 rounded-full border-2 transition-all flex items-center justify-center ${p.has(Y.id)?"bg-[#FF4D94] border-[#FF4D94] scale-110":"bg-transparent border-gray-200 dark:border-white/10 opacity-0 group-hover:opacity-100 scale-90"}`,children:p.has(Y.id)&&o.jsx(ie,{name:"check",size:10,className:"text-white"})})]},Y.id)),k.length===0&&o.jsxs("div",{className:"py-32 flex flex-col items-center justify-center text-center gap-4 bg-white/50 dark:bg-white/5 rounded-[40px] border border-dashed border-gray-200 dark:border-white/10",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-4xl opacity-50",children:""}),o.jsx("p",{className:"text-lg font-black text-gray-400 uppercase tracking-widest",children:""})]})]}),c&&o.jsx(Fp,{open:!0,title:c.title,description:c.description,confirmText:c.confirmText,cancelText:c.cancelText,tone:c.tone,onConfirm:c.onConfirm,onCancel:E})]})}function wj({profiles:i,tasks:n,rewards:r,taskFilter:l,rewardFilter:c,onTaskFilterChange:d,onRewardFilterChange:f,onEdit:m,onDelete:g,onSync:p,onPrint:y,onProfileNameChange:b,onUpdateProfileAvatar:j,onAddProfile:w,onDeleteProfile:E,onAdjustBalance:k,isSyncing:S,currentSyncId:F,currentProfileId:q,onSendSystemNotification:R,onApproveWishlist:re,onRejectWishlist:ce}){var le,xe;const{showToast:Y}=_r(),Z=i.find(T=>T.id===q),[O,W]=_.useState(null),X=()=>W(null),[oe,de]=_.useState("members"),[me,ue]=_.useState(""),[we,z]=_.useState(!1),[J,ee]=_.useState(null),[ge,Se]=_.useState(new Set),[C,I]=_.useState(new Set),[se,he]=_.useState(new Set),[Ne,Ce]=_.useState(new Set),[Re,ut]=_.useState(!1),[Xe,Aa]=_.useState(!1),[Je,De]=_.useState(null),[zt,Gt]=_.useState(""),[Oa,qa]=_.useState("child"),[ga,Ha]=_.useState(""),[pn,Et]=_.useState(null),[Da,pa]=_.useState(!1),[Tt,Be]=_.useState(null),[kr,xn]=_.useState(0),[Qn,xa]=_.useState(""),[tt,$e]=_.useState("earn"),[dt,Va]=_.useState(null),[Ct,We]=_.useState(!1),[At,wt]=_.useState(null),[Ga,Pa]=_.useState(null),[yn,Ra]=_.useState(!1);_.useEffect(()=>{Se(T=>new Set([...T].filter(ae=>n.some(G=>G.id===ae))))},[n]),_.useEffect(()=>{I(T=>new Set([...T].filter(ae=>r.some(G=>G.id===ae))))},[r]),_.useEffect(()=>{he(T=>new Set([...T].filter(ae=>i.some(G=>G.id===ae))))},[i]);const ta=_.useMemo(()=>i.filter(T=>T.role==="admin").length,[i]),ya=_.useMemo(()=>({members:i.length,admins:ta,tasks:n.length,rewards:r.length}),[i.length,ta,n.length,r.length]),ba=T=>{Se(ae=>{const G=new Set(ae);return G.has(T)?G.delete(T):G.add(T),G})},bn=T=>{I(ae=>{const G=new Set(ae);return G.has(T)?G.delete(T):G.add(T),G})},Fa=async(T,ae)=>{const G=i.find(ve=>ve.id===T);if(!(!G||G.role===ae)){if(G.role==="admin"&&ae!=="admin"&&ta<=1){Y({type:"error",title:""});return}if(!F){Y({type:"error",title:" Sync ID"});return}Ce(ve=>new Set(ve).add(T));try{const{error:ve}=await pe.from("profiles").update({role:ae}).eq("id",T).eq("family_id",F);if(ve)throw ve;if(await p(),G&&R){const qe=ae==="admin"?"":"";await R(`${(Z==null?void 0:Z.name)||""}  ${G.name} ${qe}`)}Y({type:"success",title:""})}catch(ve){Y({type:"error",title:"",description:(ve==null?void 0:ve.message)||""})}finally{Ce(ve=>{const qe=new Set(ve);return qe.delete(T),qe})}}},_s=()=>{if(!ge.size)return;const T=Array.from(ge);W({title:` ${T.length} `,description:"",confirmText:"",tone:"danger",onConfirm:()=>{ut(!0),T.forEach(ae=>{const G=n.find(ve=>ve.id===ae);G&&g("task",G)}),Se(new Set),ut(!1),Y({type:"success",title:""}),X()}})},Xn=()=>{if(!C.size)return;const T=Array.from(C);W({title:` ${T.length} `,description:"",confirmText:"",tone:"danger",onConfirm:()=>{Aa(!0),T.forEach(ae=>{const G=r.find(ve=>ve.id===ae);G&&g("reward",G)}),I(new Set),Aa(!1),Y({type:"success",title:""}),X()}})},vn=()=>{De({mode:"create"}),Gt(""),qa("child"),Ha(""),Et(null)},Ya=T=>{De({mode:"edit",profile:T}),Gt(T.name),qa(T.role),Ha(""),Et(null)},wn=()=>De(null),Sr=async()=>{Et(null);const T=zt.trim();if(!T){Et("");return}if(T.length>20){Et(" 20 ");return}if(i.some(G=>{var ve;return G.name.trim().toLowerCase()===T.toLowerCase()&&G.id!==((ve=Je==null?void 0:Je.profile)==null?void 0:ve.id)})){Et("");return}pa(!0);try{(Je==null?void 0:Je.mode)==="create"?await w(T,Oa,ga===""?void 0:Number(ga)):(Je==null?void 0:Je.mode)==="edit"&&Je.profile&&(T!==Je.profile.name&&await b(Je.profile.id,T),Oa!==Je.profile.role&&await Fa(Je.profile.id,Oa)),wn()}catch(G){Et((G==null?void 0:G.message)||"")}finally{pa(!1)}},Ia=T=>{Be(T),xn(0),xa(""),$e("earn"),Va(null)},jn=()=>{Be(null),xn(0),xa(""),$e("earn"),Va(null),We(!1)},Rt=T=>{wt(T),Pa(T.avatarUrl||null)},va=()=>{wt(null),Pa(null),Ra(!1)},B=T=>{var ve;const ae=(ve=T.target.files)==null?void 0:ve[0];if(!ae)return;const G=new FileReader;G.onloadend=()=>{Pa(G.result)},G.readAsDataURL(ae)},$=async()=>{if(At){Ra(!0);try{await j(At.id,Ga),Y({type:"success",title:""}),va()}catch(T){Y({type:"error",title:"",description:(T==null?void 0:T.message)||""}),Ra(!1)}}},V=async()=>{if(!Tt)return;Va(null);const T=Math.abs(Number(kr));if(!T){Va(" 0 ");return}const ae=Qn.trim()||(tt==="earn"?"":"");try{We(!0),await k(Tt.id,{title:ae,points:T,type:tt}),Y({type:"success",title:"",description:`${Tt.name}: ${tt==="earn"?"+":"-"}${T}`}),jn()}catch(G){Va((G==null?void 0:G.message)||""),We(!1)}},te=async()=>{const T=me.trim();if(T){z(!0),ee(null);try{const ae=`${window.location.origin}/${F||""}/dashboard`,{error:G}=await pe.auth.resetPasswordForEmail(T,{redirectTo:ae});if(G)throw G;ee("")}catch(ae){ee(`${(ae==null?void 0:ae.message)||""}`)}finally{z(!1)}}},ne=[{id:"members",label:"",icon:""},{id:"tasks",label:"",icon:""},{id:"rewards",label:"",icon:""},{id:"sync",label:" / ",icon:""}];return o.jsxs("div",{className:"space-y-8 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-[32px] sm:rounded-[40px] bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.1)] p-8 lg:p-10 mobile-card",children:[o.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-64 h-64 bg-gradient-to-br from-[#7C4DFF]/10 to-[#FF4D94]/10 blur-[60px] rounded-full"}),o.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FF4D94]/10 text-[#FF4D94] text-[10px] font-black uppercase tracking-[0.2em] mb-4",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF4D94] animate-pulse"}),""]}),o.jsx("h3",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-white leading-tight tracking-tight mb-2",children:""}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium max-w-lg tracking-wide",children:""})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("button",{onClick:p,disabled:S,className:`flex-1 sm:flex-none px-8 py-4 rounded-[20px] text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-3 ${S?"bg-gray-100 dark:bg-white/5 text-gray-400 dark:text-white/40 cursor-not-allowed":"bg-gray-50 dark:bg-white/10 hover:bg-gray-100 dark:hover:bg-white/20 text-gray-700 dark:text-white border border-gray-200 dark:border-white/10"}`,children:[S&&o.jsx("span",{className:"w-3 h-3 border-2 border-[#FF4D94] border-t-transparent rounded-full animate-spin"}),""]}),o.jsx("button",{onClick:y,className:"flex-1 sm:flex-none px-8 py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-xs font-black uppercase tracking-widest shadow-[0_20px_40px_-12px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-95 transition-all",children:""})]})]}),o.jsx(js,{tabs:ne,activeId:oe,onChange:de,className:"mt-10"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"",val:ya.members,color:"text-gray-900 dark:text-white",sub:""},{label:"",val:ya.admins,color:"text-indigo-500",sub:""},{label:"",val:ya.tasks,color:"text-[#FF4D94]",sub:""},{label:"",val:ya.rewards,color:"text-emerald-500",sub:""}].map((T,ae)=>o.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:T.label}),o.jsx("p",{className:`text-3xl font-black points-font ${T.color}`,children:T.val}),o.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter opacity-60 mt-1",children:[T.sub," "]})]},ae))}),oe==="members"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:""})]}),o.jsxs("button",{onClick:vn,className:"px-8 py-4 bg-[#1A1A1A] dark:bg-white text-white dark:text-gray-900 rounded-[20px] text-xs font-black uppercase tracking-widest hover:bg-[#FF4D94] dark:hover:bg-[#FF4D94] hover:text-white transition-all shadow-lg flex items-center justify-center gap-2",children:[o.jsx(ie,{name:"plus",size:14}),""]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.map(T=>{const ae=T.role==="admin"&&ta<=1,G=Ne.has(T.id);return o.jsxs("div",{className:"group bg-white dark:bg-[#0F172A] rounded-[40px] p-8 border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-xl transition-all duration-500 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 dark:bg-white/5 rounded-bl-[80px] -z-0"}),o.jsxs("div",{className:"relative z-10 flex items-start gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`w-20 h-20 rounded-[28px] overflow-hidden shadow-2xl flex items-center justify-center text-3xl font-black text-white ${T.avatarColor} transition-transform group-hover:rotate-6 duration-500`,children:T.avatarUrl?o.jsx("img",{src:T.avatarUrl,className:"w-full h-full object-cover"}):T.name.slice(-1)}),o.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-2xl flex items-center justify-center border-4 border-white dark:border-[#0F172A] shadow-lg ${T.role==="admin"?"bg-indigo-500 text-white":"bg-gray-400 text-white"}`,children:o.jsx(ie,{name:T.role==="admin"?"settings":"plus",size:12})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white truncate",children:T.name}),o.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${T.role==="admin"?"bg-indigo-50 text-indigo-600":"bg-gray-50 text-gray-500"}`,children:T.role})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest mb-6",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),o.jsxs("span",{children:[T.balance," PTS"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),o.jsxs("span",{children:["ID: ",T.id.slice(0,8)]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("button",{onClick:()=>Rt(T),className:"py-3 px-3 rounded-2xl bg-gray-50 dark:bg-white/5 text-[10px] font-black uppercase tracking-widest text-gray-600 dark:text-gray-400 hover:bg-gray-100 transition-colors flex items-center justify-center gap-1.5",children:[o.jsx(ie,{name:"reward",size:11}),""]}),o.jsx("button",{onClick:()=>Ya(T),className:"py-3 px-4 rounded-2xl bg-gray-50 dark:bg-white/5 text-[10px] font-black uppercase tracking-widest text-gray-600 dark:text-gray-400 hover:bg-gray-100 transition-colors",children:""}),o.jsx("button",{onClick:()=>Ia(T),className:"py-3 px-4 rounded-2xl bg-[#FF4D94]/10 text-[10px] font-black uppercase tracking-widest text-[#FF4D94] hover:bg-[#FF4D94] hover:text-white transition-all",children:""})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-50 dark:border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:""}),o.jsxs("select",{value:T.role,onChange:ve=>Fa(T.id,ve.target.value),disabled:ae||G,className:"bg-transparent text-xs font-black text-[#7C4DFF] focus:outline-none cursor-pointer hover:underline",children:[o.jsx("option",{value:"admin",children:""}),o.jsx("option",{value:"child",children:""})]})]}),!ae&&o.jsx("button",{onClick:()=>{W({title:` ${T.name}`,description:"",confirmText:"",tone:"danger",onConfirm:()=>{E(T.id),Y({type:"success",title:""}),X()}})},className:"text-gray-300 hover:text-rose-500 transition-colors",children:o.jsx(ie,{name:"trash",size:16})})]})]},T.id)})})]}),oe==="tasks"&&o.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-[32px] shadow-[0_18px_50px_-30px_rgba(15,23,42,0.35)] border border-gray-100 dark:border-white/5 flex flex-col lg:h-[650px] mobile-card",children:[o.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 font-display uppercase tracking-[0.2em]",children:""}),o.jsx("p",{className:"text-xs text-gray-400",children:" + "})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>m({type:"task",item:{category:"learning",title:"",description:"",points:1,frequency:""}}),className:"px-5 py-2.5 min-h-[44px] bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-xl text-[12px] font-bold flex items-center gap-2 hover:brightness-110 active:scale-95 transition-all shadow-md shadow-[#FF4D94]/30",children:[o.jsx(ie,{name:"plus",size:13})," "]}),o.jsx("button",{disabled:!ge.size||Re,onClick:_s,className:`px-5 py-2.5 min-h-[44px] rounded-xl text-[12px] font-bold flex items-center gap-2 border transition-all ${!ge.size||Re?"bg-gray-100 text-gray-400 border-gray-100 cursor-not-allowed":"bg-rose-50 text-rose-600 border-rose-100 hover:bg-rose-100"}`,children:Re?"...":` (${ge.size})`}),o.jsx("button",{onClick:()=>Se(new Set),className:"px-5 py-2.5 min-h-[44px] rounded-xl text-[12px] font-bold bg-white border border-gray-200 text-gray-600 hover:border-[#FF4D94]/50 hover:text-[#FF4D94] transition-all",children:""})]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:["all","learning","chores","discipline","penalty"].map(T=>o.jsx("button",{onClick:()=>d(T),className:`px-5 py-2.5 rounded-full text-[12px] font-bold whitespace-nowrap transition-all border min-h-[44px] ${l===T?"bg-[#FF4D94] text-white border-[#FF4D94] shadow-md shadow-[#FF4D94]/30":"bg-white border-gray-200 text-gray-500 hover:border-[#FF4D94]/50 hover:text-[#FF4D94]"}`,children:T==="all"?"":T==="learning"?"":T==="chores"?"":T==="discipline"?"":""},T))})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 no-scrollbar border-t border-gray-50 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between text-[12px] text-gray-500 mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:ge.size>0&&ge.size===n.length,onChange:()=>Se(ge.size===n.length?new Set:new Set(n.map(T=>T.id))),className:"w-5 h-5 rounded border-gray-300 text-[#FF4D94] focus:ring-[#FF4D94]"}),o.jsxs("span",{children:[" (",ge.size,"/",n.length,")"]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:n.map(T=>o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-2xl group border bg-white border-gray-100 hover:border-[#FF4D94]/30 hover:shadow-[0_10px_30px_-24px_rgba(15,23,42,0.45)] transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:ge.has(T.id),onChange:()=>ba(T.id),className:"w-5 h-5 rounded border-gray-300 text-[#FF4D94] focus:ring-[#FF4D94]"}),o.jsx("span",{className:"text-[10px] font-bold px-2.5 py-1 rounded-full bg-[#F1F5F9] text-gray-600 shrink-0 uppercase tracking-wide",children:T.category[0]}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("span",{className:"text-sm font-bold text-gray-800 block truncate group-hover:text-[#FF4D94]",children:T.title}),o.jsx("span",{className:"text-[11px] text-gray-400 truncate block",children:T.description||""})]})]}),o.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-3",children:[o.jsx("span",{className:"text-sm font-black text-[#FF4D94] points-font bg-[#FFF2F7] px-3 py-1 rounded-xl",children:T.points}),o.jsxs("div",{className:"flex gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all",children:[o.jsx("button",{onClick:()=>m({type:"task",item:T}),className:"p-2.5 text-gray-300 hover:text-[#FF4D94] hover:bg-pink-50 rounded-lg transition-all",children:o.jsx(ie,{name:"settings",size:17})}),o.jsx("button",{onClick:()=>W({title:` ${T.title||""}`,description:"",confirmText:"",tone:"danger",onConfirm:()=>{g("task",T),Y({type:"success",title:"",description:T.title||void 0}),X()}}),className:"p-2.5 text-gray-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:o.jsx(ie,{name:"trash",size:17})})]})]})]},T.id))})]})]}),oe==="rewards"&&o.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-[32px] shadow-[0_18px_50px_-30px_rgba(15,23,42,0.35)] border border-gray-100 dark:border-white/5 flex flex-col lg:h-[650px] mobile-card",children:[o.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 font-display uppercase tracking-[0.2em]",children:""}),o.jsx("p",{className:"text-xs text-gray-400",children:" / "})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>m({type:"reward",item:{title:"",points:5,type:""}}),className:"px-5 py-2.5 min-h-[44px] bg-gradient-to-r from-[#111827] to-[#0F172A] text-white rounded-xl text-[12px] font-bold flex items-center gap-2 hover:brightness-110 active:scale-95 transition-all shadow-md shadow-[#0F172A]/20",children:[o.jsx(ie,{name:"plus",size:13})," "]}),o.jsx("button",{disabled:!C.size||Xe,onClick:Xn,className:`px-5 py-2.5 min-h-[44px] rounded-xl text-[12px] font-bold flex items-center gap-2 border transition-all ${!C.size||Xe?"bg-gray-100 text-gray-400 border-gray-100 cursor-not-allowed":"bg-rose-50 text-rose-600 border-rose-100 hover:bg-rose-100"}`,children:Xe?"...":` (${C.size})`}),o.jsx("button",{onClick:()=>I(new Set),className:"px-5 py-2.5 min-h-[44px] rounded-xl text-[12px] font-bold bg-white border border-gray-200 text-gray-600 hover:border-[#FF4D94]/50 hover:text-[#FF4D94] transition-all",children:""})]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:["all","",""].map(T=>o.jsx("button",{onClick:()=>f(T),className:`px-5 py-2.5 rounded-full text-[12px] font-bold transition-all border min-h-[44px] ${c===T?"bg-[#FF4D94] text-white border-[#FF4D94] shadow-md shadow-[#FF4D94]/30":"bg-white border-gray-200 text-gray-500 hover:border-[#FF4D94]/50 hover:text-[#FF4D94]"}`,children:T==="all"?"":T},T))})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 no-scrollbar border-t border-gray-50 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between text-[12px] text-gray-500 mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:C.size>0&&C.size===r.length,onChange:()=>I(C.size===r.length?new Set:new Set(r.map(T=>T.id))),className:"w-5 h-5 rounded border-gray-300 text-[#FF4D94] focus:ring-[#FF4D94]"}),o.jsxs("span",{children:[" (",C.size,"/",r.length,")"]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:r.map(T=>{var ae;return o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-2xl group border bg-white border-gray-100 hover:border-[#FF4D94]/30 hover:shadow-[0_10px_30px_-24px_rgba(15,23,42,0.45)] transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:C.has(T.id),onChange:()=>bn(T.id),className:"w-5 h-5 rounded border-gray-300 text-[#FF4D94] focus:ring-[#FF4D94]"}),o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 overflow-hidden ${T.type===""?"bg-amber-50 text-amber-500":"bg-indigo-50 text-indigo-500"}`,children:o.jsx("img",{src:T.imageUrl||`https://ui-avatars.com/api/?background=FF4D94&color=fff&name=${encodeURIComponent(T.title)}`,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"overflow-hidden flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[o.jsx("span",{className:"text-sm font-bold text-gray-800 truncate group-hover:text-[#FF4D94]",children:T.title}),T.status==="pending"&&o.jsx("span",{className:"text-[9px] px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 font-bold uppercase",children:""}),T.status==="rejected"&&o.jsx("span",{className:"text-[9px] px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 font-bold uppercase",children:""}),T.requestedBy&&i.find(G=>G.id===T.requestedBy)&&o.jsxs("span",{className:"text-[9px] px-2 py-0.5 rounded-full bg-pink-100 text-pink-700 font-bold",children:[" ",(ae=i.find(G=>G.id===T.requestedBy))==null?void 0:ae.name,""]})]}),o.jsx("span",{className:"text-[11px] text-gray-400 block tracking-wider uppercase",children:T.type})]})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-3",children:[o.jsx("span",{className:"text-sm font-black text-[#FF4D94] points-font bg-[#FFF2F7] px-3 py-1 rounded-xl",children:T.points}),T.status==="pending"&&re&&ce&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>re(T.id),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"",children:o.jsx(ie,{name:"plus",size:16})}),o.jsx("button",{onClick:()=>ce(T.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"",children:o.jsx(ie,{name:"plus",size:16,className:"rotate-45"})})]}),o.jsxs("div",{className:"flex gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all",children:[o.jsx("button",{onClick:()=>m({type:"reward",item:T}),className:"p-2.5 text-gray-300 hover:text-[#FF4D94] hover:bg-pink-50 rounded-lg",children:o.jsx(ie,{name:"settings",size:17})}),o.jsx("button",{onClick:()=>W({title:` ${T.title||""}`,description:"",confirmText:"",tone:"danger",onConfirm:()=>{g("reward",T),Y({type:"success",title:"",description:T.title||void 0}),X()}}),className:"p-2.5 text-gray-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg",children:o.jsx(ie,{name:"trash",size:17})})]})]})]},T.id)})})]})]}),oe==="sync"&&o.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-[32px] shadow-[0_18px_50px_-30px_rgba(15,23,42,0.35)] border border-gray-100 dark:border-white/5 space-y-4 mobile-card",children:[o.jsx("div",{className:"flex items-center justify-between gap-4",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:""}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 font-display",children:" / "}),o.jsxs("p",{className:"text-xs text-gray-500",children:[" SYNC ID: ",F||""]})]})}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 list-disc list-inside bg-[#F8FAFC] rounded-2xl p-4 border border-gray-100",children:[o.jsx("li",{children:" Supabase  families / profiles / tasks / rewards / transactions "}),o.jsx("li",{children:" Supabase "}),o.jsx("li",{children:""})]}),o.jsxs("div",{className:"p-4 rounded-2xl bg-[#F8FAFC] border border-gray-100 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-800",children:[o.jsx(ie,{name:"info",size:16}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[o.jsx("input",{value:me,onChange:T=>ue(T.target.value),className:"flex-1 px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm font-semibold focus:ring-2 focus:ring-[#FF4D94] outline-none",placeholder:"",type:"email"}),o.jsx("button",{disabled:!me.trim()||we,onClick:te,className:`px-5 py-3 rounded-xl text-[11px] font-bold transition-all ${!me.trim()||we?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#111827] to-[#0F172A] text-white shadow-md shadow-[#0F172A]/20 hover:brightness-110 active:scale-95"}`,children:we?"...":""})]}),J&&o.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:J}),o.jsx("p",{className:"text-[11px] text-gray-400 leading-relaxed",children:"Supabase  redirectTo"})]})]}),Je&&o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:wn}),o.jsxs("div",{className:"modal-content animate-zoom-in no-scrollbar max-w-lg !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex justify-between items-start px-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.4em] mb-1",children:"Account Portal"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:Je.mode==="create"?"":((le=Je.profile)==null?void 0:le.name)||""})]}),o.jsx("button",{onClick:wn,className:"text-gray-300 dark:text-gray-600 hover:text-[#FF4D94] transition-all p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-white/5",children:o.jsx(ie,{name:"plus",size:24,className:"rotate-45"})})]}),pn&&o.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 dark:bg-rose-500/10 border border-rose-100 dark:border-rose-500/20 text-rose-600 dark:text-rose-400 text-xs font-black animate-in slide-in-from-top-2",children:[" ",pn]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Full Name"}),o.jsx("input",{value:zt,onChange:T=>Gt(T.target.value),className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"",maxLength:32})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Role"}),o.jsxs("select",{value:Oa,onChange:T=>qa(T.target.value),className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner appearance-none cursor-pointer",disabled:Je.mode==="edit"&&((xe=Je.profile)==null?void 0:xe.role)==="admin"&&ta<=1,children:[o.jsx("option",{value:"child",children:" (Member)"}),o.jsx("option",{value:"admin",children:" (Master)"})]})]}),Je.mode==="create"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Initial"}),o.jsx("input",{type:"number",value:ga===""?"":ga,onChange:T=>Ha(T.target.value===""?"":Number(T.target.value)),className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"0"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:wn,className:"w-full sm:flex-1 py-4 rounded-[20px] text-[11px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 transition-all",children:""}),o.jsxs("button",{onClick:Sr,disabled:Da,className:`w-full sm:flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${Da?"opacity-80":""}`,children:[Da?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),Da?"...":""]})]})]})]}),Tt&&o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:jn}),o.jsxs("div",{className:"modal-content animate-zoom-in no-scrollbar max-w-[440px] !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-[11px] font-black text-[#7C4DFF] uppercase tracking-[0.4em] mb-1",children:""}),o.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:Tt.name}),o.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:""})]}),dt&&o.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 dark:bg-rose-500/10 border border-rose-100 dark:border-rose-500/20 text-rose-600 dark:text-rose-400 text-xs font-black animate-in slide-in-from-top-2",children:[" ",dt]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"number",value:kr||"",onChange:T=>xn(Number(T.target.value)||0),className:"w-full px-8 py-6 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[32px] font-black text-4xl points-font text-center outline-none focus:ring-2 focus:ring-[#7C4DFF] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"0"}),o.jsx("span",{className:"absolute right-10 top-1/2 -translate-y-1/2 text-xs font-black text-gray-300 uppercase tracking-widest pointer-events-none",children:"Pts"})]}),o.jsxs("div",{className:"flex p-1.5 bg-gray-100 dark:bg-white/5 rounded-[24px] text-[11px] font-black uppercase tracking-widest",children:[o.jsxs("button",{onClick:()=>$e("earn"),className:`flex-1 py-4 rounded-[20px] transition-all duration-300 flex items-center justify-center gap-2 ${tt==="earn"?"bg-white dark:bg-white/10 shadow-sm text-emerald-500":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[o.jsx(ie,{name:"plus",size:14})," (Plus)"]}),o.jsxs("button",{onClick:()=>$e("penalty"),className:`flex-1 py-4 rounded-[20px] transition-all duration-300 flex items-center justify-center gap-2 ${tt==="penalty"?"bg-white dark:bg-white/10 shadow-sm text-rose-500":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[o.jsx(ie,{name:"plus",size:14,className:"rotate-45"})," (Minus)"]})]}),o.jsxs("div",{className:"space-y-2 text-left",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Reason"}),o.jsx("input",{value:Qn,onChange:T=>xa(T.target.value),className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#7C4DFF] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:" / "})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[o.jsx("button",{onClick:jn,className:"flex-1 py-4 text-[11px] font-black uppercase tracking-[0.2em] text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 rounded-[20px] transition-all",children:""}),o.jsxs("button",{onClick:V,disabled:Ct,className:`flex-[1.5] py-4 bg-gradient-to-r from-[#7C4DFF] to-[#9E7AFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(124,77,255,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${Ct?"opacity-80":""}`,children:[Ct?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),Ct?"...":""]})]}),o.jsxs("p",{className:"text-[10px] font-bold text-gray-300 dark:text-gray-600 uppercase tracking-widest",children:["",Tt.balance," PTS"]})]})]}),At&&o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:va}),o.jsxs("div",{className:"modal-content animate-zoom-in no-scrollbar max-w-[400px] !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.4em]",children:"Avatar"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:At.name})]}),o.jsx("button",{onClick:va,className:"text-gray-300 dark:text-gray-600 hover:text-[#FF4D94] transition-all p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-white/5",children:o.jsx(ie,{name:"plus",size:24,className:"rotate-45"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:`w-32 h-32 rounded-[36px] overflow-hidden shadow-2xl flex items-center justify-center text-5xl font-black text-white ${Ga?"":"bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800"} transition-transform duration-500`,children:Ga?o.jsx("img",{src:Ga,className:"w-full h-full object-cover"}):At.name.slice(-1)})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("label",{className:"flex-1 px-6 py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] rounded-2xl text-[10px] font-black uppercase tracking-widest text-center cursor-pointer hover:scale-[1.02] transition-all flex items-center justify-center gap-2",children:[o.jsx(ie,{name:"plus",size:14}),"",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:B})]}),Ga&&o.jsx("button",{onClick:()=>Pa(null),className:"px-6 py-4 rounded-2xl bg-rose-50 dark:bg-rose-500/10 text-rose-500 text-[10px] font-black uppercase tracking-widest hover:bg-rose-100 transition-all",children:""})]}),o.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest text-center",children:""})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:va,className:"flex-1 py-4 rounded-[20px] bg-gray-100 dark:bg-white/5 text-[11px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 hover:bg-gray-200 transition-all font-black",children:""}),o.jsxs("button",{onClick:$,disabled:yn,className:`flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-widest shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${yn?"opacity-80":""}`,children:[yn?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),""]})]})]})]}),O&&o.jsx(Fp,{open:!0,title:O.title,description:O.description,confirmText:O.confirmText,cancelText:O.cancelText,tone:O.tone,onConfirm:O.onConfirm,onCancel:X})]})}function jj({open:i,profiles:n,currentProfileId:r,onSelect:l,onClose:c}){return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:c}),o.jsxs("div",{className:"modal-content no-scrollbar max-w-[400px]",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-[0.4em] mb-1",children:"Account System"}),o.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:""})]}),o.jsx("div",{className:"space-y-2",children:n.map(d=>o.jsxs("button",{onClick:()=>{l(d.id),c()},className:`w-full flex items-center gap-4 p-3 rounded-[28px] transition-all duration-300 group ${r===d.id?"bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white shadow-[0_12px_24px_-8px_rgba(255,77,148,0.5)]":"hover:bg-gray-50 dark:hover:bg-white/5 border border-transparent"}`,children:[o.jsxs("div",{className:"relative shrink-0",children:[o.jsx("div",{className:`w-12 h-12 rounded-[18px] overflow-hidden flex items-center justify-center bg-gray-100 dark:bg-gray-800 border-2 ${r===d.id?"border-white/40":"border-transparent group-hover:border-[#FF4D94]/30"} transition-all duration-300 shadow-md`,children:d.avatarUrl?o.jsx("img",{src:d.avatarUrl,className:"w-full h-full object-cover"}):o.jsx("div",{className:`w-full h-full flex items-center justify-center font-black text-white text-base ${d.avatarColor}`,children:d.name.slice(-1)})}),r===d.id&&o.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white dark:border-gray-900 rounded-full flex items-center justify-center animate-in zoom-in duration-500 delay-200",children:o.jsx(ie,{name:"check",size:8,className:"text-white"})})]}),o.jsxs("div",{className:"text-left overflow-hidden flex-1",children:[o.jsx("p",{className:`text-sm font-black truncate ${r===d.id?"text-white":"text-gray-900 dark:text-white"}`,children:d.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-full ${r===d.id?"bg-white/20 text-white":"bg-gray-100 dark:bg-white/5 text-gray-400"}`,children:d.role==="admin"?"Master":"Member"}),o.jsxs("span",{className:`text-[8px] font-black points-font ${r===d.id?"text-white/80":"text-[#FF4D94]"}`,children:[d.balance," PTS"]})]})]})]},d.id))}),o.jsx("button",{onClick:c,className:"w-full py-4 bg-gray-50 dark:bg-white/5 rounded-[20px] text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-[#FF4D94] transition-all",children:""})]})]}):null}function _j({editingItem:i,onClose:n,onSave:r,onUpdate:l,fileInputRef:c,onImageChange:d,saving:f=!1}){if(!i)return null;const{type:m,item:g}=i,p=y=>l({...i,item:{...g,...y}});return o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:n}),o.jsxs("div",{className:"modal-content no-scrollbar",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex justify-between items-start px-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.4em] mb-1",children:"Configuration"}),o.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:m==="reward"?"":g.id?"":""})]}),o.jsx("button",{onClick:n,className:"text-gray-300 dark:text-gray-600 hover:text-[#FF4D94] transition-all p-3 rounded-2xl hover:bg-gray-100 dark:hover:bg-white/5 group",children:o.jsx(ie,{name:"plus",size:32,className:"rotate-45 group-hover:rotate-[135deg] transition-transform duration-500"})})]}),o.jsxs("form",{onSubmit:y=>{y.preventDefault(),!f&&r(m,g)},className:"space-y-6",children:[m==="reward"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Cover Image"}),o.jsx("div",{onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},className:"group relative w-full h-40 bg-gray-50 dark:bg-white/5 rounded-[28px] border-2 border-dashed border-gray-200 dark:border-white/10 flex flex-col items-center justify-center cursor-pointer hover:border-[#FF4D94]/30 transition-all duration-500 overflow-hidden shadow-inner",children:g.imageUrl?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:g.imageUrl,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("div",{className:"px-5 py-2 bg-white/20 backdrop-blur-md rounded-full border border-white/30 text-white text-[9px] font-black uppercase tracking-widest",children:""})})]}):o.jsxs("div",{className:"flex flex-col items-center gap-3 text-gray-300 dark:text-gray-600 group-hover:text-[#FF4D94] transition-colors",children:[o.jsx("div",{className:"w-12 h-12 rounded-[20px] bg-white dark:bg-white/5 flex items-center justify-center shadow-sm border border-gray-100 dark:border-white/10",children:o.jsx(ie,{name:"reward",size:24})}),o.jsx("span",{className:"text-xs font-black text-gray-400 group-hover:text-[#FF4D94]",children:""})]})}),o.jsx("input",{type:"file",ref:c,onChange:d,accept:"image/*",className:"hidden"})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Title"}),o.jsx("input",{required:!0,value:g.title||"",onChange:y=>p({title:y.target.value}),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Pts"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"number",required:!0,value:g.points||0,onChange:y=>p({points:parseInt(y.target.value)||0}),className:"w-full px-8 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-lg points-font outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner"}),o.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-[10px] font-black text-gray-300 uppercase pointer-events-none",children:"Pts"})]})]}),m==="task"?o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Cycle"}),o.jsx("select",{value:g.frequency||"",onChange:y=>p({frequency:y.target.value}),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] appearance-none cursor-pointer shadow-inner",children:["","","",""].map(y=>o.jsx("option",{value:y,className:"bg-white dark:bg-gray-800 font-bold",children:y},y))})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Type"}),o.jsxs("select",{value:g.type||"",onChange:y=>p({type:y.target.value}),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] appearance-none cursor-pointer shadow-inner",children:[o.jsx("option",{className:"bg-white dark:bg-gray-800 font-bold",children:""}),o.jsx("option",{className:"bg-white dark:bg-gray-800 font-bold",children:""})]})]})]}),m==="task"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Category"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"learning",label:"",icon:""},{id:"chores",label:"",icon:""},{id:"discipline",label:"",icon:""},{id:"penalty",label:"",icon:""}].map(y=>o.jsxs("button",{type:"button",onClick:()=>p({category:y.id}),className:`py-3 rounded-[20px] border transition-all flex flex-col items-center gap-1 ${g.category===y.id?"border-[#FF4D94] bg-[#FF4D94]/5 shadow-[0_4px_12px_-4px_rgba(255,77,148,0.2)]":"border-transparent bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[o.jsx("span",{className:"text-xl",children:y.icon}),o.jsx("span",{className:`text-[9px] font-black tracking-tighter ${g.category===y.id?"text-[#FF4D94]":"text-gray-400"}`,children:y.label})]},y.id))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Description"}),o.jsx("textarea",{value:g.description||"",onChange:y=>p({description:y.target.value}),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] text-sm font-medium outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner h-24 resize-none leading-relaxed",placeholder:"..."})]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 rounded-[20px] text-[11px] font-black uppercase tracking-widest hover:bg-gray-200 transition-all",children:""}),o.jsxs("button",{type:"submit",disabled:f,className:`flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all ${f?"opacity-80":""}`,children:[f?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),f?"...":""]})]})]})]})]})}function kj({pendingAction:i,error:n,onCancel:r,onConfirm:l,loading:c=!1}){return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:r}),o.jsxs("div",{className:"modal-content no-scrollbar max-w-md overflow-visible",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:`w-24 h-24 rounded-[32px] flex items-center justify-center shadow-2xl rotate-12 transition-transform hover:rotate-0 duration-500 ${i.points>0?"bg-gradient-to-br from-emerald-400 to-teal-500 text-white":"bg-gradient-to-br from-rose-400 to-pink-600 text-white"}`,children:o.jsx(ie,{name:i.type==="redeem"?"reward":"plus",size:48})})}),o.jsxs("div",{className:"mt-6 space-y-2",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.4em]",children:"Confirmation"}),o.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"?"})]}),o.jsxs("div",{className:"mt-8 p-8 rounded-[40px] bg-gray-50/50 dark:bg-white/5 border border-gray-100 dark:border-white/5 space-y-6 relative overflow-hidden group",children:[o.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${i.points>0?"bg-emerald-400":"bg-rose-400"}`}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:" / Description"}),o.jsxs("p",{className:"text-lg font-black text-gray-900 dark:text-white leading-tight",children:["",i.title,""]})]}),o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-white/10 to-transparent"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:" / Impact"}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("span",{className:`text-5xl font-black points-font tracking-tighter ${i.points>0?"text-transparent bg-clip-text bg-gradient-to-br from-emerald-400 to-teal-600":"text-transparent bg-clip-text bg-gradient-to-br from-rose-400 to-pink-600"}`,children:[i.points>0?"+":"",i.points]}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pt-4",children:"Pts"})]})]})]}),n&&o.jsxs("div",{className:"mt-6 p-4 rounded-2xl bg-rose-50 dark:bg-rose-500/10 border border-rose-100 dark:border-rose-500/20 text-rose-600 dark:text-rose-400 text-xs font-black leading-relaxed animate-in slide-in-from-top-2",children:[" ",n]}),o.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-3",children:[o.jsx("button",{onClick:r,disabled:c,className:`flex-1 py-4 text-[11px] font-black uppercase tracking-[0.2em] text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 rounded-[20px] transition-all ${c?"opacity-0 scale-95 pointer-events-none":""}`,children:""}),o.jsxs("button",{onClick:l,disabled:c,className:`flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${c?"opacity-80":""}`,children:[c?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),c?"...":""]})]})]})]}):null}function Sj(){const i=({title:r,children:l,icon:c})=>o.jsxs("section",{className:"bg-white dark:bg-[#0F172A] rounded-[40px] border border-gray-100 dark:border-white/5 p-8 lg:p-10 space-y-6 shadow-sm group hover:shadow-xl transition-all duration-500",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-white/5 flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-500 shadow-inner",children:c||""}),o.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-[0.4em] mb-1",children:"Documentation"}),r]})]}),o.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 leading-relaxed space-y-4",children:l})]}),n=({children:r})=>o.jsx("span",{className:"px-4 py-1.5 rounded-full bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 text-gray-400 dark:text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:r});return o.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[#1A1A1A] to-[#333] dark:from-[#0F172A] dark:to-[#1E293B] rounded-[48px] p-10 lg:p-14 shadow-2xl relative overflow-hidden border border-white/5",children:[o.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[120%] bg-gradient-to-br from-[#FF4D94]/20 to-[#7C4DFF]/20 blur-[100px] rounded-full animate-pulse"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-[11px] font-black text-[#FF4D94] uppercase tracking-[0.5em] mb-1",children:"Architecture & Guide"}),o.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tighter leading-tight",children:["",o.jsx("br",{}),""]})]}),o.jsx("p",{className:"text-base font-bold text-white/60 max-w-2xl leading-relaxed",children:""}),o.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[o.jsx(n,{children:"React 18"}),o.jsx(n,{children:"Tailwind CSS"}),o.jsx(n,{children:"Supabase Cloud"}),o.jsx(n,{children:"Realtime Sync"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx(i,{title:" / Navigation",icon:"",children:o.jsx("div",{className:"space-y-3",children:[{path:"/dashboard",label:"",desc:""},{path:"/earn",label:"",desc:""},{path:"/redeem",label:"",desc:" or "},{path:"/history",label:"",desc:""},{path:"/settings",label:"",desc:""}].map(r=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-3xl bg-gray-50/50 dark:bg-white/5 border border-transparent hover:border-[#FF4D94]/30 transition-all",children:[o.jsx("code",{className:"bg-white dark:bg-gray-800 px-3 py-1 rounded-xl text-[10px] font-black text-[#FF4D94] shadow-sm",children:r.path}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-gray-800 dark:text-gray-200",children:r.label}),o.jsx("p",{className:"text-xs font-bold text-gray-400 mt-0.5",children:r.desc})]})]},r.path))})}),o.jsx(i,{title:" / Modules",icon:"",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"p-5 rounded-3xl bg-gray-50/50 dark:bg-white/5 border border-transparent hover:border-[#7C4DFF]/30 transition-all group",children:[o.jsxs("h4",{className:"text-sm font-black text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-[#7C4DFF]"}),""]}),o.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-2 leading-relaxed",children:" Supabase "})]}),o.jsxs("div",{className:"p-5 rounded-3xl bg-gray-50/50 dark:bg-white/5 border border-transparent hover:border-emerald-500/30 transition-all group",children:[o.jsxs("h4",{className:"text-sm font-black text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),""]}),o.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-2 leading-relaxed",children:""})]}),o.jsxs("div",{className:"p-5 rounded-3xl bg-gray-50/50 dark:bg-white/5 border border-transparent hover:border-[#FF4D94]/30 transition-all group",children:[o.jsxs("h4",{className:"text-sm font-black text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-[#FF4D94]"}),""]}),o.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-2 leading-relaxed",children:""})]})]})}),o.jsx(i,{title:" / Workflow",icon:"",children:o.jsx("ul",{className:"space-y-4",children:["","","",""].map((r,l)=>o.jsxs("li",{className:"flex gap-4 items-start",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-[10px] font-black text-[#FF4D94]",children:l+1}),o.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 leading-relaxed pt-0.5",children:r})]},l))})}),o.jsx(i,{title:" / Specs",icon:"",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-6 rounded-[32px] bg-[#1A1A1A] text-white space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#FF4D94]",children:"Tech Stack"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF4D94] animate-pulse delay-75"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase",children:"Frontend"}),o.jsx("p",{className:"text-xs font-bold italic",children:"React + TypeScript"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase",children:"Styling"}),o.jsx("p",{className:"text-xs font-bold italic",children:"Tailwind + Radix"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase",children:"Backend"}),o.jsx("p",{className:"text-xs font-bold italic",children:"Supabase BaaS"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase",children:"Storage"}),o.jsx("p",{className:"text-xs font-bold italic",children:"Supabase S3 Bucket"})]})]})]})})})]}),o.jsx("div",{className:"text-center pt-10",children:o.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-[0.5em]",children:"Family Points Bank  2026 Edition"})})]})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var xs;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(xs||(xs={}));class qu extends Error{constructor(n,r,l){super(n),this.message=n,this.code=r,this.data=l}}const Nj=i=>{var n,r;return i!=null&&i.androidBridge?"android":!((r=(n=i==null?void 0:i.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Ej=i=>{const n=i.CapacitorCustomPlatform||null,r=i.Capacitor||{},l=r.Plugins=r.Plugins||{},c=()=>n!==null?n.name:Nj(i),d=()=>c()!=="web",f=b=>{const j=p.get(b);return!!(j!=null&&j.platforms.has(c())||m(b))},m=b=>{var j;return(j=r.PluginHeaders)===null||j===void 0?void 0:j.find(w=>w.name===b)},g=b=>i.console.error(b),p=new Map,y=(b,j={})=>{const w=p.get(b);if(w)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),w.proxy;const E=c(),k=m(b);let S;const F=async()=>(!S&&E in j?S=typeof j[E]=="function"?S=await j[E]():S=j[E]:n!==null&&!S&&"web"in j&&(S=typeof j.web=="function"?S=await j.web():S=j.web),S),q=(O,W)=>{var X,oe;if(k){const de=k==null?void 0:k.methods.find(me=>W===me.name);if(de)return de.rtype==="promise"?me=>r.nativePromise(b,W.toString(),me):(me,ue)=>r.nativeCallback(b,W.toString(),me,ue);if(O)return(X=O[W])===null||X===void 0?void 0:X.bind(O)}else{if(O)return(oe=O[W])===null||oe===void 0?void 0:oe.bind(O);throw new qu(`"${b}" plugin is not implemented on ${E}`,xs.Unimplemented)}},R=O=>{let W;const X=(...oe)=>{const de=F().then(me=>{const ue=q(me,O);if(ue){const we=ue(...oe);return W=we==null?void 0:we.remove,we}else throw new qu(`"${b}.${O}()" is not implemented on ${E}`,xs.Unimplemented)});return O==="addListener"&&(de.remove=async()=>W()),de};return X.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(X,"name",{value:O,writable:!1,configurable:!1}),X},re=R("addListener"),ce=R("removeListener"),Y=(O,W)=>{const X=re({eventName:O},W),oe=async()=>{const me=await X;ce({eventName:O,callbackId:me},W)},de=new Promise(me=>X.then(()=>me({remove:oe})));return de.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await oe()},de},Z=new Proxy({},{get(O,W){switch(W){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?Y:re;case"removeListener":return ce;default:return R(W)}}});return l[b]=Z,p.set(b,{name:b,proxy:Z,platforms:new Set([...Object.keys(j),...k?[E]:[]])}),Z};return r.convertFileSrc||(r.convertFileSrc=b=>b),r.getPlatform=c,r.handleError=g,r.isNativePlatform=d,r.isPluginAvailable=f,r.registerPlugin=y,r.Exception=qu,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Tj=i=>i.Capacitor=Ej(i),id=Tj(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),oo=id.registerPlugin;class Nd{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,r){let l=!1;this.listeners[n]||(this.listeners[n]=[],l=!0),this.listeners[n].push(r);const d=this.windowListeners[n];d&&!d.registered&&this.addWindowListener(d),l&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,r);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,r,l){const c=this.listeners[n];if(!c){if(l){let d=this.retainedEventArguments[n];d||(d=[]),d.push(r),this.retainedEventArguments[n]=d}return}c.forEach(d=>d(r))}hasListeners(n){var r;return!!(!((r=this.listeners[n])===null||r===void 0)&&r.length)}registerWindowListener(n,r){this.windowListeners[r]={registered:!1,windowEventName:n,pluginEventName:r,handler:l=>{this.notifyListeners(r,l)}}}unimplemented(n="not implemented"){return new id.Exception(n,xs.Unimplemented)}unavailable(n="not available"){return new id.Exception(n,xs.Unavailable)}async removeListener(n,r){const l=this.listeners[n];if(!l)return;const c=l.indexOf(r);this.listeners[n].splice(c,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const r=this.retainedEventArguments[n];r&&(delete this.retainedEventArguments[n],r.forEach(l=>{this.notifyListeners(n,l)}))}}const ug=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),dg=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Cj extends Nd{async getCookies(){const n=document.cookie,r={};return n.split(";").forEach(l=>{if(l.length<=0)return;let[c,d]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=dg(c).trim(),d=dg(d).trim(),r[c]=d}),r}async setCookie(n){try{const r=ug(n.key),l=ug(n.value),c=`; expires=${(n.expires||"").replace("expires=","")}`,d=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${r}=${l||""}${c}; path=${d}; ${f};`}catch(r){return Promise.reject(r)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const r of n)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}oo("CapacitorCookies",{web:()=>new Cj});const Aj=async i=>new Promise((n,r)=>{const l=new FileReader;l.onload=()=>{const c=l.result;n(c.indexOf(",")>=0?c.split(",")[1]:c)},l.onerror=c=>r(c),l.readAsDataURL(i)}),Oj=(i={})=>{const n=Object.keys(i);return Object.keys(i).map(c=>c.toLocaleLowerCase()).reduce((c,d,f)=>(c[d]=i[n[f]],c),{})},Dj=(i,n=!0)=>i?Object.entries(i).reduce((l,c)=>{const[d,f]=c;let m,g;return Array.isArray(f)?(g="",f.forEach(p=>{m=n?encodeURIComponent(p):p,g+=`${d}=${m}&`}),g.slice(0,-1)):(m=n?encodeURIComponent(f):f,g=`${d}=${m}`),`${l}&${g}`},"").substr(1):null,Rj=(i,n={})=>{const r=Object.assign({method:i.method||"GET",headers:i.headers},n),c=Oj(i.headers)["content-type"]||"";if(typeof i.data=="string")r.body=i.data;else if(c.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[f,m]of Object.entries(i.data||{}))d.set(f,m);r.body=d.toString()}else if(c.includes("multipart/form-data")||i.data instanceof FormData){const d=new FormData;if(i.data instanceof FormData)i.data.forEach((m,g)=>{d.append(g,m)});else for(const m of Object.keys(i.data))d.append(m,i.data[m]);r.body=d;const f=new Headers(r.headers);f.delete("content-type"),r.headers=f}else(c.includes("application/json")||typeof i.data=="object")&&(r.body=JSON.stringify(i.data));return r};class Fj extends Nd{async request(n){const r=Rj(n,n.webFetchExtra),l=Dj(n.params,n.shouldEncodeUrlParams),c=l?`${n.url}?${l}`:n.url,d=await fetch(c,r),f=d.headers.get("content-type")||"";let{responseType:m="text"}=d.ok?n:{};f.includes("application/json")&&(m="json");let g,p;switch(m){case"arraybuffer":case"blob":p=await d.blob(),g=await Aj(p);break;case"json":g=await d.json();break;case"document":case"text":default:g=await d.text()}const y={};return d.headers.forEach((b,j)=>{y[j]=b}),{data:g,headers:y,status:d.status,url:d.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}oo("CapacitorHttp",{web:()=>new Fj});var hg;(function(i){i.Dark="DARK",i.Light="LIGHT",i.Default="DEFAULT"})(hg||(hg={}));var fg;(function(i){i.StatusBar="StatusBar",i.NavigationBar="NavigationBar"})(fg||(fg={}));class Uj extends Nd{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}oo("SystemBars",{web:()=>new Uj});var mg;(function(i){i[i.Sunday=1]="Sunday",i[i.Monday=2]="Monday",i[i.Tuesday=3]="Tuesday",i[i.Wednesday=4]="Wednesday",i[i.Thursday=5]="Thursday",i[i.Friday=6]="Friday",i[i.Saturday=7]="Saturday"})(mg||(mg={}));const Hu=oo("LocalNotifications",{web:()=>wr(()=>import("./web-cnqCztx5.js"),[]).then(i=>new i.LocalNotificationsWeb)}),Mj=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Vu="[]";function zj({currentProfile:i,familyId:n,profiles:r,isOpen:l,onClose:c,onUnreadChange:d}){const[f,m]=_.useState([]),[g,p]=_.useState(""),[y,b]=_.useState(!1),[j,w]=_.useState(!1),[E,k]=_.useState(0),[S,F]=_.useState(!1),{showToast:q}=_r(),R=_.useRef(null);_.useEffect(()=>{(async()=>{try{if(typeof window<"u"&&!window.Capacitor)return;const{display:oe}=await Hu.requestPermissions();oe==="granted"&&await Hu.createChannel({id:"chat-notifications",name:"",description:"",importance:5,visibility:1,sound:"default",lights:!0,vibration:!0})}catch(oe){console.error("Failed to setup notifications:",oe)}})()},[]);const re=()=>{var X;(X=R.current)==null||X.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{l&&(re(),k(0))},[f,l]),_.useEffect(()=>{d&&d(E)},[E,d]),_.useEffect(()=>{(async()=>{b(!0);try{const{data:de,error:me}=await pe.from("messages").select("*").eq("family_id",n).order("created_at",{ascending:!0}).limit(50);if(me)throw me;m(de||[])}catch(de){console.error("Failed to load messages:",de)}finally{b(!1)}})();const oe=pe.channel(`family:${n}:messages`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`family_id=eq.${n}`},async de=>{const me=de.new;if(m(ue=>[...ue,me]),l||k(ue=>ue+1),me.sender_id!==i.id&&!me.content.startsWith(Vu))try{await Hu.schedule({notifications:[{title:`${me.sender_name} `,body:me.content,id:Date.now(),schedule:{at:new Date},sound:"default",channelId:"chat-notifications"}]})}catch{}}).subscribe();return()=>{pe.removeChannel(oe)}},[n,l,i.id]);const ce=async X=>{X.preventDefault();const oe=g.trim();if(oe)try{const{error:de}=await pe.from("messages").insert({family_id:n,sender_id:i.id,sender_name:i.name,content:oe});if(de)throw de;p("")}catch(de){q({type:"error",title:"",description:(de==null?void 0:de.message)||""})}},Y=X=>{const oe=new Date(X),me=new Date().getTime()-oe.getTime(),ue=Math.floor(me/6e4);return ue<1?"":ue<60?`${ue}`:ue<1440?`${Math.floor(ue/60)}`:oe.toLocaleDateString("zh-CN")},Z=X=>{var oe;return((oe=r.find(de=>de.id===X))==null?void 0:oe.name)||""},O=X=>X===i.id,W=X=>X.startsWith(Vu);return l?o.jsxs("div",{className:`fixed top-0 right-0 z-50 bg-white dark:bg-[#1E293B] shadow-[-4px_0_24px_-8px_rgba(0,0,0,0.2)] border-l border-gray-100 dark:border-white/10 flex flex-col transition-all duration-300 ${j?"w-16 h-screen":"w-80 sm:w-96 h-screen"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/10 shrink-0",children:[!j&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] flex items-center justify-center text-white font-black",children:o.jsx(ie,{name:"bell",size:16})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white",children:""}),o.jsxs("p",{className:"text-[10px] text-gray-400",children:[r.length," "]})]})]}),o.jsxs("div",{className:`flex items-center gap-2 ${j?"flex-col w-full":""}`,children:[o.jsx("button",{onClick:()=>w(!j),className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 flex items-center justify-center text-gray-400",children:o.jsx(ie,{name:j?"plus":"history",size:14})}),o.jsx("button",{onClick:c,className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 flex items-center justify-center text-gray-400 hover:text-rose-500",children:o.jsx(ie,{name:"plus",size:14,className:"rotate-45"})})]})]}),!j&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 no-scrollbar",children:[y?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"..."}):f.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:""}):f.map(X=>{if(W(X.content)){const oe=X.content.replace(Vu,"").trim();return o.jsx("div",{className:"flex justify-center my-2",children:o.jsx("div",{className:"px-4 py-1.5 bg-gray-100 dark:bg-white/5 rounded-full text-[10px] font-bold text-gray-400 border border-gray-200 dark:border-white/5",children:oe})},X.id)}return o.jsx("div",{className:`flex ${O(X.sender_id)?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] ${O(X.sender_id)?"order-2":"order-1"}`,children:[!O(X.sender_id)&&o.jsx("p",{className:"text-[10px] text-gray-400 mb-1 ml-1",children:Z(X.sender_id)}),o.jsxs("div",{className:`p-3 rounded-2xl text-sm ${O(X.sender_id)?"bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-br-md":"bg-gray-100 dark:bg-white/10 text-gray-900 dark:text-white rounded-bl-md"}`,children:[o.jsx("p",{className:"break-words",children:X.content}),o.jsx("p",{className:`text-[9px] mt-1 ${O(X.sender_id)?"text-white/70":"text-gray-400"}`,children:Y(X.created_at)})]})]})},X.id)}),o.jsx("div",{ref:R})]}),o.jsxs("form",{onSubmit:ce,className:"p-4 border-t border-gray-100 dark:border-white/10 relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>F(!S),className:"w-12 h-12 rounded-2xl flex items-center justify-center text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 transition-all",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("input",{type:"text",value:g,onChange:X=>p(X.target.value),placeholder:"...",className:"flex-1 px-4 py-3 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-2xl text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all"}),o.jsx("button",{type:"submit",disabled:!g.trim(),className:"w-12 h-12 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] rounded-2xl flex items-center justify-center text-white disabled:opacity-50 hover:scale-105 transition-transform",children:o.jsx(ie,{name:"plus",size:18,className:"rotate-45"})})]}),S&&o.jsx("div",{className:"absolute bottom-20 right-4 bg-white dark:bg-[#1E293B] rounded-2xl shadow-2xl border border-gray-100 dark:border-white/10 p-4 w-64 max-h-48 overflow-y-auto z-50",children:o.jsx("div",{className:"grid grid-cols-8 gap-1",children:Mj.map(X=>o.jsx("button",{type:"button",onClick:()=>{p(oe=>oe+X),F(!1)},className:"w-8 h-8 flex items-center justify-center text-2xl hover:bg-gray-100 rounded-lg transition-colors",children:X},X))})})]})]})]}):null}function Lj({activeTab:i,onChangeTab:n,isAdmin:r}){const l=[{id:"dashboard",label:"",icon:"home"},{id:"earn",label:"",icon:"plus"},{id:"redeem",label:"",icon:"reward"},{id:"history",label:"",icon:"history"},{id:"achievements",label:"",icon:"reward"},...r?[{id:"settings",label:"",icon:"settings"}]:[]];return o.jsx("nav",{className:"fixed bottom-3 left-0 right-0 z-40 mx-auto w-full max-w-lg px-3 lg:hidden",children:o.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-2xl border border-white/40 dark:border-white/10 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.3)] rounded-[32px] p-2 flex items-stretch gap-1",children:l.map(c=>{const d=i===c.id;return o.jsxs("button",{onClick:()=>n(c.id),className:`flex-1 flex flex-col items-center justify-center gap-1 py-3 rounded-2xl transition-all duration-300 ${d?"bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] text-white shadow-lg shadow-[#FF4D94]/30 scale-[1.05] -translate-y-1":"text-gray-400 dark:text-gray-500 hover:text-[#FF4D94] hover:bg-white/50 dark:hover:bg-white/5"}`,children:[o.jsx(ie,{name:c.icon,size:22}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:c.label})]},c.id)})})})}function Ed({open:i,onClose:n}){const[r,l]=_.useState(""),[c,d]=_.useState(""),[f,m]=_.useState(!1),[g,p]=_.useState(""),[y,b]=_.useState(""),j=async w=>{if(w.preventDefault(),p(""),b(""),!r.trim()||!c.trim())return b("");if(r!==c)return b("");if(r.length<6)return b(" 6 ");m(!0);try{const{error:E}=await pe.auth.updateUser({password:r});if(E)throw E;p(""),setTimeout(()=>n(),800)}catch(E){b((E==null?void 0:E.message)||"")}finally{m(!1)}};return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:n}),o.jsxs("div",{className:"modal-content animate-zoom-in no-scrollbar max-w-md !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[11px] font-black uppercase text-[#FF4D94] tracking-[0.4em]",children:"Reset Password"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:""})]}),o.jsxs("form",{onSubmit:j,className:"space-y-5",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Password"}),o.jsx("input",{type:"password",value:r,onChange:w=>l(w.target.value),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner",placeholder:" 6 ",disabled:f})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Verify"}),o.jsx("input",{type:"password",value:c,onChange:w=>d(w.target.value),className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner",placeholder:"",disabled:f})]}),g&&o.jsx("div",{className:"text-xs font-black text-emerald-600 bg-emerald-50 dark:bg-emerald-500/10 border border-emerald-100 dark:border-emerald-500/20 px-4 py-3 rounded-2xl animate-in slide-in-from-top-2",children:g}),y&&o.jsxs("div",{className:"text-xs font-black text-rose-600 bg-rose-50 dark:bg-rose-500/10 border border-rose-100 dark:border-rose-500/20 px-4 py-3 rounded-2xl animate-in slide-in-from-top-2",children:[" ",y]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:n,disabled:f,className:"flex-1 py-4 bg-gray-100 dark:bg-white/5 text-gray-400 font-black uppercase text-[11px] tracking-widest rounded-[20px] hover:bg-gray-200 transition-all",children:""}),o.jsx("button",{type:"submit",disabled:f,className:"flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white font-black uppercase text-[11px] tracking-[0.3em] rounded-[20px] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-60",children:f?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):""})]})]})]})]}):null}const Gu=()=>{const[i,n]=_.useState("password"),[r,l]=_.useState(""),[c,d]=_.useState(""),[f,m]=_.useState(!1),[g,p]=_.useState(""),[y,b]=_.useState(""),[j,w]=_.useState(!1),[E,k]=_.useState(!1),[S,F]=_.useState(""),[q,R]=_.useState(!1),[re,ce]=_.useState(""),[Y,Z]=_.useState(""),O=()=>{p(""),b("")},W=async ue=>{var J;ue.preventDefault(),O();const we=r.trim(),z=c.trim();if(!we||!z){b("");return}m(!0);try{const{data:ee,error:ge}=await pe.auth.signInWithPassword({email:we,password:z});if(ge){(J=ge.message)!=null&&J.includes("Invalid login credentials")?b(""):b(ge.message);return}ee!=null&&ee.session&&p("...")}catch(ee){b((ee==null?void 0:ee.message)||"")}finally{m(!1)}},X=async()=>{O();const ue=r.trim(),we=c.trim();if(!ue||!we){b("");return}m(!0);try{const{error:z}=await pe.auth.signUp({email:ue,password:we,options:{emailRedirectTo:Tu}});if(z)throw z;p("")}catch(z){b((z==null?void 0:z.message)||"")}finally{m(!1)}},oe=async ue=>{ue.preventDefault(),O();const we=r.trim();if(!we){b("");return}m(!0);try{const{error:z}=await pe.auth.signInWithOtp({email:we,options:{emailRedirectTo:Tu}});if(z)throw z;p("")}catch(z){b((z==null?void 0:z.message)||"")}finally{m(!1)}},de=()=>{F(r.trim()),ce(""),Z(""),k(!0)},me=async()=>{ce(""),Z("");const ue=S.trim();if(!ue){Z("");return}R(!0);try{const{error:we}=await pe.auth.resetPasswordForEmail(ue,{redirectTo:Tu});if(we)throw we;ce("")}catch(we){Z((we==null?void 0:we.message)||"")}finally{R(!1)}};return _.useEffect(()=>{const ue=window.location.hash.startsWith("#")?window.location.hash.slice(1):"",we=new URLSearchParams(ue),z=we.get("type"),J=we.get("access_token"),ee=we.get("refresh_token");if(z==="recovery"&&J&&ee){pe.auth.setSession({access_token:J,refresh_token:ee}),w(!0);const Se=window.location.origin+window.location.pathname+window.location.search;window.history.replaceState({},document.title,Se)}const{data:ge}=pe.auth.onAuthStateChange(Se=>{Se==="PASSWORD_RECOVERY"&&w(!0)});return()=>{var Se;return(Se=ge.subscription)==null?void 0:Se.unsubscribe()}},[]),o.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#FDFCFD] dark:bg-[#0F172A] px-6 py-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#FF4D94]/10 blur-[120px] rounded-full animate-pulse"}),o.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#7C4DFF]/10 blur-[100px] rounded-full animate-pulse duration-[4000ms]"}),o.jsxs("div",{className:"w-full max-w-[420px] bg-white/70 dark:bg-[#1E293B]/70 backdrop-blur-3xl rounded-[48px] shadow-[0_32px_80px_-16px_rgba(0,0,0,0.1)] dark:shadow-[0_32px_100px_-20px_rgba(0,0,0,0.5)] border border-white/50 dark:border-white/5 p-8 lg:p-10 space-y-6 animate-in fade-in zoom-in-95 duration-700 relative z-10",children:[o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] rounded-[22px] flex items-center justify-center mx-auto mb-4 shadow-xl shadow-[#FF4D94]/20 rotate-3 hover:rotate-0 transition-all duration-500 group",children:o.jsx("svg",{className:"w-8 h-8 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2L1 12h3v9h6v-6h4v6h6v-9h3L12 2z"})})}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-[#FF4D94]/80",children:"System Portal"}),o.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-[12px] font-bold text-gray-400 dark:text-gray-500 leading-snug px-4",children:""})]}),o.jsxs("div",{className:"flex gap-1.5 p-1 bg-gray-50 dark:bg-white/5 rounded-[20px] text-[10px] font-black uppercase tracking-widest",children:[o.jsx("button",{className:`flex-1 py-3 rounded-[16px] transition-all duration-300 ${i==="password"?"bg-white dark:bg-white/10 shadow-sm text-gray-900 dark:text-white":"text-gray-400 hover:text-gray-600"}`,onClick:()=>{n("password"),O()},children:" / "}),o.jsx("button",{className:`flex-1 py-3 rounded-[16px] transition-all duration-300 ${i==="magic"?"bg-white dark:bg-white/10 shadow-sm text-gray-900 dark:text-white":"text-gray-400 hover:text-gray-600"}`,onClick:()=>{n("magic"),O()},children:""})]}),i==="password"?o.jsxs("form",{onSubmit:W,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[9px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Account"}),o.jsx("input",{type:"email",className:"w-full px-7 py-4 bg-gray-50/50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[22px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"you@example.com",value:r,onChange:ue=>l(ue.target.value),disabled:f,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[9px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Password"}),o.jsx("input",{type:"password",className:"w-full px-7 py-4 bg-gray-50/50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[22px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"",value:c,onChange:ue=>d(ue.target.value),disabled:f,autoComplete:"current-password"})]}),o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",disabled:f,className:"flex-[1.8] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.25em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-3 disabled:opacity-80",children:f?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):""}),o.jsx("button",{type:"button",disabled:f,onClick:X,className:"flex-1 py-4 bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 text-gray-900 dark:text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.2em] hover:bg-gray-50 dark:hover:bg-white/10 transition-all shadow-sm",children:""})]}),o.jsx("button",{type:"button",disabled:f,onClick:de,className:"w-full py-2 text-[9px] font-black uppercase tracking-[0.25em] text-gray-400 dark:text-gray-500 hover:text-[#7C4DFF] transition-colors",children:""})]})]}):o.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[9px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Verify Email"}),o.jsx("input",{type:"email",className:"w-full px-7 py-4 bg-gray-50/50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[22px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"you@example.com",value:r,onChange:ue=>l(ue.target.value),disabled:f})]}),o.jsx("button",{type:"submit",disabled:f,className:"w-full py-4 bg-gradient-to-r from-[#7C4DFF] to-[#9E7AFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.25em] shadow-[0_12px_24px_-8px_rgba(124,77,255,0.4)] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-3 disabled:opacity-80",children:f?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):""})]}),(g||y)&&o.jsx("div",{className:`p-4 rounded-[22px] border animate-in slide-in-from-top-2 duration-500 ${g?"bg-emerald-50/80 dark:bg-emerald-500/10 border-emerald-100 dark:border-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-rose-50/80 dark:bg-rose-500/10 border-rose-100 dark:border-rose-500/20 text-rose-600 dark:text-rose-400"}`,children:o.jsxs("p",{className:"text-[11px] font-black leading-relaxed flex items-center justify-center gap-2",children:[o.jsx("span",{children:g?"":""}),g||y]})}),o.jsx("div",{className:"pt-2 text-center",children:o.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest flex items-center justify-center gap-3 opacity-60",children:[o.jsx("span",{className:"w-6 h-px bg-gray-200 dark:bg-white/10"}),"Secure Protection by Supabase",o.jsx("span",{className:"w-6 h-px bg-gray-200 dark:bg-white/10"})]})})]}),o.jsx(Ed,{open:j,onClose:()=>w(!1)}),E&&o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:()=>k(!1)}),o.jsxs("div",{className:"modal-content animate-zoom-in no-scrollbar max-w-[420px] !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx("p",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-[0.4em] mb-1",children:"Reset Portal"}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:""})]}),o.jsxs("div",{className:"space-y-5 mt-2",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Email"}),o.jsx("input",{type:"email",value:S,onChange:ue=>F(ue.target.value),className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] focus:bg-white dark:focus:bg-gray-800 transition-all shadow-inner",placeholder:"you@example.com",disabled:q})]}),(re||Y)&&o.jsx("div",{className:`p-4 rounded-[24px] border animate-in slide-in-from-top-2 ${re?"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-100 dark:border-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-rose-50 dark:bg-rose-500/10 border-rose-100 dark:border-rose-500/20 text-rose-600 dark:text-rose-400"}`,children:o.jsx("p",{className:"text-[11px] font-black leading-relaxed text-center",children:re||Y})}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:()=>k(!1),disabled:q,className:"flex-1 py-4 text-[11px] font-black uppercase tracking-[0.2em] text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 rounded-[20px] transition-all",children:""}),o.jsx("button",{onClick:me,disabled:q,className:"flex-[2] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] flex items-center justify-center gap-2 hover:scale-[1.02] active:scale-[0.98] transition-all",children:q?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):""})]})]})]})]})]})};function gg(){const[i,n]=_.useState(!1),[r,l]=_.useState(!1);return _.useEffect(()=>{const c=window.location.hash.startsWith("#")?window.location.hash.slice(1):"",d=new URLSearchParams(c),f=d.get("type"),m=d.get("access_token"),g=d.get("refresh_token");if(f==="recovery"&&m&&g){pe.auth.setSession({access_token:m,refresh_token:g}),l(!0);const y=window.location.origin+window.location.pathname+window.location.search;window.history.replaceState({},document.title,y)}const{data:p}=pe.auth.onAuthStateChange(y=>{y==="PASSWORD_RECOVERY"&&l(!0)});return n(!0),()=>{var y;return(y=p.subscription)==null?void 0:y.unsubscribe()}},[]),o.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#FDFCFD] dark:bg-[#0F172A] px-6 py-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-[#7C4DFF]/5 blur-[120px] rounded-full"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[50%] h-[50%] bg-[#FF4D94]/5 blur-[120px] rounded-full"}),o.jsxs("div",{className:"w-full max-w-[480px] bg-white/80 dark:bg-[#1E293B]/80 backdrop-blur-2xl rounded-[56px] shadow-[0_32px_80px_-16px_rgba(0,0,0,0.15)] dark:shadow-[0_32px_80px_-16px_rgba(0,0,0,0.4)] border border-white/80 dark:border-white/5 p-12 lg:p-16 text-center space-y-8 animate-in zoom-in-95 duration-700 relative z-10",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#7C4DFF] to-[#9E7AFF] rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#7C4DFF]/30 rotate-3 transition-transform hover:rotate-0 duration-500",children:o.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.5em] text-[#7C4DFF] mb-2",children:"Security Portal"}),o.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:""}),o.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 leading-relaxed px-4",children:""})]}),!i&&o.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-[#7C4DFF] border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"..."})]}),o.jsx(Ed,{open:r,onClose:()=>l(!1)}),!r&&i&&o.jsx("div",{className:"mt-8 p-8 rounded-[40px] bg-rose-50/50 dark:bg-rose-500/5 border border-dashed border-rose-200 dark:border-rose-500/20 text-rose-600 dark:text-rose-400 animate-in slide-in-from-top-4",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("p",{className:"text-sm font-black leading-tight",children:""}),o.jsxs("p",{className:"text-[11px] font-bold opacity-80 leading-relaxed",children:["",o.jsx("br",{}),""]}),o.jsx("a",{href:"/",className:"mt-4 px-8 py-3 bg-white dark:bg-white/10 rounded-full text-[10px] font-black uppercase tracking-[0.2em] shadow-sm hover:shadow-md transition-all",children:""})]})}),o.jsx("div",{className:"pt-8 text-center border-t border-gray-100 dark:border-white/5",children:o.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Family Points Bank  Security"})})]})]})}const Up=_.createContext(null);function $j(){if(typeof window>"u")return"light";const i=window.localStorage.getItem("fpb-theme");return i==="light"||i==="dark"?i:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Bj({children:i}){const[n,r]=_.useState($j);_.useEffect(()=>{const d=document.documentElement,f=document.body;d.setAttribute("data-theme",n),f.setAttribute("data-theme",n),d.classList.toggle("dark",n==="dark"),f.classList.toggle("dark",n==="dark"),window.localStorage.setItem("fpb-theme",n)},[n]),_.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),f=m=>{window.localStorage.getItem("fpb-theme")||r(m.matches?"dark":"light")};return d.addEventListener("change",f),()=>d.removeEventListener("change",f)},[]);const l=()=>r(d=>d==="light"?"dark":"light"),c=_.useMemo(()=>({theme:n,toggleTheme:l,setTheme:r}),[n]);return o.jsx(Up.Provider,{value:c,children:i})}function qj(){const i=_.useContext(Up);if(!i)throw new Error("useTheme must be used within ThemeProvider");return i}const pg={streak:"from-amber-400 to-orange-500",milestone:"from-blue-400 to-indigo-500",achievement:"from-emerald-400 to-green-500",special:"from-purple-400 to-pink-500"};function Hj({badges:i,compact:n=!1}){return i.length?n?o.jsxs("div",{className:"flex -space-x-2",children:[i.slice(0,3).map(r=>o.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${pg[r.type]} border-2 border-white dark:border-gray-900 flex items-center justify-center text-white text-xs font-black shadow-lg`,title:r.title,children:r.icon},r.id)),i.length>3&&o.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-900 flex items-center justify-center text-gray-600 dark:text-gray-300 text-[10px] font-black",children:["+",i.length-3]})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(r=>o.jsxs("div",{className:"group bg-white dark:bg-[#1E293B] p-4 rounded-2xl border border-gray-100 dark:border-white/5 hover:shadow-xl transition-all",children:[o.jsx("div",{className:`w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br ${pg[r.type]} flex items-center justify-center text-3xl shadow-lg group-hover:scale-110 transition-transform mb-3`,children:r.icon}),o.jsx("h4",{className:"text-sm font-black text-gray-900 dark:text-white text-center mb-1",children:r.title}),o.jsx("p",{className:"text-[10px] text-gray-400 text-center mb-2",children:r.description}),o.jsx("p",{className:"text-[9px] text-gray-400 text-center",children:new Date(r.earnedAt).toLocaleDateString("zh-CN")})]},r.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:[o.jsx(ie,{name:"reward",size:32,className:"mx-auto mb-2 opacity-30"}),o.jsx("p",{children:""})]})}function Vj({profile:i,familyId:n}){const[r,l]=_.useState([]),[c,d]=_.useState([]),[f,m]=_.useState(!0),[g,p]=_.useState("earned"),{showToast:y}=_r();_.useEffect(()=>{j()},[i.id]);const b=k=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(k),j=async()=>{m(!0);try{if(!b(i.id)){console.warn("Profile ID is not a valid UUID:",i.id),l([]),d([]),m(!1);return}const{data:k,error:S}=await pe.from("badges").select("*").eq("profile_id",i.id).order("earned_at",{ascending:!1});if(S)throw S;l((k||[]).map(R=>({id:R.id,type:R.type,title:R.title,description:R.description,icon:R.icon,earnedAt:new Date(R.earned_at).getTime(),condition:R.condition})));const{data:F,error:q}=await pe.rpc("get_available_badges",{p_profile_id:i.id});q?console.warn("Failed to load available badges:",q):d(F||[])}catch(k){console.error("Failed to load badges:",k),y({type:"error",title:""})}finally{m(!1)}},w=async()=>{if(!b(i.id)){y({type:"error",title:"",description:""});return}try{const{data:k,error:S}=await pe.rpc("grant_eligible_badges",{p_profile_id:i.id});if(S)throw S;const F=k||0;F>0?(y({type:"success",title:"",description:` ${F} `}),await j()):y({type:"info",title:""})}catch(k){y({type:"error",title:"",description:k.message})}},E=(k,S)=>Math.min(k/S*100,100);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:""}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[" ",r.length," "]})]}),o.jsxs("button",{onClick:w,className:"px-6 py-3 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-2xl text-sm font-bold hover:brightness-110 transition-all flex items-center gap-2 shadow-lg",children:[o.jsx(ie,{name:"reward",size:16}),""]})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"",value:r.length,icon:"reward",color:"text-[#FF4D94]"},{label:"",value:c.length,icon:"plus",color:"text-emerald-500"},{label:"",value:i.history.filter(k=>k.type==="earn").length>0?"7":"0",icon:"history",color:"text-amber-500"},{label:"",value:i.history.filter(k=>k.type==="earn").length,icon:"home",color:"text-indigo-500"}].map((k,S)=>o.jsxs("div",{className:"bg-white dark:bg-[#1E293B] p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:`${k.color}`,children:o.jsx(ie,{name:k.icon,size:20})}),o.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:k.label})]}),o.jsx("p",{className:`text-3xl font-black ${k.color}`,children:k.value})]},S))}),o.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[o.jsxs("button",{onClick:()=>p("earned"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${g==="earned"?"bg-white dark:bg-[#1E293B] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,children:[" (",r.length,")"]}),o.jsxs("button",{onClick:()=>p("available"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${g==="available"?"bg-white dark:bg-[#1E293B] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,children:[" (",c.length,")"]})]}),o.jsx("div",{className:"bg-white dark:bg-[#1E293B] rounded-2xl p-6 border border-gray-100 dark:border-white/5 min-h-[400px]",children:b(i.id)?f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-[#FF4D94] border-t-transparent rounded-full animate-spin"})}):g==="earned"?o.jsx(Hj,{badges:r}):o.jsx("div",{className:"space-y-4",children:c.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400",children:[o.jsx(ie,{name:"reward",size:48,className:"mx-auto mb-4 opacity-30"}),o.jsx("p",{className:"text-lg font-bold mb-2",children:""}),o.jsx("p",{className:"text-sm",children:""})]}):c.map((k,S)=>o.jsx("div",{className:"group bg-gray-50 dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10 hover:border-[#FF4D94]/50 transition-all",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-200 to-gray-300 dark:from-white/10 dark:to-white/5 flex items-center justify-center text-3xl group-hover:scale-110 transition-transform",children:k.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-black text-gray-900 dark:text-white",children:k.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:k.description})]}),o.jsx("span",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 rounded-full text-xs font-bold",children:k.badge_type==="streak"?"":k.badge_type==="milestone"?"":k.badge_type==="achievement"?"":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:["",k.progress," / ",k.requirement]}),o.jsxs("span",{className:"text-[#FF4D94] font-bold",children:[E(k.progress,k.requirement).toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] transition-all duration-500",style:{width:`${E(k.progress,k.requirement)}%`}})})]})]})]})},S))}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx(ie,{name:"settings",size:64,className:"mx-auto mb-4 opacity-20 text-gray-400"}),o.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:""}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md",children:""})]})})]})}function Gj({profileId:i,currentBalance:n}){const[r,l]=_.useState([]),[c,d]=_.useState(!0),[f,m]=_.useState(7),g=w=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(w);_.useEffect(()=>{g(i)?p():(d(!1),l([]))},[i,f]);const p=async()=>{d(!0);try{const{data:w,error:E}=await pe.rpc("predict_points_trend",{p_profile_id:i,p_days_ahead:f});if(E)throw E;l(w||[])}catch(w){console.error("Failed to load predictions:",w)}finally{d(!1)}},y=w=>{switch(w){case"":return"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10";case"":return"text-amber-500 bg-amber-50 dark:bg-amber-500/10";case"":return"text-rose-500 bg-rose-50 dark:bg-rose-500/10";default:return"text-gray-500 bg-gray-50 dark:bg-gray-500/10"}},b=Math.max(...r.map(w=>w.predicted_points),n),j=Math.min(...r.map(w=>w.predicted_points),n);return o.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-2xl p-6 border border-gray-100 dark:border-white/5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:""}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:""})]}),o.jsx("div",{className:"flex gap-2",children:[7,14,30].map(w=>o.jsxs("button",{onClick:()=>m(w),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${f===w?"bg-[#FF4D94] text-white":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200"}`,children:[w,""]},w))})]}),g(i)?c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-[#FF4D94] border-t-transparent rounded-full animate-spin"})}):r.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400",children:[o.jsx(ie,{name:"history",size:48,className:"mx-auto mb-4 opacity-30"}),o.jsx("p",{className:"text-lg font-bold mb-2",children:""}),o.jsx("p",{className:"text-sm",children:""})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative h-48 bg-gray-50 dark:bg-white/5 rounded-2xl p-4",children:[o.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",preserveAspectRatio:"none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"predictionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"#FF4D94",stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:"#FF4D94",stopOpacity:"0"})]})}),[0,25,50,75,100].map(w=>o.jsx("line",{x1:"0",y1:w,x2:"100",y2:w,stroke:"currentColor",strokeWidth:"0.2",className:"text-gray-200 dark:text-white/10",strokeDasharray:"2,2"},w)),o.jsx("line",{x1:"0",y1:100-(n-j)/(b-j)*100,x2:"100",y2:100-(n-j)/(b-j)*100,stroke:"#7C4DFF",strokeWidth:"0.5",strokeDasharray:"4,4"}),o.jsx("polyline",{points:r.map((w,E)=>{const k=E/(r.length-1)*100,S=100-(w.predicted_points-j)/(b-j)*100;return`${k},${S}`}).join(" "),fill:"none",stroke:"#FF4D94",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polygon",{points:`0,100 ${r.map((w,E)=>{const k=E/(r.length-1)*100,S=100-(w.predicted_points-j)/(b-j)*100;return`${k},${S}`}).join(" ")} 100,100`,fill:"url(#predictionGradient)"}),r.map((w,E)=>{const k=E/(r.length-1)*100,S=100-(w.predicted_points-j)/(b-j)*100;return o.jsx("circle",{cx:k,cy:S,r:"1.5",fill:"#FF4D94",className:"hover:r-2 transition-all"},E)})]}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-400 pr-2",children:[o.jsx("span",{children:Math.round(b)}),o.jsx("span",{children:Math.round((b+j)/2)}),o.jsx("span",{children:Math.round(j)})]})]}),o.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-[#7C4DFF]"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF4D94]"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""})]})]}),o.jsx("div",{className:"space-y-2",children:r.slice(0,5).map((w,E)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-xl hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#FF4D94] to-[#7C4DFF] flex items-center justify-center text-white text-xs font-black",children:E+1}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:new Date(w.date).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(w.date).toLocaleDateString("zh-CN",{weekday:"short"})})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${y(w.confidence)}`,children:[w.confidence,""]}),o.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white",children:Math.round(w.predicted_points)})]})]},E))}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100 dark:border-white/10",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:""}),o.jsx("p",{className:"text-xl font-black text-emerald-500",children:Math.round(b)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:""}),o.jsx("p",{className:"text-xl font-black text-rose-500",children:Math.round(j)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:""}),o.jsx("p",{className:"text-xl font-black text-[#FF4D94]",children:Math.round(r.reduce((w,E)=>w+E.predicted_points,0)/r.length)})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-gray-400",children:[o.jsx(ie,{name:"settings",size:48,className:"mx-auto mb-4 opacity-30"}),o.jsx("p",{className:"text-lg font-bold mb-2",children:""}),o.jsx("p",{className:"text-sm",children:""})]})]})}function Pj({open:i,onClose:n,currentProfile:r,profiles:l,onTransfer:c}){const[d,f]=_.useState(""),[m,g]=_.useState(1),[p,y]=_.useState(""),[b,j]=_.useState(!1),{showToast:w}=_r(),E=l.filter(S=>S.id!==r.id),k=async S=>{if(S.preventDefault(),!d){w({type:"error",title:""});return}if(m<=0){w({type:"error",title:"0"});return}if(m>r.balance){w({type:"error",title:"",description:`${r.balance}`});return}j(!0);try{await c(d,m,p.trim());const F=l.find(q=>q.id===d);w({type:"success",title:"",description:` ${F==null?void 0:F.name}  ${m} `}),f(""),g(1),y(""),n()}catch(F){w({type:"error",title:"",description:F.message})}finally{j(!1)}};return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:n}),o.jsxs("div",{className:"modal-content no-scrollbar max-w-md",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:""}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["",r.balance," "]})]}),o.jsx("button",{onClick:n,className:"w-10 h-10 rounded-xl hover:bg-gray-100 dark:hover:bg-white/5 flex items-center justify-center text-gray-400 transition-colors",children:o.jsx(ie,{name:"plus",size:20,className:"rotate-45"})})]}),o.jsxs("form",{onSubmit:k,className:"space-y-5",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Recipient"}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:E.map(S=>o.jsxs("button",{type:"button",onClick:()=>f(S.id),className:`flex items-center gap-4 p-4 rounded-[28px] border-2 transition-all ${d===S.id?"border-[#FF4D94] bg-[#FF4D94]/5 shadow-[0_8px_16px_-4px_rgba(255,77,148,0.2)]":"border-transparent bg-gray-50 dark:bg-white/5 hover:border-gray-200 dark:hover:border-white/10"}`,children:[o.jsx("div",{className:`w-12 h-12 rounded-2xl ${S.avatarColor} flex items-center justify-center text-white text-lg font-black shadow-sm ring-2 ring-white dark:ring-gray-800`,children:S.avatarUrl?o.jsx("img",{src:S.avatarUrl,alt:S.name,className:"w-full h-full rounded-2xl object-cover"}):S.name.slice(-1)}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:`text-base font-black ${d===S.id?"text-[#FF4D94]":"text-gray-900 dark:text-white"}`,children:S.name}),o.jsxs("p",{className:"text-[10px] uppercase font-black tracking-widest text-gray-400",children:["Balance: ",S.balance," Pts"]})]}),d===S.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-[#FF4D94] to-[#FF7AB8] flex items-center justify-center shadow-lg",children:o.jsx(ie,{name:"check",size:12,className:"text-white"})})]},S.id))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Amount"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"number",value:m,onChange:S=>g(Number(S.target.value)),min:1,max:r.balance,className:"w-full px-8 py-5 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-lg outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner"}),o.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>g(Math.min(50,r.balance)),className:"px-3 py-1.5 bg-white dark:bg-white/10 rounded-xl text-[10px] font-bold text-gray-500 shadow-sm hover:text-[#FF4D94] transition-all",children:"50"}),o.jsx("button",{type:"button",onClick:()=>g(r.balance),className:"px-3 py-1.5 bg-white dark:bg-white/10 rounded-xl text-[10px] font-bold text-gray-500 shadow-sm hover:text-[#FF4D94] transition-all",children:"MAX"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Memo"}),o.jsx("textarea",{value:p,onChange:S=>y(S.target.value),placeholder:"...",rows:2,maxLength:100,className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] text-sm font-medium outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all resize-none shadow-inner"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 rounded-[20px] text-[11px] font-black uppercase tracking-widest hover:bg-gray-200 transition-all",children:""}),o.jsxs("button",{type:"submit",disabled:b||!d||m<=0,className:"flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:[b?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),b?"...":""]})]})]})]})]}):null}function Yj({open:i,onClose:n,onSubmit:r}){const[l,c]=_.useState(""),[d,f]=_.useState(10),[m,g]=_.useState(""),[p,y]=_.useState(""),[b,j]=_.useState(!1),{showToast:w}=_r(),E=async S=>{if(S.preventDefault(),!l.trim()){w({type:"error",title:""});return}if(d<=0){w({type:"error",title:"0"});return}j(!0);try{await r(l.trim(),d,m,p||void 0),w({type:"success",title:"",description:""}),c(""),f(10),g(""),y(""),n()}catch(F){w({type:"error",title:"",description:F.message})}finally{j(!1)}},k=S=>{var R;const F=(R=S.target.files)==null?void 0:R[0];if(!F)return;const q=new FileReader;q.onloadend=()=>{y(q.result)},q.readAsDataURL(F)};return i?o.jsxs("div",{className:"modal-overlay",children:[o.jsx("div",{className:"modal-backdrop",onClick:n}),o.jsxs("div",{className:"modal-content no-scrollbar max-w-md !pb-10",children:[o.jsx("div",{className:"w-12 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full mx-auto mb-2 lg:hidden shrink-0"}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:""}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:""})]}),o.jsx("button",{onClick:n,className:"w-10 h-10 rounded-xl hover:bg-gray-100 dark:hover:bg-white/5 flex items-center justify-center text-gray-400 transition-colors",children:o.jsx(ie,{name:"plus",size:20,className:"rotate-45"})})]}),o.jsxs("form",{onSubmit:E,className:"space-y-5",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Title"}),o.jsx("input",{type:"text",value:l,onChange:S=>c(S.target.value),placeholder:"",className:"w-full px-6 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-bold text-sm outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner",maxLength:50})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Points"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"number",value:d,onChange:S=>f(Number(S.target.value)),min:1,max:1e4,className:"w-full px-8 py-4 bg-gray-50 dark:bg-white/5 border border-transparent dark:border-white/5 rounded-[24px] font-black text-xl points-font outline-none focus:ring-2 focus:ring-[#FF4D94] transition-all shadow-inner"}),o.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-[10px] font-black text-gray-300 uppercase tracking-widest pointer-events-none",children:"Pts"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"",label:"",icon:""},{id:"",label:"",icon:""}].map(S=>o.jsxs("button",{type:"button",onClick:()=>g(S.id),className:`py-4 px-6 rounded-[28px] border-2 transition-all flex flex-col items-center gap-2 ${m===S.id?"border-[#FF4D94] bg-[#FF4D94]/5 shadow-[0_8px_16px_-4px_rgba(255,77,148,0.2)]":"border-transparent bg-gray-50 dark:bg-white/5 hover:border-gray-200 dark:hover:border-white/10"}`,children:[o.jsx("span",{className:"text-2xl",children:S.icon}),o.jsx("span",{className:`text-[11px] font-black tracking-widest ${m===S.id?"text-[#FF4D94]":"text-gray-400 dark:text-gray-500"}`,children:S.label})]},S.id))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-[11px] font-black uppercase text-gray-400 dark:text-gray-500 ml-4 tracking-[0.2em]",children:" / Photo"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 dark:bg-white/5 border border-transparent dark:border-white/5 flex items-center justify-center overflow-hidden shrink-0 shadow-inner",children:p?o.jsx("img",{src:p,alt:"",className:"w-full h-full object-cover"}):o.jsx(ie,{name:"plus",size:24,className:"text-gray-300"})}),o.jsxs("label",{className:"flex-1 py-4 bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 rounded-[20px] text-[10px] font-black uppercase tracking-widest text-center cursor-pointer hover:border-[#FF4D94] transition-all flex items-center justify-center gap-2 text-gray-500",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"}),p?"":""]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 rounded-[20px] text-[11px] font-black uppercase tracking-widest hover:bg-gray-200 transition-all",children:""}),o.jsxs("button",{type:"submit",disabled:b,className:"flex-[1.5] py-4 bg-gradient-to-r from-[#FF4D94] to-[#7C4DFF] text-white rounded-[20px] text-[11px] font-black uppercase tracking-[0.3em] shadow-[0_12px_24px_-8px_rgba(255,77,148,0.4)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:[b?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(ie,{name:"check",size:16}),b?"...":""]})]})]})]})]}):null}function Ij({currentProfile:i,familyId:n}){const[r,l]=_.useState("badges"),c=[{id:"badges",label:"",icon:""},{id:"prediction",label:"",icon:""}];return o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-[32px] sm:rounded-[40px] bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-white/5 shadow-[0_20px_50px_-20px_rgba(0,0,0,0.1)] p-8 lg:p-10 mobile-card",children:[o.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-64 h-64 bg-gradient-to-br from-[#7C4DFF]/10 to-[#FF4D94]/10 blur-[60px] rounded-full"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FF4D94]/10 text-[#FF4D94] text-[10px] font-black uppercase tracking-[0.2em] mb-4",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF4D94] animate-pulse"}),""]}),o.jsx("h3",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-white leading-tight tracking-tight mb-2",children:""}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium max-w-lg tracking-wide",children:""})]}),o.jsx(js,{tabs:c,activeId:r,onChange:l,className:"mt-10"})]}),r==="badges"?o.jsx(Vj,{profile:i,familyId:n}):o.jsx(Gj,{profileId:i.id,currentBalance:i.balance})]})}function xg({onComplete:i,duration:n=3e3,message:r}){const[l,c]=_.useState(!0),[d,f]=_.useState(!1);return _.useEffect(()=>{if(n===0)return;const m=setTimeout(()=>{f(!0),setTimeout(()=>{c(!1),i==null||i()},1e3)},n);return()=>clearTimeout(m)},[i,n]),l?o.jsxs("div",{className:`fixed inset-0 z-[1000] flex flex-col items-center justify-center overflow-hidden transition-all duration-1000 ease-in-out bg-[#0F172A] ${d?"opacity-0 scale-125":"opacity-100 scale-100"}`,children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-[#FF4D94]/25 rounded-full blur-[140px] animate-mesh"}),o.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-[#7C4DFF]/25 rounded-full blur-[140px] animate-mesh",style:{animationDelay:"-3s"}}),o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-[0.03] pointer-events-none"}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-30 pointer-events-none",children:[o.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-[#FF4D94]/40 to-transparent absolute top-[25%] animate-pulse"}),o.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-[#7C4DFF]/40 to-transparent absolute top-[75%] animate-pulse",style:{animationDelay:"1s"}})]})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsxs("div",{className:"relative w-64 h-64 mb-6 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 border-[1.5px] border-[#FF4D94]/40 rounded-full animate-slow-spin shadow-[0_0_30px_rgba(255,77,148,0.2)]"}),o.jsx("div",{className:"absolute inset-4 border-[1.5px] border-[#7C4DFF]/50 rounded-full animate-slow-spin",style:{animationDirection:"reverse",animationDuration:"15s"}}),o.jsx("div",{className:"absolute inset-8 border-[0.5px] border-white/20 rounded-full animate-tech-pulse"}),o.jsx("div",{className:"absolute inset-0 animate-slow-spin",style:{animationDuration:"10s"},children:o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 text-2xl animate-bounce drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]",children:""})}),o.jsx("div",{className:"absolute inset-0 animate-slow-spin",style:{animationDuration:"14s",animationDirection:"reverse"},children:o.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 text-xl drop-shadow-[0_0_10px_rgba(255,77,148,0.5)]",children:""})}),o.jsx("div",{className:"absolute inset-0 animate-slow-spin",style:{animationDuration:"18s"},children:o.jsx("div",{className:"absolute left-[-10px] top-1/2 -translate-y-1/2 text-lg drop-shadow-[0_0_10px_rgba(124,77,255,0.5)]",children:""})}),o.jsxs("div",{className:"w-36 h-36 rounded-full bg-gradient-to-br from-white/10 to-transparent backdrop-blur-2xl border border-white/20 shadow-[0_0_60px_rgba(124,77,255,0.3)] flex flex-col items-center justify-center relative overflow-hidden group animate-neon",children:[o.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000 bg-gradient-to-tr from-[#FF4D94]/20 via-transparent to-[#7C4DFF]/20"}),o.jsx("span",{className:"text-6xl drop-shadow-[0_0_20px_rgba(255,77,148,0.6)] animate-bounce duration-[2500ms] relative z-10",children:""}),o.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center opacity-60",children:[o.jsx("span",{className:"text-[6px] font-black text-white tracking-[0.3em]",children:"SYSTEM_RUNNING"}),o.jsx("div",{className:"flex gap-1 mt-0.5",children:[1,2,3,4].map(m=>o.jsx("div",{className:"w-0.5 h-0.5 bg-emerald-400 rounded-full animate-pulse shadow-[0_0_5px_rgba(52,211,153,0.5)]",style:{animationDelay:`${m*.2}s`}},m))})]})]}),o.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-[#FF4D94]/60 rounded-tl-2xl shadow-[-5px_-5px_15px_rgba(255,77,148,0.2)]"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-[#7C4DFF]/60 rounded-br-2xl shadow-[5px_5px_15px_rgba(124,77,255,0.2)]"})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black text-[#FF4D94] uppercase tracking-[0.6em] animate-pulse",children:"Initializing System"}),o.jsxs("h1",{className:"text-5xl font-black tracking-[-0.05em] text-white drop-shadow-[0_0_30px_rgba(255,255,255,0.2)]",children:["",o.jsx("span",{className:"text-[#7C4DFF]",children:"."}),"io"]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsxs("div",{className:"px-5 py-2 rounded-full border border-white/10 bg-white/5 backdrop-blur-md relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 animate-shimmer opacity-30"}),o.jsx("p",{className:"text-[11px] font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#FF4D94] via-white to-[#7C4DFF] relative z-10 uppercase tracking-widest leading-none py-1",children:r||"Connecting to Grid..."})]}),o.jsxs("div",{className:"flex items-center gap-1.5 opacity-40 mt-2",children:[o.jsx("span",{className:"text-[7px] font-mono text-white tracking-widest",children:"DATA_SYNC: ACTIVE"}),o.jsx("div",{className:"w-1 h-1 bg-[#FF4D94] rounded-full animate-pulse"}),o.jsx("span",{className:"text-[7px] font-mono text-white tracking-widest",children:"SECURE_LINK: ENABLED"})]})]})]}),o.jsx("div",{className:"mt-12 flex gap-2",children:[0,1,2,3,4].map(m=>o.jsx("div",{className:"w-1 h-4 rounded-full bg-gradient-to-b from-[#FF4D94] to-[#7C4DFF] shadow-[0_0_10px_rgba(255,77,148,0.3)]",style:{animation:"tech-pulse 1.2s infinite ease-in-out",animationDelay:`${m*.1}s`}},m))})]})]}):null}function Kj(){return o.jsx(Bj,{children:o.jsx(bj,{children:o.jsx(Qj,{})})})}function Qj(){var va;const i=hd(),n=Ba(),r=Om("/:syncId/*"),l=Om("/:syncId"),c=r||l,d=(va=c==null?void 0:c.params)==null?void 0:va.syncId,f=d||"",[m,g]=_.useState({currentProfileId:ql[1].id,profiles:ql,tasks:Cu,rewards:Au,syncId:f}),[p,y]=_.useState(null),[b,j]=_.useState(!1),[w,E]=_.useState(!1),k=()=>d||m.syncId||"",S=async B=>{const $=k();if(!(!$||!$e))try{await pe.from("messages").insert({family_id:$,sender_id:$e.id,sender_name:$e.name,content:`[] ${B}`})}catch(V){console.error("Failed to send system notification:",V)}},[F,q]=_.useState(null),[R,re]=_.useState(null),[ce,Y]=_.useState(!1),[Z,O]=_.useState(!1),[W,X]=_.useState(!1),[oe,de]=_.useState(!0),[me,ue]=_.useState(!1),[we,z]=_.useState(!1),[J,ee]=_.useState(!1),[ge,Se]=_.useState(!1),[C,I]=_.useState(!1),[se,he]=_.useState("all"),[Ne,Ce]=_.useState("all"),[Re,ut]=_.useState(!1),[Xe,Aa]=_.useState(0),Je=_.useRef(null),{showToast:De,dismissToast:zt}=_r(),{theme:Gt,toggleTheme:Oa}=qj(),[qa,ga]=_.useState(null),Ha="fpb",pn=async B=>await(await fetch(B)).blob(),Et=async(B,$)=>{var G;const V=await pn(B),te=V.type||"image/png",ne=((G=te.split("/")[1])==null?void 0:G.split("+")[0])||"png",le=k()||"demo",xe=`${$}/${le}/${Date.now()}.${ne}`,{error:T}=await pe.storage.from(Ha).upload(xe,V,{upsert:!0,contentType:te,cacheControl:"3600"});if(T)throw T;const{data:ae}=pe.storage.from(Ha).getPublicUrl(xe);return ae.publicUrl},Da=(B,$)=>{if(!B.length)return"";if($&&B.some(te=>te.id===$))return $;const V=B.find(te=>te.role==="admin");return(V==null?void 0:V.id)??B[0].id},[pa,Tt]=_.useState(null);_.useEffect(()=>{pa&&De({type:"error",title:"",description:pa,duration:4500})},[pa,De]),_.useEffect(()=>{R&&ga(null)},[R]);const Be=(B,$)=>{console.warn(B,$),De({type:"error",title:B,description:($==null?void 0:$.message)||"",duration:3800})},kr=async B=>{var $,V,te;try{const{count:ne}=await pe.from("profiles").select("id",{count:"exact",head:!0}).eq("family_id",B);if((ne??0)>0)return;const le=(((V=($=p==null?void 0:p.user)==null?void 0:$.email)==null?void 0:V.split("@")[0])||"").slice(0,20),{data:xe}=await pe.from("profiles").insert([{family_id:B,name:le,balance:0,role:"admin",avatar_color:"bg-blue-600"}]).select(),T=(te=xe==null?void 0:xe[0])==null?void 0:te.id;await pe.from("tasks").insert(Cu.map(ae=>({family_id:B,category:ae.category,title:ae.title,description:ae.description,points:ae.points,frequency:ae.frequency}))),await pe.from("rewards").insert(Au.map(ae=>({family_id:B,title:ae.title,points:ae.points,type:ae.type,image_url:ae.imageUrl}))),T&&await pe.from("families").update({current_profile_id:T}).eq("id",B)}catch(ne){console.warn("Seed family failed",ne)}},xn=async B=>{var te;const $=B.user.id;let V=(d==null?void 0:d.trim())||"";if(V)await pe.from("family_members").upsert({family_id:V,user_id:$,role:"owner"},{onConflict:"family_id,user_id"});else{const{data:ne}=await pe.from("family_members").select("family_id, role, created_at").eq("user_id",$).order("created_at",{ascending:!0});ne!=null&&ne.length&&(V=ne[0].family_id)}if(!V){const{data:ne,error:le}=await pe.from("families").insert({name:`${((te=B.user.email)==null?void 0:te.split("@")[0])||""}`}).select().single();if(le||!(ne!=null&&ne.id))throw le||new Error("");V=ne.id}return await pe.from("family_members").upsert({family_id:V,user_id:$,role:"owner"},{onConflict:"family_id,user_id"}),await kr(V),V},Qn=async(B,$,V)=>{if(!B||!$.length)return;const te=new Date;te.setHours(0,0,0,0);const ne=te.getTime(),le="+1",xe=new Set((V||[]).filter(qe=>(qe==null?void 0:qe.title)===le&&(qe==null?void 0:qe.timestamp)&&new Date(qe.timestamp).getTime()>=ne).map(qe=>qe.profile_id)),T=$.filter(qe=>!xe.has(qe.id));if(!T.length)return;const ae=Date.now(),G=T.map((qe,wa)=>({family_id:B,profile_id:qe.id,title:le,points:1,type:"earn",timestamp:new Date(ae+wa).toISOString()})),ve=De({type:"loading",title:"...",duration:0});try{const{data:qe,error:wa}=await pe.from("transactions").insert(G).select();if(wa)throw wa;await Promise.all(T.map(aa=>pe.from("profiles").update({balance:aa.balance+1}).eq("id",aa.id).eq("family_id",B))),g(aa=>({...aa,profiles:aa.profiles.map(Ft=>{const ja=(qe||[]).find(it=>it.profile_id===Ft.id);if(!ja){const it=G.find(Ni=>Ni.profile_id===Ft.id);return it?{...Ft,balance:Ft.balance+1,history:[{id:`tx-${Date.now()}`,title:it.title,points:1,timestamp:Date.now(),type:"earn"},...Ft.history].slice(0,50)}:Ft}return{...Ft,balance:Ft.balance+1,history:[{id:ja.id,title:ja.title,points:1,timestamp:new Date(ja.timestamp).getTime(),type:"earn"},...Ft.history].slice(0,50)}})})),De({type:"success",title:" +1",description:` ${T.length} `})}catch(qe){Be("",qe)}finally{ve&&zt(ve)}},xa=async B=>{if(!(B==null?void 0:B.trim())){Tt(" Sync ID URL  /{syncId}/dashboard "),de(!1),ue(!1);return}ue(!0);try{const{data:V,error:te}=await pe.from("families").select(`
          id, name, current_profile_id,
          profiles (*),
          tasks (*),
          rewards (*),
          transactions (*, profile_id, family_id)
        `).eq("id",B).single();if(te||!V){Tt(" Sync ID");return}const ne=V.transactions||[],le=(V.profiles||[]).map(T=>{const ae=ne.filter(G=>G.profile_id===T.id).map(G=>({id:G.id,title:G.title,points:G.points,timestamp:G.timestamp?new Date(G.timestamp).getTime():Date.now(),type:G.type})).sort((G,ve)=>ve.timestamp-G.timestamp);return{...T,avatarColor:T.avatar_color||T.avatarColor,avatarUrl:T.avatar_url||T.avatarUrl||null,history:ae}}),xe={currentProfileId:Da(le,V.current_profile_id||m.currentProfileId),profiles:le,tasks:V.tasks||[],rewards:(V.rewards||[]).map(T=>({id:T.id,title:T.title,points:T.points,type:T.type,imageUrl:T.image_url,status:T.status,requestedBy:T.requested_by,requestedAt:T.requested_at?new Date(T.requested_at).getTime():void 0})),syncId:B};g(xe),Tt(null),await Qn(B,le,ne)}catch(V){console.warn("Sync failed",V),pa||Tt((V==null?void 0:V.message)||"")}finally{de(!1),setTimeout(()=>ue(!1),500)}},tt=async B=>{const $=B||k();await xa($)};_.useEffect(()=>{let B=!0,$=!1;const V=setTimeout(()=>{B&&!$&&(console.warn("INITIAL_SESSION event did not fire, forcing authReady"),j(!0),$=!0)},2e3),{data:te}=pe.auth.onAuthStateChange((le,xe)=>{B&&(y(xe),le==="INITIAL_SESSION"&&(j(!0),$=!0,clearTimeout(V),xe||de(!1)),le==="PASSWORD_RECOVERY"&&z(!0),le==="SIGNED_IN"&&I(!0),!xe&&$&&(Tt(null),de(!1),g(T=>({...T,syncId:f}))))});return(async()=>{const le=window.location.href;if(le.includes("code="))try{await pe.auth.exchangeCodeForSession(le);const xe=new URL(le);xe.searchParams.delete("code"),xe.searchParams.delete("token"),xe.searchParams.delete("type"),xe.hash&&(xe.hash=""),window.history.replaceState({},document.title,xe.toString()),setTimeout(()=>{B&&!$&&(j(!0),$=!0)},500)}catch(xe){console.warn("exchangeCodeForSession failed",xe)}})(),()=>{var le;B=!1,clearTimeout(V),(le=te==null?void 0:te.subscription)==null||le.unsubscribe()}},[]),_.useEffect(()=>{if(!b||!p)return;let B=!1;return(async()=>{E(!0),de(!0);try{const $=await xn(p);if(B)return;g(ne=>({...ne,syncId:$})),n.pathname.split("/").filter(Boolean)[0]!==$&&i(`/${$}/dashboard`,{replace:!0}),await xa($)}catch($){B||Tt(($==null?void 0:$.message)||"")}finally{B||E(!1)}})(),()=>{B=!0}},[p,b,d]);const $e=_.useMemo(()=>{const B=m.profiles.find($=>$.id===m.currentProfileId);return B||{id:"guest",name:"",balance:0,history:[],avatarColor:"bg-gray-200",role:"child"}},[m.profiles,m.currentProfileId]),dt=_.useMemo(()=>!$e||$e.id==="guest"?!1:$e.role==="admin",[$e]),Va={dashboard:"dashboard",earn:"earn",redeem:"redeem",history:"history",settings:"settings",achievements:"achievements"},Ct=_.useMemo(()=>{const $=n.pathname.split("/").filter(Boolean)[1];return Va[$]||"dashboard"},[n.pathname]);_.useEffect(()=>{!dt&&Ct==="settings"&&i(`/${k()}/dashboard`,{replace:!0})},[dt,Ct,i,d,m.syncId]);const We=async B=>{g({...B,lastSyncedAt:Date.now()})},At=async()=>{if(!R||Z)return;ga(null);const{title:B,points:$,type:V}=R;if(V==="redeem"&&$e.balance<Math.abs($)){const G="";ga(G),De({type:"error",title:G,description:""});return}O(!0);const ne={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tx-${Date.now()}`,title:B,points:$,timestamp:Date.now(),type:V},le={...m,profiles:m.profiles.map(G=>G.id===m.currentProfileId?{...G,balance:G.balance+$,history:[ne,...G.history].slice(0,50)}:G)};g(le);const xe=k(),T=De({type:"loading",title:"...",duration:0});let ae=!1;try{const{data:G,error:ve}=await pe.from("transactions").insert({family_id:xe,profile_id:m.currentProfileId,title:B,points:$,type:V,timestamp:new Date(ne.timestamp).toISOString()}).select().single();if(ve)throw ve;const{error:qe}=await pe.from("profiles").update({balance:$e.balance+$}).eq("id",m.currentProfileId);if(qe)throw qe;G&&await tt(xe),ae=!0,De({type:"success",title:"",description:`${B}${$>0?"+":""}${$} `})}catch(G){Be("",G)}finally{T&&zt(T),O(!1),re(null)}await We(le),ae||De({type:"info",title:"",description:""})},wt=async B=>{if(!dt||!B.length)return!1;const $=k(),V=m.currentProfileId,te=m.profiles.find(G=>G.id===V);if(!$||!te)return!1;const ne=te.history.filter(G=>B.includes(G.id));if(!ne.length)return!1;const le=ne.reduce((G,ve)=>G+ve.points,0),xe=te.balance-le,T={...m,profiles:m.profiles.map(G=>G.id===V?{...G,balance:xe,history:G.history.filter(ve=>!B.includes(ve.id))}:G)};g(T);const ae=De({type:"loading",title:"...",duration:0});try{const{error:G}=await pe.from("transactions").delete().eq("family_id",$).in("id",B);if(G)throw G;const{error:ve}=await pe.from("profiles").update({balance:xe}).eq("id",V).eq("family_id",$);if(ve)throw ve;return await tt($),De({type:"success",title:"",description:` ${ne.length} `}),!0}catch(G){return Be("",G),await tt($),!1}finally{ae&&zt(ae),await We(T)}},Ga=async(B,$)=>{if(!dt)return;const V=k(),te=m.profiles.find(G=>G.id===B);if(!V||!te)return;const ne=$.type==="penalty"?-Math.abs($.points):Math.abs($.points),xe={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tx-${Date.now()}`,title:$.title,points:ne,timestamp:Date.now(),type:$.type},T={...m,profiles:m.profiles.map(G=>G.id===B?{...G,balance:G.balance+ne,history:[xe,...G.history].slice(0,50)}:G)};g(T);const ae=De({type:"loading",title:"...",duration:0});try{const{error:G}=await pe.from("transactions").insert({family_id:V,profile_id:B,title:xe.title,points:xe.points,type:xe.type,timestamp:new Date(xe.timestamp).toISOString()});if(G)throw G;const{error:ve}=await pe.from("profiles").update({balance:te.balance+ne}).eq("id",B).eq("family_id",V);if(ve)throw ve;await tt(V),De({type:"success",title:"",description:`${te.name}: ${ne>0?"+":""}${ne}`})}catch(G){Be("",G),await tt(V)}finally{ae&&zt(ae),await We(T)}},Pa=async(B,$,V)=>{if(!dt||$==="save"&&ce)return;$==="save"&&Y(!0);const te=k();let ne={...m},le=!1;const xe=B==="task"?"":"";try{if(B==="task")if($==="save"){V.imageUrl&&typeof V.imageUrl=="string"&&V.imageUrl.startsWith("data:")&&(V.imageUrl=await Et(V.imageUrl,"tasks"));const T=m.tasks.find(G=>G.id===V.id),ae={...V,id:V.id||void 0,family_id:te};if(T){const{error:G}=await pe.from("tasks").update(ae).eq("id",V.id);if(G)throw G;await S(`${$e.name} ${V.title}`)}else{const{data:G,error:ve}=await pe.from("tasks").insert(ae).select().single();if(ve)throw ve;V=G,await S(`${$e.name} ${V.title}+${V.points}`)}await tt(te),q(null),le=!0,De({type:"success",title:"",description:V.title||""});return}else await pe.from("tasks").delete().eq("id",V.id),ne.tasks=m.tasks.filter(T=>T.id!==V.id),le=!0;else if(B==="reward")if($==="save"){V.imageUrl&&typeof V.imageUrl=="string"&&V.imageUrl.startsWith("data:")&&(V.imageUrl=await Et(V.imageUrl,"rewards"));const T=m.rewards.find(G=>G.id===V.id),ae={...V,id:V.id||void 0,family_id:te};if(T){const{error:G}=await pe.from("rewards").update(ae).eq("id",V.id);if(G)throw G;await S(`${$e.name} ${V.title}`)}else{const{data:G,error:ve}=await pe.from("rewards").insert(ae).select().single();if(ve)throw ve;V=G,await S(`${$e.name} ${V.title}${V.points}`)}await tt(te),q(null),le=!0,De({type:"success",title:"",description:V.title||""});return}else await pe.from("rewards").delete().eq("id",V.id),ne.rewards=m.rewards.filter(T=>T.id!==V.id),le=!0}catch(T){Be(`${xe}${$==="save"?"":""}`,T)}finally{$==="save"&&Y(!1)}le&&$==="delete"&&(g(ne),await We(ne),await tt(te),De({type:"success",title:`${xe}`}))},yn=["bg-blue-600","bg-pink-500","bg-purple-500","bg-amber-500","bg-emerald-500","bg-indigo-500"],Ra=async(B,$)=>{if(!dt)return;const V={...m,profiles:m.profiles.map(ne=>ne.id===B?{...ne,name:$}:ne)};g(V);const te=k();try{const{error:ne}=await pe.from("profiles").update({name:$}).eq("id",B).eq("family_id",te);if(ne)throw ne;await tt(te),De({type:"success",title:""})}catch(ne){Be("",ne)}await We(V)},ta=async(B,$)=>{if(!dt)return;let V=$;try{$&&$.startsWith("data:")&&(V=await Et($,"avatars"))}catch(le){Be("",le);return}const te={...m,profiles:m.profiles.map(le=>le.id===B?{...le,avatarUrl:V}:le)};g(te);const ne=k();try{const{error:le}=await pe.from("profiles").update({avatar_url:V}).eq("id",B).eq("family_id",ne);if(le)throw le;await tt(ne),De({type:"success",title:""})}catch(le){Be("",le)}await We(te)},ya=async(B,$,V,te)=>{if(!dt)return;const ne=B.trim();if(!ne)return;const le=k(),xe=Number.isFinite(V)?Number(V):0;let T=te||null;try{te&&te.startsWith("data:")&&(T=await Et(te,"avatars"))}catch(ve){Be("",ve);return}const ae={id:`p-${Date.now()}`,name:ne,balance:xe,history:[],avatarColor:yn[m.profiles.length%yn.length],avatarUrl:T,role:$},G={...m,profiles:[...m.profiles,ae]};g(G);try{const{data:ve,error:qe}=await pe.from("profiles").insert({family_id:le,name:ae.name,balance:ae.balance,role:ae.role,avatar_color:ae.avatarColor,avatar_url:T}).select().single();if(qe)throw qe;ve&&(await tt(le),await S(`${$e.name} ${ae.name}`)),De({type:"success",title:"",description:ae.name})}catch(ve){Be("",ve)}await We(G)},ba=async B=>{var T;if(!dt)return;const $=m.profiles.find(ae=>ae.id===B);if(!$)return;if(m.profiles.length<=1){De({type:"error",title:"",description:""});return}const V=m.profiles.filter(ae=>ae.role==="admin");if($.role==="admin"&&V.length<=1){De({type:"error",title:"",description:""});return}const te=m.profiles.filter(ae=>ae.id!==B),ne=m.currentProfileId===B?((T=te.find(ae=>ae.role==="admin"))==null?void 0:T.id)||te[0].id:m.currentProfileId,le={...m,profiles:te,currentProfileId:ne};g(le);const xe=k();try{await pe.from("profiles").delete().eq("id",B).eq("family_id",xe),await tt(xe),await S(`${$e.name} ${$.name}`),De({type:"success",title:"",description:$.name})}catch(ae){Be("",ae)}await We(le)},bn=B=>{X(!1),g($=>$.currentProfileId===B?$:{...$,currentProfileId:B})},Fa=async(B,$,V)=>{var le;const te=k();if(!te)return;const ne=De({type:"loading",title:"...",duration:0});try{const{error:xe}=await pe.from("transactions").insert([{family_id:te,profile_id:m.currentProfileId,title:` ${(le=m.profiles.find(ae=>ae.id===B))==null?void 0:le.name}`,points:-$,type:"transfer",from_profile_id:m.currentProfileId,to_profile_id:B,timestamp:new Date().toISOString()},{family_id:te,profile_id:B,title:` ${$e.name} `,points:$,type:"transfer",from_profile_id:m.currentProfileId,to_profile_id:B,timestamp:new Date().toISOString()}]);if(xe)throw xe;await pe.from("profiles").update({balance:$e.balance-$}).eq("id",m.currentProfileId).eq("family_id",te);const T=m.profiles.find(ae=>ae.id===B);T&&await pe.from("profiles").update({balance:T.balance+$}).eq("id",B).eq("family_id",te),await pe.from("transfer_logs").insert({family_id:te,from_profile_id:m.currentProfileId,to_profile_id:B,points:$,message:V}),await S(`${$e.name}  ${T==null?void 0:T.name}  ${$} ${V?`${V}`:""}`),await tt(te),De({type:"success",title:""})}catch(xe){Be("",xe)}finally{ne&&zt(ne)}},_s=async(B,$,V,te)=>{const ne=k();if(!ne)return;const le=De({type:"loading",title:"...",duration:0});try{const{error:xe}=await pe.from("rewards").insert({family_id:ne,title:B,points:$,type:V,image_url:te,status:"pending",requested_by:m.currentProfileId,requested_at:new Date().toISOString()});if(xe)throw xe;await S(`${$e.name} ${B}${$}`),await tt(ne),De({type:"success",title:"",description:""})}catch(xe){throw Be("",xe),xe}finally{le&&zt(le)}},Xn=async B=>{const $=k();if(!$)return;const V=De({type:"loading",title:"...",duration:0});try{const{error:te}=await pe.from("rewards").update({status:"active"}).eq("id",B).eq("family_id",$);if(te)throw te;const ne=m.rewards.find(le=>le.id===B);ne&&(await pe.from("wishlist_reviews").insert({reward_id:B,family_id:$,reviewer_id:m.currentProfileId,action:"approved"}),await S(`${ne.title}`)),await tt($),De({type:"success",title:"",description:""})}catch(te){Be("",te)}finally{V&&zt(V)}},vn=async B=>{const $=k();if(!$)return;const V=De({type:"loading",title:"...",duration:0});try{const{error:te}=await pe.from("rewards").update({status:"rejected"}).eq("id",B).eq("family_id",$);if(te)throw te;const ne=m.rewards.find(le=>le.id===B);ne&&(await pe.from("wishlist_reviews").insert({reward_id:B,family_id:$,reviewer_id:m.currentProfileId,action:"rejected"}),await S(`${ne.title}`)),await tt($),De({type:"success",title:"",description:""})}catch(te){Be("",te)}finally{V&&zt(V)}},Ya=B=>{var te;const $=(te=B.target.files)==null?void 0:te[0];if(!$||!F)return;const V=new FileReader;V.onloadend=()=>{q({...F,item:{...F.item,imageUrl:V.result}})},V.readAsDataURL($)},wn=_.useMemo(()=>{const B=[...m.tasks].sort(($,V)=>$.points-V.points);return se==="all"?B:B.filter($=>$.category===se)},[m.tasks,se]),Sr=_.useMemo(()=>{const B=[...m.rewards].sort(($,V)=>$.points-V.points);return Ne==="all"?B:B.filter($=>$.type===Ne)},[m.rewards,Ne]),Ia=B=>{const $=k();$&&i(`/${$}/${B}`)},jn=async()=>{de(!0);try{await pe.auth.signOut(),y(null),Tt(null),E(!1),ue(!1),g({currentProfileId:ql[1].id,profiles:ql,tasks:Cu,rewards:Au,syncId:""}),i("/",{replace:!0})}catch(B){Be("",B)}finally{de(!1)}},Rt=k();return b?p?o.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row transition-colors",style:{background:"var(--app-bg)",color:"var(--text-primary)"},children:[(C||oe||w||!Rt)&&o.jsx(xg,{duration:oe||w?0:2500,onComplete:()=>I(!1),message:oe||w?"...":""}),Rt&&o.jsxs(o.Fragment,{children:[pa&&o.jsxs("div",{className:"mx-3 sm:mx-0 mb-4 rounded-2xl bg-rose-50 dark:bg-rose-900/40 text-rose-700 dark:text-rose-100 border border-rose-100 dark:border-rose-800 px-4 py-3 flex items-start gap-3 mobile-card",children:[o.jsx("span",{className:"mt-0.5 text-base",children:""}),o.jsxs("div",{className:"text-sm leading-relaxed",children:[o.jsx("p",{className:"font-bold",children:""}),o.jsx("p",{className:"text-rose-600 dark:text-rose-100/80 break-words",children:pa})]})]}),o.jsx("div",{className:"hidden lg:block lg:sticky lg:top-0 lg:h-screen",children:o.jsx(dj,{activeTab:Ct,onChangeTab:Ia,isAdmin:dt})}),o.jsxs("main",{className:"flex-1 w-full lg:p-8 px-3 sm:px-4 pt-8 pb-28 lg:pt-5 lg:pb-10 overflow-y-auto no-scrollbar",children:[o.jsx(hj,{activeTab:Ct,currentProfile:$e,isAdmin:dt,theme:Gt,onToggleTheme:Oa,onPrint:()=>cg(m),onLogout:jn,onTransfer:()=>ee(!0),onWishlist:()=>Se(!0),onSwitchProfile:()=>X(!0),chatUnreadCount:Xe,onToggleChat:()=>ut(!Re)}),o.jsxs(ev,{children:[o.jsx(fa,{path:"/",element:Rt?o.jsx($l,{to:`/${Rt}/dashboard`,replace:!0}):o.jsx(Gu,{})}),o.jsx(fa,{path:"/reset",element:o.jsx(gg,{})}),o.jsx(fa,{path:"/:syncId",element:Rt?o.jsx($l,{to:`/${Rt}/dashboard`,replace:!0}):o.jsx(Gu,{})}),o.jsx(fa,{path:"/:syncId/dashboard",element:o.jsx(fj,{currentProfile:$e,profiles:m.profiles,onGoEarn:()=>Ia("earn"),onGoRedeem:()=>Ia("redeem")})}),o.jsx(fa,{path:"/:syncId/earn",element:o.jsx(mj,{tasks:m.tasks,onSelectTask:B=>re(B)})}),o.jsx(fa,{path:"/:syncId/redeem",element:o.jsx(gj,{rewards:m.rewards,balance:$e.balance,onRedeem:B=>re(B),isAdmin:dt,onApproveWishlist:Xn,onRejectWishlist:vn,profiles:m.profiles})}),o.jsx(fa,{path:"/:syncId/history",element:o.jsx(vj,{history:$e.history,isAdmin:dt,onDeleteTransactions:wt})}),o.jsx(fa,{path:"/:syncId/settings",element:dt?o.jsx(wj,{profiles:m.profiles,tasks:wn,rewards:Sr,taskFilter:se,rewardFilter:Ne,onTaskFilterChange:he,onRewardFilterChange:Ce,onEdit:B=>q(B),onDelete:(B,$)=>Pa(B,"delete",$),onSync:()=>tt(),onPrint:()=>cg(m),onProfileNameChange:(B,$)=>Ra(B,$),onUpdateProfileAvatar:(B,$)=>ta(B,$),onAddProfile:(B,$,V,te)=>ya(B,$,V,te),onDeleteProfile:B=>ba(B),onAdjustBalance:(B,$)=>Ga(B,$),isSyncing:me,currentSyncId:k(),currentProfileId:m.currentProfileId,onSendSystemNotification:S,onApproveWishlist:Xn,onRejectWishlist:vn}):o.jsx($l,{to:`/${k()}/dashboard`,replace:!0})}),o.jsx(fa,{path:"/:syncId/achievements",element:o.jsx(Ij,{currentProfile:$e,familyId:Rt})}),o.jsx(fa,{path:"/:syncId/doc",element:o.jsx(Sj,{})}),o.jsx(fa,{path:"*",element:o.jsx($l,{to:`/${k()}/dashboard`,replace:!0})})]})]}),o.jsx(Lj,{activeTab:Ct,onChangeTab:Ia,isAdmin:dt}),Rt&&o.jsx(zj,{currentProfile:$e,familyId:Rt,profiles:m.profiles,isOpen:Re,onClose:()=>ut(!1),onUnreadChange:Aa}),o.jsx(jj,{open:W,profiles:m.profiles,currentProfileId:m.currentProfileId,onSelect:B=>bn(B),onClose:()=>X(!1)}),F&&dt&&o.jsx(_j,{editingItem:F,onClose:()=>q(null),onSave:(B,$)=>Pa(B,"save",$),onUpdate:q,fileInputRef:Je,onImageChange:Ya,saving:ce}),o.jsx(kj,{pendingAction:R,error:qa,loading:Z,onCancel:()=>{ga(null),re(null)},onConfirm:At}),o.jsx(Ed,{open:we,onClose:()=>z(!1)}),o.jsx(Pj,{open:J,onClose:()=>ee(!1),currentProfile:$e,profiles:m.profiles,onTransfer:Fa}),o.jsx(Yj,{open:ge,onClose:()=>Se(!1),onSubmit:_s})]})]}):n.pathname.startsWith("/reset")?o.jsx(gg,{}):o.jsx(Gu,{}):o.jsx(xg,{duration:0,message:"..."})}const Mp=document.getElementById("root");if(!Mp)throw new Error("Could not find root element to mount to");const Xj=rb.createRoot(Mp);Xj.render(o.jsx(Xy.StrictMode,{children:o.jsx(kv,{children:o.jsx(Kj,{})})}));export{Nd as W};
